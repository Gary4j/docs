{"version":3,"file":"js/app.772b33d5.js","mappings":"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","sources":["webpack://organizer/./src/App.vue","webpack://organizer/./src/context/history.js","webpack://organizer/./src/context/EventEmitter.js","webpack://organizer/./src/context/index.js","webpack://organizer/./src/mock/mockLogicList.js","webpack://organizer/./src/components/LogicPanel.vue","webpack://organizer/./src/tool/propertyPanel/index.vue","webpack://organizer/./src/util/validate.js","webpack://organizer/./src/tool/propertyPanel/actionSetter.vue","webpack://organizer/./src/tool/propertyPanel/actionItem.vue","webpack://organizer/./src/tool/valueCollector/index.vue","webpack://organizer/./src/tool/valueCollector/optionValue.vue","webpack://organizer/src/tool/valueCollector/optionValue.vue","webpack://organizer/./src/tool/valueCollector/optionValue.vue?5265","webpack://organizer/./src/tool/valueCollector/optionValue.vue?9454","webpack://organizer/./src/tool/valueCollector/inputValue.vue","webpack://organizer/./src/util/dataType.js","webpack://organizer/src/tool/valueCollector/inputValue.vue","webpack://organizer/./src/tool/valueCollector/inputValue.vue?06c5","webpack://organizer/./src/tool/valueCollector/inputValue.vue?22ed","webpack://organizer/./src/tool/valueCollector/componentValue.vue","webpack://organizer/./src/util/constant.js","webpack://organizer/./src/util/node.js","webpack://organizer/src/tool/valueCollector/componentValue.vue","webpack://organizer/./src/tool/valueCollector/componentValue.vue?eda4","webpack://organizer/./src/tool/valueCollector/componentValue.vue?106a","webpack://organizer/./src/tool/valueCollector/dataSourceValue.vue","webpack://organizer/./src/tool/fieldSelector/index.vue","webpack://organizer/src/tool/fieldSelector/index.vue","webpack://organizer/./src/tool/fieldSelector/index.vue?5025","webpack://organizer/./src/tool/fieldSelector/index.vue?9ae4","webpack://organizer/src/tool/valueCollector/dataSourceValue.vue","webpack://organizer/./src/tool/valueCollector/dataSourceValue.vue?f363","webpack://organizer/./src/tool/valueCollector/dataSourceValue.vue?6299","webpack://organizer/./src/tool/valueCollector/dataConvertValue.vue","webpack://organizer/src/tool/valueCollector/dataConvertValue.vue","webpack://organizer/./src/tool/valueCollector/dataConvertValue.vue?4ca2","webpack://organizer/./src/tool/valueCollector/dataConvertValue.vue?0adc","webpack://organizer/./src/tool/valueCollector/componentPropValue.vue","webpack://organizer/src/tool/valueCollector/componentPropValue.vue","webpack://organizer/./src/tool/valueCollector/componentPropValue.vue?ac7b","webpack://organizer/./src/tool/valueCollector/componentPropValue.vue?eb0f","webpack://organizer/./src/tool/valueCollector/urlParamValue.vue","webpack://organizer/src/tool/valueCollector/urlParamValue.vue","webpack://organizer/./src/tool/valueCollector/urlParamValue.vue?1375","webpack://organizer/./src/tool/valueCollector/urlParamValue.vue?5ca2","webpack://organizer/./src/tool/valueCollector/initParamValue.vue","webpack://organizer/src/tool/valueCollector/initParamValue.vue","webpack://organizer/./src/tool/valueCollector/initParamValue.vue?f3a5","webpack://organizer/./src/tool/valueCollector/initParamValue.vue?f808","webpack://organizer/./src/util/typeMap.js","webpack://organizer/src/tool/valueCollector/index.vue","webpack://organizer/./src/tool/valueCollector/index.vue?1aca","webpack://organizer/./src/tool/valueCollector/index.vue?8c8f","webpack://organizer/src/tool/propertyPanel/actionItem.vue","webpack://organizer/./src/tool/propertyPanel/actionItem.vue?05ab","webpack://organizer/./src/tool/propertyPanel/actionItem.vue?0711","webpack://organizer/src/tool/propertyPanel/actionSetter.vue","webpack://organizer/./src/tool/propertyPanel/actionSetter.vue?c588","webpack://organizer/./src/tool/propertyPanel/actionSetter.vue?c169","webpack://organizer/./src/tool/propertyPanel/conditionSetter.vue","webpack://organizer/./src/tool/propertyPanel/conditionItem.vue","webpack://organizer/./src/util/expression.js","webpack://organizer/src/tool/propertyPanel/conditionItem.vue","webpack://organizer/./src/tool/propertyPanel/conditionItem.vue?e599","webpack://organizer/./src/tool/propertyPanel/conditionItem.vue?be27","webpack://organizer/src/tool/propertyPanel/conditionSetter.vue","webpack://organizer/./src/tool/propertyPanel/conditionSetter.vue?4daa","webpack://organizer/./src/tool/propertyPanel/conditionSetter.vue?9b03","webpack://organizer/./src/tool/propertyPanel/eventSetter.vue","webpack://organizer/src/tool/propertyPanel/eventSetter.vue","webpack://organizer/./src/tool/propertyPanel/eventSetter.vue?3de0","webpack://organizer/./src/tool/propertyPanel/eventSetter.vue?d549","webpack://organizer/./src/tool/propertyPanel/dsSetter.vue","webpack://organizer/./src/tool/paramCollector/index.vue","webpack://organizer/src/tool/paramCollector/index.vue","webpack://organizer/./src/tool/paramCollector/index.vue?2fc1","webpack://organizer/./src/tool/paramCollector/index.vue?3e8c","webpack://organizer/./src/tool/propertyPanel/curlImport.vue","webpack://organizer/src/tool/propertyPanel/curlImport.vue","webpack://organizer/./src/tool/propertyPanel/curlImport.vue?c067","webpack://organizer/./src/tool/propertyPanel/curlImport.vue?6d09","webpack://organizer/src/tool/propertyPanel/dsSetter.vue","webpack://organizer/./src/tool/propertyPanel/dsSetter.vue?876c","webpack://organizer/./src/tool/propertyPanel/dsSetter.vue?decb","webpack://organizer/./src/tool/propertyPanel/nameSetter.vue","webpack://organizer/src/tool/propertyPanel/nameSetter.vue","webpack://organizer/./src/tool/propertyPanel/nameSetter.vue?a2b1","webpack://organizer/./src/tool/propertyPanel/nameSetter.vue?1a61","webpack://organizer/./src/tool/propertyPanel/pageJumpSetter.vue","webpack://organizer/src/tool/propertyPanel/pageJumpSetter.vue","webpack://organizer/./src/tool/propertyPanel/pageJumpSetter.vue?0acb","webpack://organizer/./src/tool/propertyPanel/pageJumpSetter.vue?201b","webpack://organizer/./src/tool/propertyPanel/dcSetter.vue","webpack://organizer/src/tool/propertyPanel/dcSetter.vue","webpack://organizer/./src/tool/propertyPanel/dcSetter.vue?09f0","webpack://organizer/./src/tool/propertyPanel/dcSetter.vue?0096","webpack://organizer/src/tool/propertyPanel/index.vue","webpack://organizer/./src/tool/propertyPanel/index.vue?6e38","webpack://organizer/./src/tool/propertyPanel/index.vue?6cd5","webpack://organizer/./src/tool/insertMenu/index.vue","webpack://organizer/src/tool/insertMenu/index.vue","webpack://organizer/./src/tool/insertMenu/index.vue?4601","webpack://organizer/./src/tool/insertMenu/index.vue?0be0","webpack://organizer/./src/tool/toolbar/index.vue","webpack://organizer/src/tool/toolbar/index.vue","webpack://organizer/./src/tool/toolbar/index.vue?092a","webpack://organizer/./src/tool/toolbar/index.vue?2677","webpack://organizer/./src/node/logicLineNode.vue","webpack://organizer/src/node/logicLineNode.vue","webpack://organizer/./src/node/logicLineNode.vue?d370","webpack://organizer/./src/node/logicLineNode.vue?4e76","webpack://organizer/./src/util/edge.js","webpack://organizer/./src/node/logicLine.js","webpack://organizer/./src/node/baseNode.vue","webpack://organizer/./src/tool/abstractContent/index.vue","webpack://organizer/src/tool/abstractContent/index.vue","webpack://organizer/./src/tool/abstractContent/index.vue?9ac0","webpack://organizer/./src/tool/abstractContent/index.vue?1dba","webpack://organizer/src/node/baseNode.vue","webpack://organizer/./src/node/baseNode.vue?d2b6","webpack://organizer/./src/node/baseNode.vue?e97a","webpack://organizer/./src/node/base.js","webpack://organizer/./src/node/reaction.js","webpack://organizer/./src/node/common.js","webpack://organizer/./src/node/event.js","webpack://organizer/./src/util/index.js","webpack://organizer/./src/util/calculate.js","webpack://organizer/./src/util/layout.js","webpack://organizer/./src/util/graph.js","webpack://organizer/./src/tool/popover/popover.js","webpack://organizer/src/components/LogicPanel.vue","webpack://organizer/./src/components/LogicPanel.vue?148f","webpack://organizer/./src/components/LogicPanel.vue?f6e6","webpack://organizer/src/App.vue","webpack://organizer/./src/App.vue?0e0c","webpack://organizer/./src/App.vue?9c43","webpack://organizer/./src/main.js","webpack://organizer/webpack/bootstrap","webpack://organizer/webpack/runtime/amd options","webpack://organizer/webpack/runtime/chunk loaded","webpack://organizer/webpack/runtime/compat get default export","webpack://organizer/webpack/runtime/define property getters","webpack://organizer/webpack/runtime/global","webpack://organizer/webpack/runtime/hasOwnProperty shorthand","webpack://organizer/webpack/runtime/make namespace object","webpack://organizer/webpack/runtime/node module decorator","webpack://organizer/webpack/runtime/jsonp chunk loading","webpack://organizer/webpack/startup"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"id\":\"app\"}},[_c('div',{staticClass:\"organizer-panel-wrapper\"},[_c('el-container',{staticClass:\"organizer-container\"},[_c('logic-panel',{staticClass:\"logic-panel-wrapper\",attrs:{\"context\":_vm.context,\"info\":_vm.info}})],1)],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export default class History {\n  constructor(options) {\n    this.options = Object.assign(\n      {\n        limit: 10, // 最大记录10次\n        onChange: () => {}\n      },\n      options || {}\n    )\n\n    // 数据堆\n    this._stacks = []\n    // 指针位置\n    this._pointer = -1\n  }\n\n  get current() {\n    return this._stacks[this._pointer]\n  }\n\n  get canUndo() {\n    return this._pointer > 0\n  }\n\n  get canRedo() {\n    return this._pointer < this._stacks.length - 1\n  }\n\n  get count() {\n    return this._stacks.length\n  }\n\n  get stacks() {\n    return this._stacks\n  }\n\n  add(data) {\n    if (!this._stacks) {\n      return\n    }\n    // 应该删除指针之后的记录\n    this._stacks.splice(this._pointer + 1, this._stacks.length - this._pointer - 1)\n    if (this._stacks.length === this.options.limit) {\n      // 存储达到上限，删除第一个\n      this._stacks.shift()\n      this._pointer = this.options.limit - 1\n    } else {\n      this._pointer++\n    }\n    this._stacks.push(data)\n    this.options.onChange(this)\n    return this.current\n  }\n\n  undo() {\n    if (!this.canUndo) {\n      return\n    }\n    this._pointer--\n    this.options.onChange(this)\n    return this.current\n  }\n\n  redo() {\n    if (!this.canRedo) {\n      return\n    }\n    this._pointer++\n    this.options.onChange(this)\n    return this.current\n  }\n\n  destroy() {\n    this._stacks = null\n    this.options = null\n    this._pointer = null\n  }\n}\n","const WILDCARD = '*'\n\n/* event-emitter */\nclass EventEmitter {\n  constructor() {\n    this._events = {}\n  }\n\n  /**\n   * 监听事件\n   * @param evt\n   * @param callback\n   * @param once\n   */\n  on(evt, callback, once) {\n    const evts = evt.split(',')\n    evts.forEach((ev) => {\n      if (!this._events[ev]) {\n        this._events[ev] = []\n      }\n      this._events[ev].push({\n        callback,\n        once: !!once\n      })\n    })\n\n    return this\n  }\n\n  /**\n   * 监听一个事件一次\n   * @param evt\n   * @param callback\n   */\n  once(evt, callback) {\n    return this.on(evt, callback, true)\n  }\n\n  /**\n   * 触发一个事件\n   * @param evt\n   * @param args\n   */\n  emit(evt, eventArgs) {\n    const events = this._events[evt] || []\n    const wildcardEvents = this._events[WILDCARD] || []\n\n    // 实际的处理 emit 方法\n    const doEmit = (es) => {\n      let { length } = es\n      for (let i = 0; i < length; i++) {\n        if (!es[i]) {\n          // eslint-disable-next-line no-continue\n          continue\n        }\n        const { callback, once } = es[i]\n\n        if (once) {\n          es.splice(i, 1)\n\n          if (es.length === 0) {\n            delete this._events[evt]\n          }\n\n          length--\n          i--\n        }\n\n        callback.apply(this, [eventArgs])\n      }\n    }\n\n    doEmit(events)\n    doEmit(wildcardEvents)\n  }\n\n  /**\n   * 取消监听一个事件，或者一个channel\n   * @param evt\n   * @param callback\n   */\n  off(evt, callback) {\n    if (!evt) {\n      // evt 为空全部清除\n      this._events = {}\n    } else if (!callback) {\n      // evt 存在，callback 为空，清除事件所有方法\n      delete this._events[evt]\n    } else {\n      // evt 存在，callback 存在，清除匹配的\n      const events = this._events[evt] || []\n\n      let { length } = events\n      for (let i = 0; i < length; i++) {\n        if (events[i].callback === callback) {\n          events.splice(i, 1)\n          length--\n          i--\n        }\n      }\n\n      if (events.length === 0) {\n        delete this._events[evt]\n      }\n    }\n\n    return this\n  }\n\n  /* 当前所有的事件 */\n  getEvents() {\n    return this._events\n  }\n}\n\nexport { EventEmitter }\n","import History from './history';\nimport { EventEmitter } from './EventEmitter';\n\nexport default class Context {\n  constructor(options) {\n    this.eventCenter = new EventEmitter();\n    this.history = new History(); // 操作记录\n\n    this.logicList = options.logicList;\n  }\n}","export default {\n  logicList: [\n    {\n      nodes: [\n        {\n          id: \"init_1azos4vjtni8000\",\n          type: \"event-node\",\n          x: 100,\n          y: 80,\n          properties: {\n            componentId: \"page_init\",\n            componentName: \"pageInit\",\n            name: \"页面初始化\",\n          },\n        },\n        {\n          id: \"logic_98ujn64fwy00000\",\n          type: \"common-node\",\n          x: 260,\n          y: 80,\n          properties: {\n            type: \"dataSource\",\n            name: \"请求数据\",\n            componentName: \"dataSource\",\n          },\n        },\n        {\n          id: \"logic_d5nttghd60o0000\",\n          type: \"common-node\",\n          x: 420,\n          y: 80,\n          properties: {\n            type: \"pageJump\",\n            name: \"页面跳转\",\n            componentName: \"pageJump\",\n          },\n        },\n        {\n          id: \"logic_fsygrbs67t40000\",\n          type: \"common-node\",\n          x: 420,\n          y: 140,\n          properties: {\n            type: \"dataConvert\",\n            name: \"数据转换1\",\n            componentName: \"dataConvert\",\n            dc: {\n              convertList: [\n                {\n                  key: \"key1\",\n                  value: {\n                    type: \"dataConvert\",\n                    nodeId: \"logic_9v5h5c4ium80000\",\n                  },\n                },\n                { key: \"key2\" },\n                { key: \"key3\" },\n              ],\n              convertCode: \"return [1, 2, 3]\",\n            },\n          },\n        },\n        {\n          id: \"logic_9v5h5c4ium80000\",\n          type: \"common-node\",\n          x: 580,\n          y: 140,\n          properties: {\n            type: \"dataConvert\",\n            name: \"数据转换2\",\n            componentName: \"dataConvert\",\n            dc: { convertList: [], convertCode: \"return [3, 4, 5]\" },\n          },\n        },\n        {\n          id: \"logic_73gus8kpsgk0000\",\n          type: \"common-node\",\n          x: 260,\n          y: 140,\n          properties: {\n            type: \"dataConvert\",\n            name: \"数据转换\",\n            componentName: \"dataConvert\",\n            dc: {\n              convertList: [\n                {\n                  key: \"key1\",\n                  value: {\n                    type: \"componentProp\",\n                    prop: \"value\",\n                    field: \"\",\n                    componentId: \"InputNumber_azsj\",\n                    dataType: \"number\",\n                    componentName: \"数字输入框\",\n                    propName: \"当前值\",\n                  },\n                },\n                {\n                  key: \"key2\",\n                  value: {\n                    type: \"componentProp\",\n                    prop: \"value\",\n                    field: \"\",\n                    componentId: \"TimePicker_sxpq\",\n                    dataType: \"number\",\n                    componentName: \"时间选择器\",\n                    propName: \"值\",\n                  },\n                },\n                {\n                  key: \"\",\n                  value: { type: \"dataConvert\", dataType: \"string\" },\n                },\n              ],\n              convertCode:\n                \"const my_new_code_here = \\\"Blabla\\\"\\n\\nconsole.log('this.12123')\\n\\nreturn my_new_code_here\",\n            },\n          },\n        },\n      ],\n      edges: [\n        {\n          id: \"logic_582qup4obxg0000\",\n          type: \"logic-line\",\n          sourceNodeId: \"logic_fsygrbs67t40000\",\n          targetNodeId: \"logic_9v5h5c4ium80000\",\n          startPoint: { x: 470, y: 140 },\n          endPoint: { x: 530, y: 140 },\n          properties: {},\n          pointsList: [\n            { x: 470, y: 140 },\n            { x: 530, y: 140 },\n          ],\n        },\n        {\n          id: \"logic_3s6nbc92cx00000\",\n          type: \"logic-line\",\n          sourceNodeId: \"logic_98ujn64fwy00000\",\n          targetNodeId: \"logic_d5nttghd60o0000\",\n          startPoint: { x: 310, y: 80 },\n          endPoint: { x: 370, y: 80 },\n          properties: {},\n          pointsList: [\n            { x: 310, y: 80 },\n            { x: 370, y: 80 },\n          ],\n        },\n        {\n          id: \"logic_93xrjtjbzs40000\",\n          type: \"logic-line\",\n          sourceNodeId: \"logic_98ujn64fwy00000\",\n          targetNodeId: \"logic_fsygrbs67t40000\",\n          startPoint: { x: 310, y: 80 },\n          endPoint: { x: 370, y: 140 },\n          properties: {},\n          pointsList: [\n            { x: 310, y: 80 },\n            { x: 334, y: 80 },\n            { x: 334, y: 140 },\n            { x: 370, y: 140 },\n          ],\n        },\n        {\n          id: \"logic_fz4h8dc8yds0000\",\n          type: \"logic-line\",\n          sourceNodeId: \"init_1azos4vjtni8000\",\n          targetNodeId: \"logic_98ujn64fwy00000\",\n          startPoint: { x: 150, y: 80 },\n          endPoint: { x: 210, y: 80 },\n          properties: {},\n          pointsList: [\n            { x: 150, y: 80 },\n            { x: 210, y: 80 },\n          ],\n        },\n        {\n          id: \"logic_2zcnfddo2ng0000\",\n          type: \"logic-line\",\n          sourceNodeId: \"init_1azos4vjtni8000\",\n          targetNodeId: \"logic_73gus8kpsgk0000\",\n          startPoint: { x: 150, y: 80 },\n          endPoint: { x: 210, y: 140 },\n          properties: {},\n          pointsList: [\n            { x: 150, y: 80 },\n            { x: 174, y: 80 },\n            { x: 174, y: 140 },\n            { x: 210, y: 140 },\n          ],\n        },\n      ],\n    },\n  ],\n};\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"logic-panel\",attrs:{\"element-loading-text\":\"加载中...\",\"element-loading-spinner\":\"el-icon-loading\",\"element-loading-background\":\"rgba(255, 255, 255, 1)\"}},[_c('div',{ref:\"container\",staticClass:\"logic-container\"}),_c('toolbar',{attrs:{\"lf\":_vm.lf,\"graph\":_vm.graph}}),(_vm.lf)?_c('property-panel',{attrs:{\"lf\":_vm.lf,\"context\":_vm.context},on:{\"submit\":_vm.handleSubmit}}):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('el-drawer',{staticClass:\"properties-panel\",staticStyle:{\"position\":\"absolute\"},attrs:{\"modal\":false,\"append-to-body\":false,\"wrapperClosable\":true,\"destroy-on-close\":true,\"direction\":\"rtl\",\"width\":\"100%\",\"size\":500,\"visible\":_vm.showDrawer},on:{\"closeDrawer\":_vm.closeDrawer,\"update:visible\":function($event){_vm.showDrawer=$event}}},[(_vm.panelType !== 'condition')?_c('div',[_c('div',{staticClass:\"setter-title\"},[_vm._v(\"设置名称\")]),_c('name-setter',{on:{\"change\":_vm.handelNameChange},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}})],1):_vm._e(),(_vm.panelType === 'action')?_c('div',[_c('div',{staticClass:\"setter-title\"},[_vm._v(\"设置行为\")]),_c('action-setter',{attrs:{\"context\":_vm.context,\"current\":_vm.currentModel,\"lf\":_vm.lf},model:{value:(_vm.actions),callback:function ($$v) {_vm.actions=$$v},expression:\"actions\"}})],1):_vm._e(),(_vm.panelType === 'condition')?_c('div',[_c('div',{staticClass:\"setter-title\"},[_vm._v(\"设置条件\")]),_c('condition-setter',{ref:\"edgeProperties\",attrs:{\"context\":_vm.context,\"lf\":_vm.lf},model:{value:(_vm.condition),callback:function ($$v) {_vm.condition=$$v},expression:\"condition\"}})],1):_vm._e(),(_vm.panelType === 'event')?_c('div',[_c('div',{staticClass:\"setter-title\"},[_vm._v(\"设置事件\")]),_c('event-setter',{attrs:{\"context\":_vm.context,\"current\":_vm.currentModel,\"lf\":_vm.lf},model:{value:(_vm.event),callback:function ($$v) {_vm.event=$$v},expression:\"event\"}})],1):_vm._e(),(_vm.panelType === 'ds')?_c('div',[_c('div',{staticClass:\"setter-title\"},[_vm._v(\"设置请求\")]),_c('ds-setter',{attrs:{\"context\":_vm.context,\"current\":_vm.currentModel,\"lf\":_vm.lf},model:{value:(_vm.ds),callback:function ($$v) {_vm.ds=$$v},expression:\"ds\"}})],1):_vm._e(),(_vm.panelType === 'pageJump')?_c('div',[_c('div',{staticClass:\"setter-title\"},[_vm._v(\"设置跳转\")]),_c('page-jump-setter',{attrs:{\"lf\":_vm.lf,\"context\":_vm.context,\"current\":_vm.currentModel},model:{value:(_vm.pageJump),callback:function ($$v) {_vm.pageJump=$$v},expression:\"pageJump\"}})],1):_vm._e(),(_vm.panelType === 'dc')?_c('div',[_c('div',{staticClass:\"setter-title\"},[_vm._v(\"数据转换\")]),_c('dc-setter',{attrs:{\"lf\":_vm.lf,\"context\":_vm.context,\"current\":_vm.currentModel},model:{value:(_vm.dc),callback:function ($$v) {_vm.dc=$$v},expression:\"dc\"}})],1):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import * as esprima from 'esprima'\nimport * as acornWalk from 'acorn-walk'\n\nconst blacklist = new Set(['eval', 'setTimeout', 'setInterval', 'fetch', 'Image', 'XMLHttpRequest', 'ActiveXObject'])\n\nfunction hasBlacklist(node) {\n  if (node.type === 'Identifier') {\n    if (blacklist.has(node.name)) {\n      return true\n    }\n  }\n  return false\n}\n\nexport function validateCode(code) {\n  const ast = esprima.parse(code)\n  console.log('ast --->>>', ast)\n\n  let hasWindow = false\n  let hasDocument = false\n  let hasReturn = false\n\n  acornWalk.simple(ast, {\n    MemberExpression(node) {\n      if (node.object.name === 'window') {\n        hasWindow = true\n      } else if (node.object.name === 'document') {\n        hasDocument = true\n      }\n    },\n\n    CallExpression(node) {\n      if (hasBlacklist(node.callee)) {\n        throw new Error(`存在不允许的 API 调用：${node.callee.name}，请修改`)\n      }\n    },\n\n    ReturnStatement(node) {\n      hasReturn = true\n    }\n  })\n\n  if (hasWindow || hasDocument) {\n    throw new Error('不能使用 window 或 document 关键字')\n  }\n\n  if (!hasReturn) {\n    throw new Error('要求转换函数体必须包含 return 语句')\n  }\n  return hasReturn\n}\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"action-panel-wrapper\"},[_vm._l((_vm.actions),function(item,index){return _c('action-item',{key:index,staticClass:\"action-item\",attrs:{\"title\":`行为${index+1}`,\"value\":item,\"context\":_vm.context,\"current\":_vm.current,\"lf\":_vm.lf},on:{\"change\":function($event){return _vm.handleActionChange($event, index)},\"delete\":function($event){return _vm.handleActionDelete(index)}}})}),_c('el-link',{staticClass:\"add-button\",attrs:{\"type\":\"primary\",\"underline\":false},on:{\"click\":_vm.addAction}},[_c('i',{staticClass:\"el-icon-circle-plus-outline\"}),_vm._v(\" 添加行为 \")])],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"action-item-wrap\"},[_c('div',{staticClass:\"header\"},[_vm._v(\" \"+_vm._s(_vm.title)+\" \"),_c('span',{staticClass:\"delete\",staticStyle:{\"cursor\":\"pointer\"},on:{\"click\":_vm.handleDelete}},[_c('i',{staticClass:\"el-icon-delete\"}),_vm._v(\" 删除 \")])]),_c('el-row',[_c('el-col',{attrs:{\"span\":10}},[_c('div',{staticClass:\"action-label\"},[_vm._v(\"属性:\")]),_c('el-select',{staticClass:\"use-property\",attrs:{\"value\":_vm.propName,\"size\":\"small\",\"placeholder\":\"请选择属性\"},on:{\"change\":_vm.handlePropChange}},_vm._l((_vm.propOptions),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"size\":\"small\",\"value\":item.value}})}),1)],1),_c('el-col',{attrs:{\"span\":14}},[_c('div',{staticClass:\"action-label\",staticStyle:{\"margin-left\":\"30px\"}},[_vm._v(\"设置为:\")]),_c('value-collector',{staticClass:\"value-select\",attrs:{\"value\":_vm.val,\"options\":_vm.valueOptions,\"context\":_vm.context,\"lf\":_vm.lf,\"types\":_vm.types},on:{\"change\":_vm.handleValueChange}})],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"value-selector-wrapper\"},[_c('el-dropdown',{staticClass:\"type-dropdown\",attrs:{\"trigger\":\"click\",\"size\":\"small\",\"placement\":\"top\"},on:{\"command\":_vm.handleCommand}},[_c('span',{staticClass:\"value-selector-prefix\"},[_c('i',{staticClass:\"value-selector-icon\",class:['value-selector-icon', _vm.typeMap[_vm.type] && _vm.typeMap[_vm.type].icon]})]),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},_vm._l((_vm.typeOptions),function(item){return _c('el-dropdown-item',{key:item.value,class:item.value === _vm.type && 'selected',attrs:{\"command\":item.value,\"icon\":item.icon}},[_vm._v(\" \"+_vm._s(item.label)+\" \")])}),1)],1),_c('div',{staticClass:\"value-selector\"},[_c('option-value',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.type === 'option'),expression:\"type === 'option'\"}],attrs:{\"value\":_vm.val,\"options\":_vm.options},on:{\"change\":_vm.handleChange}}),_c('input-value',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.type === 'input'),expression:\"type === 'input'\"}],attrs:{\"value\":_vm.val},on:{\"change\":_vm.handleChange}}),_c('component-value',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.type === 'component'),expression:\"type === 'component'\"}],attrs:{\"value\":_vm.val,\"context\":_vm.context},on:{\"change\":_vm.handleChange}}),_c('component-prop-value',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.type === 'componentProp'),expression:\"type === 'componentProp'\"}],attrs:{\"value\":_vm.val,\"context\":_vm.context},on:{\"change\":_vm.handleChange}}),_c('data-source-value',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.type === 'dataSource'),expression:\"type === 'dataSource'\"}],attrs:{\"value\":_vm.val,\"context\":_vm.context,\"lf\":_vm.lf},on:{\"change\":_vm.handleChange}}),_c('data-convert-value',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.type === 'dataConvert'),expression:\"type === 'dataConvert'\"}],attrs:{\"value\":_vm.val,\"context\":_vm.context,\"lf\":_vm.lf},on:{\"change\":_vm.handleChange}}),_c('url-param-value',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.type === 'urlParam'),expression:\"type === 'urlParam'\"}],attrs:{\"value\":_vm.val},on:{\"change\":_vm.handleChange}}),_c('init-param-value',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.type === 'initParam'),expression:\"type === 'initParam'\"}],attrs:{\"value\":_vm.val},on:{\"change\":_vm.handleChange}})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('el-select',{staticClass:\"use-property\",attrs:{\"filterable\":\"\",\"size\":\"small\",\"placeholder\":\"请选择\"},on:{\"change\":_vm.handleChange},model:{value:(_vm.val),callback:function ($$v) {_vm.val=$$v},expression:\"val\"}},_vm._l((_vm.options),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"size\":\"small\",\"value\":item.value}})}),1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <el-select \n      filterable\n      v-model=\"val\" \n      class=\"use-property\" \n      size=\"small\" \n      placeholder=\"请选择\"\n      @change=\"handleChange\"\n    >\n      <el-option\n        v-for=\"item in options\"\n        :key=\"item.value\"\n        :label=\"item.label\"\n        size=\"small\"\n        :value=\"item.value\"\n        >\n      </el-option>\n    </el-select>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    context: Object,\n    options: {\n      type: Array,\n      default: () => []\n    },\n    value: Object,\n  },\n  data () {\n    return {\n      val: '',\n    }\n  },\n  watch: {\n    value: {\n      immediate: true,\n      deep: true,\n      handler (nv) {\n        if (nv && nv.type === 'option') {\n          this.val = nv.value\n        }\n      }\n    }\n  },\n  methods: {\n    handleChange(e) { \n      this.val = e\n      const option = this.options.find(item => item.value === e) || {}\n      const data = {\n        type: 'option',  \n        value: e,\n        dataType: option.dataType,\n        valueDesc: option.label\n      }\n      this.$emit('change', data)\n    },\n  }\n}\n</script>\n\n<!-- <style scoped lang=\"less\">\n/deep/.el-select {\n  width: 100%;\n}\n/deep/.el-input__inner {\n border-radius: 0 4px 4px 0;\n}\n</style> -->","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./optionValue.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./optionValue.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./optionValue.vue?vue&type=template&id=76c80fb2&\"\nimport script from \"./optionValue.vue?vue&type=script&lang=js&\"\nexport * from \"./optionValue.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('el-input',{staticClass:\"input\",attrs:{\"placeholder\":\"请输入值\",\"size\":\"small\",\"type\":\"textarea\",\"rows\":1},on:{\"change\":_vm.handleChange},model:{value:(_vm.val),callback:function ($$v) {_vm.val=$$v},expression:\"val\"}}),_c('el-select',{attrs:{\"size\":\"small\",\"placeholder\":\"请选择数据类型\",\"filterable\":\"\"},on:{\"change\":_vm.handleTypeChange},model:{value:(_vm.dataType),callback:function ($$v) {_vm.dataType=$$v},expression:\"dataType\"}},_vm._l((_vm.TypeOptions),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"size\":\"small\",\"value\":item.value}},[_c('span',{staticStyle:{\"float\":\"left\"}},[_vm._v(\" \"+_vm._s(item.label)+\" \")])])}),1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/**\n * 可选的数据类型\n */\nexport const TypeOptions = [{\n  value: 'string',\n  label: 'string',\n}, {\n  value: 'number',\n  label: 'number',\n}, {\n  value: 'boolean',\n  label: 'boolean',\n}, {\n  value: 'undefined',\n  label: 'undefined',\n}, {\n  value: 'null',\n  label: 'null',\n}, {\n  value: 'object',\n  label: 'object',\n}, {\n  value: 'array[string]',\n  label: 'array[string]',\n}, {\n  value: 'array[number]',\n  label: 'array[number]',\n}]\n\n","<template>\n  <div>\n    <el-input \n      class=\"input\"\n      v-model=\"val\" \n      placeholder=\"请输入值\" \n      size=\"small\"\n      type=\"textarea\"\n      :rows=\"1\"\n      @change=\"handleChange\"\n    >\n    </el-input>\n    <el-select v-model=\"dataType\" size=\"small\" placeholder=\"请选择数据类型\" filterable @change=\"handleTypeChange\">\n      <el-option v-for=\"item in TypeOptions\" :key=\"item.value\" :label=\"item.label\" size=\"small\" :value=\"item.value\">\n        <span style=\"float: left\">\n          {{ item.label }}\n        </span>\n      </el-option>\n    </el-select>\n  </div>\n</template>\n\n<script>\nimport { TypeOptions } from '../../util/dataType'\nexport default {\n  props: {\n    context: Object,\n    value: Object\n  },\n  data() {\n    return {\n      val: '',\n      dataType: 'string',\n      TypeOptions\n    }\n  },\n  watch: {\n    value: {\n      immediate: true,\n      deep: true,\n      handler(nv) {\n        if (nv && nv.type === 'input') {\n          this.val = nv.value\n          this.dataType = nv.dataType\n        }\n      }\n    }\n  },\n  methods: {\n    handleTypeChange(e) {\n      this.dataType = e\n      const data = {\n        type: 'input',\n        value: this.val,\n        dataType: this.dataType || 'string' // 默认string类型\n      }\n      this.$emit('change', data)\n    },\n    handleChange(e) {\n      this.val = e\n      const data = {\n        type: 'input',\n        value: e,\n        dataType: this.dataType || 'string' // 默认string类型\n      }\n      this.$emit('change', data)\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"less\">\n.input {\n  margin-bottom: 2px;\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./inputValue.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./inputValue.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./inputValue.vue?vue&type=template&id=6a96ffc7&scoped=true&\"\nimport script from \"./inputValue.vue?vue&type=script&lang=js&\"\nexport * from \"./inputValue.vue?vue&type=script&lang=js&\"\nimport style0 from \"./inputValue.vue?vue&type=style&index=0&id=6a96ffc7&prod&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6a96ffc7\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('el-select',{attrs:{\"size\":\"small\",\"placeholder\":\"请选择页面组件\",\"filterable\":\"\"},on:{\"change\":_vm.handleChange},model:{value:(_vm.val),callback:function ($$v) {_vm.val=$$v},expression:\"val\"}},_vm._l((_vm.options),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"size\":\"small\",\"value\":item.value},nativeOn:{\"mouseenter\":function($event){return _vm.handleMouseEnter(item.value)}}},[_c('span',{staticStyle:{\"float\":\"left\"}},[_c('b',[_vm._v(_vm._s(item.name))]),_vm._v(\"的\"+_vm._s(item.desc)+\" \")])])}),1),_c('el-input',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showFieldInput),expression:\"showFieldInput\"}],staticClass:\"field-input\",attrs:{\"placeholder\":\"请输入字段名\",\"size\":\"small\"},on:{\"change\":_vm.handleFieldChange},model:{value:(_vm.fieldName),callback:function ($$v) {_vm.fieldName=$$v},expression:\"fieldName\"}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export const NODE_SPACE_X = 160 // 节点横向距离\nexport const NODE_SPACE_Y = 80 // 节点纵向距离\nexport const PATH_SPACE_Y = 60 // 路径纵向距离\nexport const GRAPH_START_X = 100 // 图形默认起点X\nexport const GRAPH_START_Y = 100 // 图形默认起点Y\nexport const NODE_WIDTH = 100 // 节点宽度\nexport const NODE_HEIGHT = 28 // 节点高度\nexport const LINE_OFFSET = 24 // 节点高度\n\nexport const EDITOR_EVENT = {\n  ONLOAD: 'onload',\n  ERROR: 'error',\n  RESET: 'reset',\n  PREVIEW: 'preview',\n  CANVAS_MODEL_ACTIVATED: 'canvas:model-activated',\n  CANVAS_MODEL_DELETED: 'canvas:model-deleted',\n  CANVAS_MODEL_HOVERED: 'canvas:model-hovered',\n  CANVAS_MODEL_CLICKED: 'canvas:model-clicked',\n  LOGIC_NODE_ADD: 'logic:node-add',\n  LOGIC_NODE_HOVER: 'logic:node-hover',\n  LOGIC_NODE_DYN_DATA: 'logic:node-dyn-data',\n  LOGIC_HISTORY_CHANGE: 'logic:history-change'\n}","/**\n * 根据组件model生成节点名\n */\nexport const getNodeName = ( model ) => {\n  return model.getModelName() || model.name || model.componentName\n}\n\n/**\n * 聚焦至该节点\n */\nexport const focusNode = function (graphModel, id, deltaX) {\n  graphModel.selectElementById(id)\n  const model = graphModel.getElement(id)\n  const rect = graphModel.rootEl.getBoundingClientRect()\n  const dx = deltaX || 0\n  graphModel.transformModel.focusOn(model.x + dx, model.y, Number(rect.width), Number(rect.height))\n}","<template>\n  <div>\n    <el-select \n      v-model=\"val\" \n      size=\"small\" \n      placeholder=\"请选择页面组件\"\n      filterable\n      @change=\"handleChange\"\n      >\n      <el-option\n        v-for=\"item in options\"\n        :key=\"item.value\"\n        :label=\"item.label\"\n        size=\"small\"\n        :value=\"item.value\"\n        @mouseenter.native=\"handleMouseEnter(item.value)\"\n        >\n        <span \n          style=\"float: left\"\n        >\n          <b>{{ item.name }}</b>的{{ item.desc }}\n        </span>\n      </el-option>\n    </el-select>\n    <el-input \n      v-show=\"showFieldInput\"\n      v-model=\"fieldName\"\n      placeholder=\"请输入字段名\" \n      size=\"small\"\n      class=\"field-input\"\n      @change=\"handleFieldChange\"\n    >\n    </el-input>\n  </div>\n</template>\n\n<script>\nimport { EDITOR_EVENT } from '../../util/constant'\nimport { getNodeName } from '../../util/node'\nexport default {\n  props: {\n    context: Object,\n    value: Object,\n  },\n  data () {\n    return {\n      val: '',\n      fieldName: '',\n      showFieldInput: false\n    }\n  },\n  watch: {\n    value: {\n      immediate: true,\n      deep: true,\n      handler (nv) {\n        if (nv && nv.type === 'component') {\n          this.val = nv.componentId\n          this.fieldName = nv.field\n        }\n      }\n    },\n    val: {\n      immediate: true,\n      handler (nv) {\n        const modelList = this.getInputModelList()\n        const selectModel = modelList.find(item => item.id === nv)\n        if ( selectModel && selectModel.getLogic) {\n          const logic = selectModel.getLogic()\n          const valueProp = logic.props && logic.props.length && logic.props.find(prop => prop.name === 'value')\n          this.showFieldInput = valueProp && valueProp.propType === 'object'\n        }\n      }\n    }\n  },\n  methods: {\n    // 鼠标悬浮时高亮画布对应组件\n    handleMouseEnter(e) { \n      const target = modelList.find(item => item.id === e)\n      this.context.eventCenter.emit(EDITOR_EVENT.LOGIC_NODE_HOVER, target) \n    },\n    // 选择组件后获取组件值\n    handleChange(e) { \n      this.val = e\n      const data = {\n        type: 'component',\n        prop: 'value',\n        field: this.fieldName,\n        componentId: this.val,\n        componentName: this.selectModel && this.selectModel.getModelName(),\n        propName: '值',\n        dataType: this.valueProp.propType\n      }\n      this.$emit('change', data)\n    },\n    // 输入字段名后抛出事件\n    handleFieldChange() {\n      const data = {\n        type: 'component',\n        prop: 'value',\n        field: this.fieldName,\n        componentId: this.val,\n        componentName: this.selectModel && this.selectModel.getModelName(),\n        propName: '值',\n        dataType: this.valueProp.propType\n      }\n      this.$emit('change', data)\n    },\n    getInputModelList() {\n      // 获取所有输入型组件\n      return []\n    }\n  },\n  computed: {\n    // 页面组件选项\n    options() {\n      let modelList = this.getInputModelList()\n      const options = modelList.map(item => {\n        const logic = item.getLogic()\n        const valueProp = logic.props && logic.props.length && logic.props.find(prop => prop.name === 'value')\n        return {\n          id: item.id,\n          name: getNodeName(item),\n          value: item.id,\n          desc: valueProp.description,\n          label: `${getNodeName(item)}的${valueProp.description}`,\n        }\n      })\n      return options\n    },\n    valueProp () {\n      if ( this.selectModel && this.selectModel.getLogic) {\n        const logic = this.selectModel.getLogic()\n        const valueProp = logic.props && logic.props.length && logic.props.find(prop => prop.name === 'value')\n        return valueProp\n      }\n      return {}\n    },\n    selectModel () {\n      const modelList = this.getInputModelList()\n      const selectModel = modelList.find(item => item.id === this.val)\n      return selectModel\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"less\">\n/deep/.el-select {\n  width: 100%;\n}\n.field-input {\n  margin-top: 2px;\n}\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./componentValue.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./componentValue.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./componentValue.vue?vue&type=template&id=34cc6b1e&scoped=true&\"\nimport script from \"./componentValue.vue?vue&type=script&lang=js&\"\nexport * from \"./componentValue.vue?vue&type=script&lang=js&\"\nimport style0 from \"./componentValue.vue?vue&type=style&index=0&id=34cc6b1e&prod&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"34cc6b1e\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('el-select',{attrs:{\"size\":\"small\",\"placeholder\":\"请选择数据节点\",\"filterable\":\"\"},on:{\"change\":_vm.handleChange},model:{value:(_vm.nodeId),callback:function ($$v) {_vm.nodeId=$$v},expression:\"nodeId\"}},_vm._l((_vm.options),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"size\":\"small\",\"value\":item.value}},[_c('span',{staticStyle:{\"float\":\"left\"},on:{\"mouseenter\":function($event){$event.stopPropagation();return _vm.handleMouseEnter(item.value)}}},[_vm._v(\" \"+_vm._s(item.label)+\" \")])])}),1),(_vm.nodeId)?_c('div',[(_vm.apiId)?_c('field-selector',{staticClass:\"field-selector\",attrs:{\"body\":_vm.resBody,\"value\":_vm.field},on:{\"change\":_vm.handleFiledChange}}):_c('div',{staticClass:\"custom-field\"},[_c('el-input',{staticClass:\"custom-input\",attrs:{\"size\":\"small\",\"placeholder\":\"支持以.分割的多级属性\"},on:{\"change\":_vm.handleCustomField},model:{value:(_vm.field),callback:function ($$v) {_vm.field=$$v},expression:\"field\"}})],1)],1):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('el-cascader',{ref:\"fieldSelector\",attrs:{\"size\":\"small\",\"placeholder\":\"请选择字段\",\"options\":_vm.options,\"props\":{ expandTrigger: 'click', checkStrictly: true }},on:{\"change\":_vm.handleChange},model:{value:(_vm.val),callback:function ($$v) {_vm.val=$$v},expression:\"val\"}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div >\n    <el-cascader\n      ref=\"fieldSelector\"\n      v-model=\"val\"\n      size=\"small\"\n      placeholder=\"请选择字段\"\n      :options=\"options\"\n      :props=\"{ expandTrigger: 'click', checkStrictly: true }\"\n      @change=\"handleChange\"\n      >\n    </el-cascader>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    body: Object,\n    value: String,\n  },\n  data () {\n    return {\n      val: ''\n    }\n  },\n  watch: {\n    value: {\n      immediate: true,\n      deep: true,\n      handler (nv) {\n        this.val = this.value && this.value.split('.')  || []\n      }\n    },\n  },\n  computed: {\n    options() {\n      const tree = []\n      const genTree = (body, list) => {\n        if (body.properties) {\n          for(let prop in body.properties) {\n            const node = {\n              label: prop,\n              value: prop,\n              dataType: body.properties[prop].type\n            }\n            list.push(node)\n            if (body.properties[prop].properties) {\n              node.children = []\n              genTree(body.properties[prop], node.children)\n            }\n          }\n        }\n      }\n      genTree(this.body, tree)\n      return tree\n    }\n  },\n  methods: {\n    // 选择组件后获取组件值\n    handleChange(e) {\n      const checkedNodes =  this.$refs['fieldSelector'].getCheckedNodes();\n      const data = checkedNodes[0].data || {} \n      this.$emit('change', e, data.dataType)\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"less\">\n/deep/.el-cascader {\n  width: 100%;\n}\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=3db2b56f&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=3db2b56f&prod&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3db2b56f\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n    <el-select v-model=\"nodeId\" size=\"small\" placeholder=\"请选择数据节点\" filterable @change=\"handleChange\">\n      <el-option v-for=\"item in options\" :key=\"item.value\" :label=\"item.label\" size=\"small\" :value=\"item.value\">\n        <span style=\"float: left\" @mouseenter.stop=\"handleMouseEnter(item.value)\">\n          {{ item.label }}\n        </span>\n      </el-option>\n    </el-select>\n    <div v-if=\"nodeId\">\n      <field-selector\n        class=\"field-selector\"\n        v-if=\"apiId\"\n        :body=\"resBody\"\n        :value=\"field\"\n        @change=\"handleFiledChange\"\n      ></field-selector>\n      <div class=\"custom-field\" v-else>\n        <el-input\n          class=\"custom-input\"\n          size=\"small\"\n          v-model=\"field\"\n          placeholder=\"支持以.分割的多级属性\"\n          @change=\"handleCustomField\"\n        ></el-input>\n        <!-- <el-select v-model=\"dataType\" size=\"small\" placeholder=\"请选择数据类型\" filterable>\n          <el-option v-for=\"item in TypeOptions\" :key=\"item.value\" :label=\"item.label\" size=\"small\" :value=\"item.value\">\n            <span style=\"float: left\">\n              {{ item.label }}\n            </span>\n          </el-option>\n        </el-select> -->\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { focusNode } from '../../util/node'\nimport fieldSelector from '../fieldSelector/index.vue'\nimport { TypeOptions } from '../../util/dataType'\n\nexport default {\n  props: {\n    context: Object,\n    lf: Object,\n    value: Object\n  },\n  data() {\n    return {\n      nodeId: '',\n      resBody: {},\n      field: '',\n      dataType: 'string',\n      TypeOptions\n    }\n  },\n  watch: {\n    value: {\n      immediate: true,\n      deep: true,\n      handler(nv) {\n        if (nv && nv.type === 'dataSource') {\n          this.nodeId = nv.nodeId\n          this.field = nv.field\n        }\n      }\n    },\n    apiId: {\n      immediate: true,\n      deep: true,\n      async handler(nv) {\n      }\n    }\n  },\n  methods: {\n    // 鼠标悬浮时高亮对应数据节点\n    handleMouseEnter(e) {\n      focusNode(this.lf.graphModel, e, 240)\n      const nodeModel = this.lf.getNodeModelById(e)\n      this.lf.graphModel.eventCenter.emit('node:hover-node', nodeModel)\n    },\n    handleChange(e) {\n      const option = this.options.find((item) => item.value === this.nodeId)\n      let apiLabel = ''\n      if (option) {\n        apiLabel = option.label\n      }\n      const data = {\n        type: 'dataSource',\n        field: this.field,\n        apiId: this.apiId,\n        apiLabel,\n        nodeId: this.nodeId\n      }\n      this.$emit('change', data)\n    },\n    handleFiledChange(e, type) {\n      console.log('this.field', this.field)\n      const option = this.options.find((item) => item.value === this.nodeId)\n      let apiLabel = ''\n      if (option) {\n        apiLabel = option.label\n      }\n      this.field = e.join('.')\n      const data = {\n        type: 'dataSource',\n        field: this.field,\n        apiId: this.apiId,\n        nodeId: this.nodeId,\n        apiLabel,\n        dataType: type\n      }\n      this.$emit('change', data)\n    },\n    handleCustomField() {\n      const option = this.options.find((item) => item.value === this.nodeId)\n      let apiLabel = ''\n      if (option) {\n        apiLabel = option.label\n      }\n      const data = {\n        type: 'dataSource',\n        field: this.field,\n        apiId: this.apiId,\n        nodeId: this.nodeId,\n        apiLabel,\n        dataType: this.dataType\n      }\n      this.$emit('change', data)\n    }\n  },\n  computed: {\n    options() {\n      const data = this.lf.getGraphData()\n      const { nodes } = data\n      const dsNodes = nodes.filter((item) => item.properties.componentName === 'dataSource' && item.properties.ds)\n      const options = dsNodes.map((item) => {\n        return {\n          label: `${item.properties.name}_${item.properties.ds.name}`,\n          value: item.id,\n          apiId: item.properties.ds.fetchMode === 'redirect' ? item.properties.ds.resourceId : item.properties.ds.id,\n          nodeId: item.id\n        }\n      })\n      return options\n    },\n    apiId() {\n      const currentNode = this.options.find((item) => item.value === this.nodeId)\n      return currentNode && currentNode.apiId\n    }\n  },\n  components: {\n    fieldSelector\n  }\n}\n</script>\n\n<style scoped lang=\"less\">\n/deep/.el-select {\n  width: 100%;\n}\n.field-selector {\n  margin-top: 2px;\n}\n.custom-input {\n  margin: 5px 0;\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./dataSourceValue.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./dataSourceValue.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./dataSourceValue.vue?vue&type=template&id=6e500f11&scoped=true&\"\nimport script from \"./dataSourceValue.vue?vue&type=script&lang=js&\"\nexport * from \"./dataSourceValue.vue?vue&type=script&lang=js&\"\nimport style0 from \"./dataSourceValue.vue?vue&type=style&index=0&id=6e500f11&prod&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6e500f11\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('el-select',{attrs:{\"size\":\"small\",\"placeholder\":\"请选择数据节点\",\"filterable\":\"\"},on:{\"change\":_vm.handleChange},model:{value:(_vm.nodeId),callback:function ($$v) {_vm.nodeId=$$v},expression:\"nodeId\"}},_vm._l((_vm.options),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"size\":\"small\",\"value\":item.value}},[_c('span',{staticStyle:{\"float\":\"left\"},on:{\"mouseenter\":function($event){$event.stopPropagation();return _vm.handleMouseEnter(item.value)}}},[_vm._v(\" \"+_vm._s(item.label)+\" \")])])}),1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <el-select v-model=\"nodeId\" size=\"small\" placeholder=\"请选择数据节点\" filterable @change=\"handleChange\">\n      <el-option v-for=\"item in options\" :key=\"item.value\" :label=\"item.label\" size=\"small\" :value=\"item.value\">\n        <span style=\"float: left\" @mouseenter.stop=\"handleMouseEnter(item.value)\">\n          {{ item.label }}\n        </span>\n      </el-option>\n    </el-select>\n  </div>\n</template>\n\n<script>\nimport { focusNode } from '../../util/node'\n\nexport default {\n  props: {\n    context: Object,\n    lf: Object,\n    value: Object\n  },\n  data() {\n    return {\n      nodeId: '',\n      field: '',\n      dataType: 'string'\n    }\n  },\n  watch: {\n    value: {\n      immediate: true,\n      deep: true,\n      handler(nv) {\n        console.log('nv --->>>', nv)\n        if (nv && nv.type === 'dataConvert') {\n          this.nodeId = nv.nodeId\n          this.field = nv.field\n        }\n      }\n    }\n  },\n  methods: {\n    // 鼠标悬浮是显示对应数据节点\n    handleMouseEnter(e) {\n      focusNode(this.lf.graphModel, e, 240)\n      const nodeModel = this.lf.getNodeModelById(e)\n      this.lf.graphModel.eventCenter.emit('node:hover-node', nodeModel)\n    },\n    handleChange(e) {\n      const option = this.options.find((item) => item.value === this.nodeId)\n\n      const data = {\n        type: 'dataConvert',\n        nodeId: this.nodeId\n      }\n      this.$emit('change', data)\n    },\n    handleFieldChange(e, type) {}\n  },\n  computed: {\n    options() {\n      const data = this.lf.getGraphData()\n      console.log('data --->>>', data)\n      const { nodes } = data\n      const dcNodes = nodes.filter((node) => node.properties.componentName === 'dataConvert' && node.properties.dc)\n\n      const options = dcNodes.map((node) => {\n        return {\n          label: `${node.properties.name}`,\n          value: node.id,\n          nodeId: node.id\n        }\n      })\n\n      console.log('options ===>>>', options)\n      return options\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./dataConvertValue.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./dataConvertValue.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./dataConvertValue.vue?vue&type=template&id=078756f0&\"\nimport script from \"./dataConvertValue.vue?vue&type=script&lang=js&\"\nexport * from \"./dataConvertValue.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('el-select',{attrs:{\"size\":\"small\",\"placeholder\":\"请选择页面组件\",\"filterable\":\"\"},on:{\"change\":_vm.handleChange},model:{value:(_vm.val),callback:function ($$v) {_vm.val=$$v},expression:\"val\"}},_vm._l((_vm.options),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"size\":\"small\",\"value\":item.value},nativeOn:{\"mouseenter\":function($event){return _vm.handleMouseEnter(item.value)}}},[_c('span',{staticStyle:{\"float\":\"left\"}},[_c('b',[_vm._v(_vm._s(item.name))])])])}),1),_c('el-select',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showPropSelet),expression:\"showPropSelet\"}],staticClass:\"prop-select\",attrs:{\"size\":\"small\",\"placeholder\":\"请选择属性\"},on:{\"change\":_vm.handlePropChange},model:{value:(_vm.propName),callback:function ($$v) {_vm.propName=$$v},expression:\"propName\"}},_vm._l((_vm.propOptions),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"size\":\"small\",\"value\":item.value}})}),1),_c('el-input',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showFieldInput),expression:\"showFieldInput\"}],staticClass:\"field-input\",attrs:{\"placeholder\":\"请输入字段名\",\"size\":\"small\"},on:{\"change\":_vm.handleFieldChange},model:{value:(_vm.fieldName),callback:function ($$v) {_vm.fieldName=$$v},expression:\"fieldName\"}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <el-select\n      v-model=\"val\"\n      size=\"small\"\n      placeholder=\"请选择页面组件\"\n      filterable\n      @change=\"handleChange\"\n    >\n      <el-option\n        v-for=\"item in options\"\n        :key=\"item.value\"\n        :label=\"item.label\"\n        size=\"small\"\n        :value=\"item.value\"\n        @mouseenter.native=\"handleMouseEnter(item.value)\"\n      >\n        <span style=\"float: left\">\n          <b>{{ item.name }}</b>\n        </span>\n      </el-option>\n    </el-select>\n    <el-select\n      v-show=\"showPropSelet\"\n      v-model=\"propName\"\n      class=\"prop-select\"\n      size=\"small\"\n      placeholder=\"请选择属性\"\n      @change=\"handlePropChange\"\n    >\n      <el-option\n        v-for=\"item in propOptions\"\n        :key=\"item.value\"\n        :label=\"item.label\"\n        size=\"small\"\n        :value=\"item.value\"\n      >\n      </el-option>\n    </el-select>\n    <el-input\n      v-show=\"showFieldInput\"\n      v-model=\"fieldName\"\n      placeholder=\"请输入字段名\"\n      size=\"small\"\n      class=\"field-input\"\n      @change=\"handleFieldChange\"\n    >\n    </el-input>\n  </div>\n</template>\n\n<script>\nimport { getNodeName } from \"../../util/node\";\nexport default {\n  props: {\n    context: Object,\n    value: Object,\n  },\n  data() {\n    return {\n      val: \"\",\n      propName: \"\",\n      fieldName: \"\",\n      // showFieldInput: false\n    };\n  },\n  watch: {\n    value: {\n      immediate: true,\n      deep: true,\n      handler(nv) {\n        if (nv && nv.type === \"componentProp\") {\n          this.val = nv.componentId;\n          this.propName = nv.prop;\n          this.fieldName = nv.field;\n        }\n      },\n    },\n  },\n  methods: {\n    // 鼠标悬浮时高亮画布对应组件\n    handleMouseEnter(e) {},\n    // 选择组件后获取组件值\n    handleChange(e) {\n      this.val = e;\n      const data = {\n        type: \"componentProp\",\n        prop: this.propName,\n        field: this.fieldName,\n        componentId: this.val,\n        componentName: this.selectModel && this.selectModel.getModelName(),\n        propName: this.selectedProp && this.selectedProp.label,\n      };\n      this.$emit(\"change\", data);\n    },\n    // 选择属性后抛出事件\n    handlePropChange() {\n      const data = {\n        type: \"componentProp\",\n        prop: this.propName,\n        field: this.fieldName,\n        componentId: this.val,\n        dataType: this.selectedProp.dataType,\n        componentName: this.selectModel && this.selectModel.getModelName(),\n        propName: this.selectedProp && this.selectedProp.label,\n      };\n      this.$emit(\"change\", data);\n    },\n    // 输入字段名后抛出事件\n    handleFieldChange() {\n      const data = {\n        type: \"componentProp\",\n        prop: this.propName,\n        field: this.fieldName,\n        componentId: this.val,\n        dataType: this.selectedProp.dataType,\n        componentName: this.selectModel && this.selectModel.getModelName(),\n        propName: this.selectedProp && this.selectedProp.label,\n      };\n      this.$emit(\"change\", data);\n    },\n    getLogicModelList() {\n      return [];\n    },\n  },\n  computed: {\n    // 页面组件选项\n    options() {\n      let modelList = this.getLogicModelList();\n      const options = modelList.map((item) => {\n        return {\n          id: item.id,\n          value: item.id,\n          name: getNodeName(item),\n          label: `${getNodeName(item)}`,\n        };\n      });\n      return options;\n    },\n    // 属性选项\n    propOptions() {\n      const modelList = this.getLogicModelList();\n      const selectModel = modelList.find((item) => item.id === this.val);\n      let options = [];\n      if (selectModel && selectModel.getLogic) {\n        const logic = selectModel.getLogic();\n        const props = logic.props;\n        options = props.map((item) => {\n          return {\n            label: item.description,\n            value: item.name,\n            dataType: item.propType,\n          };\n        });\n      }\n      return options;\n    },\n    showPropSelet() {\n      return this.val ? true : false;\n    },\n    // 是否展示属性输入框\n    showFieldInput() {\n      let showFieldInput = false;\n      if (this.selectModel && this.selectModel.getLogic) {\n        const logic = this.selectModel.getLogic();\n        const props = logic.props || [];\n        const selectProp = props.find((item) => item.name === this.propName);\n        if (selectProp && selectProp.propType === \"object\")\n          showFieldInput = true;\n      }\n      return showFieldInput;\n    },\n    selectedProp() {\n      return this.propOptions.find((item) => item.value === this.propName);\n    },\n    selectModel() {\n      const modelList = this.getLogicModelList();\n      const selectModel = modelList.find((item) => item.id === this.val);\n      return selectModel;\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"less\">\n/deep/.el-select {\n  width: 100%;\n}\n.prop-select {\n  margin-top: 2px;\n}\n\n.field-input {\n  margin-top: 2px;\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./componentPropValue.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./componentPropValue.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./componentPropValue.vue?vue&type=template&id=eee1412c&scoped=true&\"\nimport script from \"./componentPropValue.vue?vue&type=script&lang=js&\"\nexport * from \"./componentPropValue.vue?vue&type=script&lang=js&\"\nimport style0 from \"./componentPropValue.vue?vue&type=style&index=0&id=eee1412c&prod&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"eee1412c\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('el-input',{attrs:{\"placeholder\":\"请输入值\",\"size\":\"small\"},on:{\"change\":_vm.handleChange},model:{value:(_vm.val),callback:function ($$v) {_vm.val=$$v},expression:\"val\"}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <el-input \n      v-model=\"val\" \n      placeholder=\"请输入值\" \n      size=\"small\"\n      @change=\"handleChange\"\n    >\n    </el-input>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    context: Object,\n    value: Object,\n  },\n  data () {\n    return {\n      val: '',\n    }\n  },\n  watch: {\n    value: {\n      immediate: true,\n      deep: true,\n      handler (nv) {\n        if (nv && nv.type === 'urlParam') {\n          this.val = nv.value\n        }\n      }\n    }\n  },\n  methods: {\n    handleChange(e) { \n      this.val = e\n      const data = {\n        type: 'urlParam',\n        value: e,\n        dataType: 'string' // 默认string类型\n      }\n      this.$emit('change', data)\n    },\n  },\n}\n</script>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./urlParamValue.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./urlParamValue.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./urlParamValue.vue?vue&type=template&id=3eac41b2&\"\nimport script from \"./urlParamValue.vue?vue&type=script&lang=js&\"\nexport * from \"./urlParamValue.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('el-input',{attrs:{\"placeholder\":\"请输入值\",\"size\":\"small\"},on:{\"change\":_vm.handleChange},model:{value:(_vm.val),callback:function ($$v) {_vm.val=$$v},expression:\"val\"}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <el-input \n      v-model=\"val\" \n      placeholder=\"请输入值\" \n      size=\"small\"\n      @change=\"handleChange\"\n    >\n    </el-input>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    context: Object,\n    value: Object,\n  },\n  data () {\n    return {\n      val: '',\n    }\n  },\n  watch: {\n    value: {\n      immediate: true,\n      deep: true,\n      handler (nv) {\n        if (nv && nv.type === 'initParam') {\n          this.val = nv.value\n        }\n      }\n    }\n  },\n  methods: {\n    handleChange(e) { \n      this.val = e\n      const data = {\n        type: 'initParam',\n        value: e,\n        dataType: 'string' // 默认string类型\n      }\n      this.$emit('change', data)\n    },\n  },\n}\n</script>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./initParamValue.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./initParamValue.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./initParamValue.vue?vue&type=template&id=37f241d8&\"\nimport script from \"./initParamValue.vue?vue&type=script&lang=js&\"\nexport * from \"./initParamValue.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export const valueCollectorMap = {\n  option: {\n    label: '默认选项',\n    value: 'option',\n    icon: 'el-icon-folder-opened'\n  },\n  input: {\n    label: '手动输入',\n    value: 'input',\n    icon: 'el-icon-edit-outline'\n  },\n  component: {\n    label: '页面组件值',\n    value: 'component',\n    icon: 'el-icon-cpu'\n  },\n  componentProp: {\n    label: '页面组件属性值',\n    value: 'componentProp',\n    icon: 'el-icon-connection'\n  },\n  dataSource: {\n    label: '数据节点返回值',\n    value: 'dataSource',\n    icon: 'el-icon-receiving'\n  },\n  dataConvert: {\n    label: '转换节点返回值',\n    value: 'dataConvert',\n    icon: 'el-icon-s-operation'\n  },\n  urlParam: {\n    label: '路由参数属性值',\n    value: 'urlParam',\n    icon: 'el-icon-link'\n  },\n  initParam: {\n    label: '宿主系统变量属性值',\n    value: 'initParam',\n    icon: 'el-icon-attract'\n  }\n}\n\nexport const commonNodeMap = {\n  dataSource: {\n    label: '请求数据',\n    value: 'dataSource',\n    logo: 'https://s3-gzpu.didistatic.com/tiyan-base-store/suda/organizer/icons/data_load.png'\n  },\n  pageJump: {\n    label: '页面跳转',\n    value: 'pageJump',\n    logo: 'https://s3-gzpu.didistatic.com/tiyan-base-store/suda/organizer/icons/page_jump.png'\n  },\n  dataConvert: {\n    label: '数据转换',\n    value: 'dataConvert',\n    logo: 'https://s3-gzpu.didistatic.com/tiyan-base-store/suda/organizer/icons/data_trans.png'\n  },\n}\n\nexport const eventNodeMap = {\n  pageInit: {\n    label: '页面初始化',\n    value: 'pageInit',\n    logo: 'https://s3-gzpu.didistatic.com/tiyan-base-store/suda/organizer/icons/page_init.png'\n  }\n}\n\nexport const toolMap = {\n  undo: {\n    name: 'undo',\n    desc: '返回上一步',\n    icon: 'https://s3-gzpu.didistatic.com/tiyan-base-store/suda/organizer/icons/tool_previous.png'\n  },\n  redo: {\n    name: 'redo',\n    desc: '恢复下一步',\n    icon: 'https://s3-gzpu.didistatic.com/tiyan-base-store/suda/organizer/icons/tool_next.png'\n  },\n  zoomIn: {\n    name: 'zoomIn',\n    desc: '画布放大',\n    icon: 'https://s3-gzpu.didistatic.com/tiyan-base-store/suda/organizer/icons/tool_zoom_in.png'\n  },\n  zoomOut: {\n    name: 'zoomOut',\n    desc: '画布缩小',\n    icon: 'https://s3-gzpu.didistatic.com/tiyan-base-store/suda/organizer/icons/tool_zoom_out.png'\n  },\n  fitView: {\n    name: 'fitView',\n    desc: '区域适应',\n    icon: 'https://s3-gzpu.didistatic.com/tiyan-base-store/suda/organizer/icons/tool_fullscreen.png'\n  },\n  selection: {\n    name: 'selection',\n    desc: '框选节点',\n    icon: 'https://s3-gzpu.didistatic.com/tiyan-base-store/suda/organizer/icons/tool_selection.png'\n  },\n  beautify: {\n    name: 'beautify',\n    desc: '美化布局',\n    icon: 'https://s3-gzpu.didistatic.com/tiyan-base-store/suda/organizer/icons/tool_beautify.png'\n  },\n  navigation: {\n    name: 'navigation',\n    desc: '全图导航',\n    icon: 'https://s3-gzpu.didistatic.com/tiyan-base-store/suda/organizer/icons/tool_location.png'\n  }\n}\n\nexport const defaultLogo = 'https://s3-gzpu.didistatic.com/tiyan-base-store/form-editor/pc/icon_anniu@2x.png'\n\nexport const requestMethodMap = [\n  {\n    value: 'GET',\n    label: 'GET'\n  },\n  {\n    value: 'POST',\n    label: 'POST'\n  }\n]\n","<template>\n  <div class=\"value-selector-wrapper\">\n    <!-- <i class=\"el-icon-setting value-selector-icon\"></i> -->\n    <el-dropdown trigger=\"click\" size=\"small\" class=\"type-dropdown\" placement=\"top\" @command=\"handleCommand\">\n      <span class=\"value-selector-prefix\">\n        <i class=\"value-selector-icon\" :class=\"['value-selector-icon', typeMap[type] && typeMap[type].icon]\"></i>\n      </span>\n      <el-dropdown-menu slot=\"dropdown\">\n        <el-dropdown-item\n          v-for=\"item in typeOptions\"\n          :key=\"item.value\"\n          :command=\"item.value\"\n          :icon=\"item.icon\"\n          :class=\"item.value === type && 'selected'\"\n        >\n          {{ item.label }}\n        </el-dropdown-item>\n      </el-dropdown-menu>\n    </el-dropdown>\n    <div class=\"value-selector\">\n      <option-value v-show=\"type === 'option'\" :value=\"val\" @change=\"handleChange\" :options=\"options\"></option-value>\n      <input-value v-show=\"type === 'input'\" :value=\"val\" @change=\"handleChange\"></input-value>\n      <component-value v-show=\"type === 'component'\" :value=\"val\" :context=\"context\" @change=\"handleChange\"></component-value>\n      <component-prop-value v-show=\"type === 'componentProp'\" :value=\"val\" :context=\"context\" @change=\"handleChange\"></component-prop-value>\n      <data-source-value v-show=\"type === 'dataSource'\" :value=\"val\" :context=\"context\" :lf=\"lf\" @change=\"handleChange\"></data-source-value>\n      <data-convert-value v-show=\"type === 'dataConvert'\" :value=\"val\" :context=\"context\" :lf=\"lf\" @change=\"handleChange\"></data-convert-value>\n      <url-param-value v-show=\"type === 'urlParam'\" :value=\"val\" @change=\"handleChange\"></url-param-value>\n      <init-param-value v-show=\"type === 'initParam'\" :value=\"val\" @change=\"handleChange\"></init-param-value>\n    </div>\n  </div>\n</template>\n\n<script>\nimport optionValue from './optionValue.vue'\nimport inputValue from './inputValue.vue'\nimport componentValue from './componentValue.vue'\nimport dataSourceValue from './dataSourceValue.vue'\nimport dataConvertValue from './dataConvertValue.vue'\nimport componentPropValue from './componentPropValue.vue'\nimport urlParamValue from './urlParamValue.vue'\nimport initParamValue from './initParamValue.vue'\n\nimport { valueCollectorMap } from '../../util/typeMap'\n\nexport default {\n  props: {\n    context: Object,\n    lf: Object,\n    options: Array,\n    types: Array,\n    value: [String, Number, Boolean, Object, Array]\n  },\n  data() {\n    return {\n      type: '',\n      typeMap: valueCollectorMap,\n      val: null\n    }\n  },\n  watch: {\n    types: {\n      deep: true,\n      immediate: true,\n      handler(nv) {\n        this.type = (nv && nv[0]) || this.type\n      }\n    },\n    value: {\n      deep: true,\n      immediate: true,\n      handler(nv) {\n        if (nv && nv.type) {\n          this.type = nv.type || (this.types && this.types[0])\n          this.val = JSON.parse(JSON.stringify(nv))\n        }\n      }\n    }\n  },\n  computed: {\n    typeOptions() {\n      const options = this.types.map((type) => this.typeMap[type])\n      return options\n    }\n  },\n  methods: {\n    /**\n     * 向外抛出change事件发送数据格式\n     * 1. 可选项选择\n     * {\n     *   type: 'option',\n     *   value: '选择的值',\n     *   dataType: 'boolean',\n     * }\n     * 2. 手动输入\n     * {\n     *   type: 'input',\n     *   value: '输入的值',\n     *   dataType: 'string',\n     * }\n     * 3. 页面组件的值\n     * {\n     *   type: 'component',\n     *   componentId: '111', // 页面组件Id'\n     *   field: 'id', // 如果组件的值是对象，则可以通过field获取对象的属性\n     *   prop: 'name', // 预留: model.getProps('name') 拿属性, 现在是value，可以直接调用model的getValue方法\n     * }\n     * 4. 获取数据源的值\n     * {\n     *   type: 'dataSource',\n     *   nodeId: 'b5i92n8ilkg0000', // 流程图上配置的数据节点的id\n     *   apiId: 1, // 对应的数据源请求的id\n     *   field: 'data.list', // 去拿该数据源返回值的哪个字段\n     * }\n     * 5. 页面组件的属性值\n     * {\n     *   type: 'componentProp',\n     *   componentId: '111', // 页面组件Id'\n     *   field: 'id', // 如果组件的属性值是对象，则可以通过field获取对象的字段\n     *   prop: 'name', // 属性值，调用model的getProps('name')获取属性值\n     * }\n     */\n\n    handleChange(e) {\n      this.val = e\n      this.$emit('change', e)\n    },\n    handleCommand(e) {\n      this.type = e\n      this.$emit('change', {\n        type: e,\n        dataType: 'string'\n      })\n    }\n  },\n  components: {\n    optionValue,\n    inputValue,\n    componentValue,\n    componentPropValue,\n    dataSourceValue,\n    dataConvertValue,\n    urlParamValue,\n    initParamValue\n  }\n}\n</script>\n\n<style scoped lang=\"less\">\n/deep/.el-tabs__item {\n  font-size: 10px;\n  padding: 0 10px;\n  line-height: 30px;\n  height: 30px;\n}\n/deep/.el-select {\n  width: 100%;\n}\n/deep/.el-input__inner {\n  border-radius: 0 4px 4px 0;\n}\n\n/deep/.el-dropdown-menu__item {\n  &.selected {\n    color: #2961ef;\n  }\n}\n.type-dropdown {\n  height: 100%;\n}\n.value-selector-wrapper {\n  display: inline-flex;\n  align-items: flex-start;\n  width: 100%;\n}\n.value-selector {\n  width: 100%;\n}\n.value-selector-prefix {\n  display: inline-block;\n  width: 32px;\n  height: 32px;\n  background: #efefee;\n  display: inline-flex;\n  justify-content: center;\n  align-items: center;\n  border-radius: 4px 0 0 4px;\n}\n.value-selector-icon {\n  display: inline-block;\n  font-size: 24px;\n  cursor: pointer;\n  &:hover {\n    color: #2961ef;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=fdf24554&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=fdf24554&prod&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"fdf24554\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"action-item-wrap\">\n    <div class=\"header\">\n      {{ title }}\n      <span class=\"delete\" style=\"cursor: pointer\" @click=\"handleDelete\">\n        <i class=\"el-icon-delete\"></i>\n        删除\n      </span>\n    </div>\n    <el-row>\n      <el-col :span=\"10\">\n        <div class=\"action-label\">属性:</div>\n        <el-select :value=\"propName\" class=\"use-property\" size=\"small\" placeholder=\"请选择属性\" @change=\"handlePropChange\">\n          <el-option v-for=\"item in propOptions\" :key=\"item.value\" :label=\"item.label\" size=\"small\" :value=\"item.value\"> </el-option>\n        </el-select>\n      </el-col>\n      <el-col :span=\"14\">\n        <div class=\"action-label\" style=\"margin-left: 30px\">设置为:</div>\n        <value-collector\n          class=\"value-select\"\n          :value=\"val\"\n          :options=\"valueOptions\"\n          :context=\"context\"\n          :lf=\"lf\"\n          :types=\"types\"\n          @change=\"handleValueChange\"\n        ></value-collector>\n      </el-col>\n      <!-- <el-col :span=\"2\" class=\"delete-button\">\n        <i \n          class=\"el-icon-delete\" \n          style=\"cursor:pointer;\"\n          @click=\"handleDelete\"\n        >\n        </i>\n      </el-col> -->\n    </el-row>\n  </div>\n</template>\n\n<script>\nimport valueCollector from '../valueCollector/index.vue'\nexport default {\n  props: {\n    lf: Object,\n    context: Object,\n    current: Object,\n    value: [String, Number, Boolean, Object, Array],\n    title: String\n  },\n  model: {\n    prop: 'value',\n    event: 'change'\n  },\n  data() {\n    return {\n      propName: '',\n      val: {}\n    }\n  },\n  watch: {\n    value: {\n      deep: true,\n      immediate: true,\n      handler(nv) {\n        this.propName = nv.key\n        this.val = nv.value\n      }\n    }\n  },\n  computed: {\n    // 属性选项\n    propOptions() {\n      const logic = this.current.getLogic()\n      const options = logic.props.map((item) => {\n        return {\n          label: item.description,\n          value: item.name\n        }\n      })\n      return options\n    },\n    // 值选项\n    valueOptions() {\n      const options =\n        (this.currentProp &&\n          this.currentProp.optionValue &&\n          this.currentProp.optionValue.map((item) => {\n            return {\n              label: item.description,\n              value: item.value,\n              dataType: this.currentProp.propType\n            }\n          })) ||\n        []\n      return options\n    },\n    // 值的可能类型：内置选项，用户输入，页面组件值，数据源的值\n    types() {\n      return this.valueOptions.length\n        ? ['option', 'input', 'component', 'componentProp', 'dataSource', 'dataConvert', 'urlParam', 'initParam']\n        : ['input', 'component', 'componentProp', 'dataSource', 'dataConvert', 'urlParam', 'initParam']\n    },\n    currentProp() {\n      const logic = this.current.getLogic()\n      const propObj = logic.props.find((item) => item.name === this.propName)\n      return propObj\n    }\n  },\n  methods: {\n    handlePropChange(e) {\n      this.propName = e\n      this.val = {}\n      this.$emit('change', {\n        key: this.currentProp.name,\n        keyDefine: this.currentProp.description,\n        keyType: this.currentProp.propType,\n        value: '',\n        valueDefine: ''\n      })\n    },\n    handleValueChange(e) {\n      this.val = e\n      this.$emit('change', {\n        key: this.currentProp.name,\n        keyDefine: this.currentProp.description,\n        keyType: this.currentProp.propType,\n        value: e,\n        valueDefine: ''\n      })\n    },\n    handleDelete() {\n      this.$emit('delete')\n    }\n  },\n  components: {\n    valueCollector\n  }\n}\n</script>\n\n<style scoped lang=\"less\">\n.action-item-wrap {\n  background: #f3f6fa;\n  border-radius: 4px;\n  font-family: PingFangSC-Regular;\n  font-size: 12px;\n  color: #303a51;\n  line-height: 16px;\n  font-weight: 400;\n  padding: 9px 12px;\n}\n\n.header {\n  border-bottom: 1px solid #dcdfe6;\n  margin-bottom: 8px;\n  padding: 0 0 4px 0;\n}\n\n.delete {\n  float: right;\n  color: #a8adbd;\n  font-weight: 400;\n  &:hover {\n    color: #2961ef;\n  }\n}\n/deep/.el-col {\n  display: flex;\n}\n/deep/.el-select {\n  flex: 1;\n}\n.value-select {\n  flex: 1;\n}\n.delete-button {\n  height: 32px;\n  font-size: 20px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.action-label {\n  margin-right: 10px;\n  height: 32px;\n  line-height: 32px;\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./actionItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./actionItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./actionItem.vue?vue&type=template&id=42e75e45&scoped=true&\"\nimport script from \"./actionItem.vue?vue&type=script&lang=js&\"\nexport * from \"./actionItem.vue?vue&type=script&lang=js&\"\nimport style0 from \"./actionItem.vue?vue&type=style&index=0&id=42e75e45&prod&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"42e75e45\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"action-panel-wrapper\">\n    <action-item\n      v-for=\"(item, index) in actions\"\n      :title=\"`行为${index+1}`\"\n      :key=\"index\"\n      :value=\"item\"\n      :context=\"context\"\n      :current=\"current\"\n      :lf=\"lf\"\n      @change=\"handleActionChange($event, index)\"\n      @delete=\"handleActionDelete(index)\"\n      class=\"action-item\"\n    ></action-item>\n    <el-link \n      type=\"primary\" \n      :underline=\"false\"\n      class=\"add-button\"\n      @click=\"addAction\"\n    >\n      <i class=\"el-icon-circle-plus-outline\"></i>\n      添加行为\n    </el-link>\n  </div>\n</template>\n\n<script>\nimport actionItem from './actionItem.vue'\nexport default {\n  props: {\n    lf: Object,\n    context: Object,\n    current: Object,\n    value: [String, Number, Boolean, Object, Array]\n  },\n  model: {\n    prop: \"value\",\n    event: \"change\"\n  },\n  data () {\n    return {\n      propName: '',\n      actions: [],\n    }\n  },\n  watch: {\n    value: {\n      deep: true,\n      immediate: true,\n      handler (nv) {\n        if (nv && nv.length) {\n          this.actions = nv\n        } else {\n          this.actions = [\n            {\n              key: '',\n              keyDefine: '',\n              keyType: '',\n              valueDefine: '',\n              value: {},\n            }\n          ]\n        }\n      }\n    }\n  },\n  methods: {\n    handleActionChange(e, index) {\n      this.actions[index] = e\n      this.$emit('change', this.actions)\n    },\n    handleActionDelete(index) {\n      this.actions.splice(index, 1)\n    },\n    addAction() {\n      if (this.actions.length >= 6) {\n        this.$message.warning('一个节点最多允许添加6个响应行为！')\n        return\n      }\n      const tempAction = {\n        key: '',\n        keyDefine: '',\n        keyType: '',\n        valueDefine: '',\n        value: {},\n      }\n      this.actions.push(tempAction)\n    }\n  },\n  components: {\n    actionItem\n  }\n}\n</script>\n\n<style scoped lang=\"less\">\n.action-panel-wrapper {\n  width: 100%;\n}\n.action-item {\n  margin-bottom: 10px;\n}\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./actionSetter.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./actionSetter.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./actionSetter.vue?vue&type=template&id=745bf39e&scoped=true&\"\nimport script from \"./actionSetter.vue?vue&type=script&lang=js&\"\nexport * from \"./actionSetter.vue?vue&type=script&lang=js&\"\nimport style0 from \"./actionSetter.vue?vue&type=style&index=0&id=745bf39e&prod&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"745bf39e\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"setter-wrapper\"},[_vm._l((_vm.conditions),function(item,index){return _c('condition-item',{key:index,staticClass:\"setter-item\",attrs:{\"title\":`条件${index+1}（C${index+1}）`,\"value\":item,\"context\":_vm.context,\"current\":_vm.current,\"lf\":_vm.lf},on:{\"change\":function($event){return _vm.handleConditionChange($event, index)},\"delete\":function($event){return _vm.handleConditionDelete(index)}}})}),_c('el-link',{staticClass:\"add-button\",attrs:{\"type\":\"primary\",\"underline\":false},on:{\"click\":_vm.addCondition}},[_c('i',{staticClass:\"el-icon-circle-plus-outline\"}),_vm._v(\" 添加条件 \")]),_c('el-row',{staticClass:\"setter-footer\"},[(_vm.conditions.length)?_c('el-radio-group',{attrs:{\"size\":\"small\"},on:{\"change\":_vm.handleCombineTypeChange},model:{value:(_vm.combineType),callback:function ($$v) {_vm.combineType=$$v},expression:\"combineType\"}},[_c('el-radio',{attrs:{\"label\":1,\"size\":\"small\"}},[_vm._v(\"满足所有条件\")]),_c('el-radio',{attrs:{\"label\":2}},[_vm._v(\"满足任意条件\")]),_c('el-radio',{attrs:{\"label\":3}},[_vm._v(\"自定义\")]),_c('el-input',{staticClass:\"input\",attrs:{\"placeholder\":\"例如：C1&&(C2||C3)\",\"size\":\"small\",\"disabled\":_vm.combineType!==3},on:{\"change\":_vm.handleCombineTypeChange},model:{value:(_vm.combineRule),callback:function ($$v) {_vm.combineRule=$$v},expression:\"combineRule\"}})],1):_vm._e()],1)],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"action-item-wrap\"},[_c('div',{staticClass:\"header\"},[_vm._v(\" \"+_vm._s(_vm.title)+\" \"),_c('span',{staticClass:\"delete\",staticStyle:{\"cursor\":\"pointer\"},on:{\"click\":_vm.handleDelete}},[_c('i',{staticClass:\"el-icon-delete\"}),_vm._v(\" 删除 \")])]),_c('el-row',{attrs:{\"gutter\":8}},[_c('el-col',{attrs:{\"span\":10}},[_c('value-collector',{attrs:{\"context\":_vm.context,\"lf\":_vm.lf,\"types\":_vm.keyTypes,\"value\":_vm.condition.key},on:{\"change\":_vm.handleKeyChange}})],1),_c('el-col',{attrs:{\"span\":4}},[_c('el-select',{staticClass:\"use-property\",attrs:{\"size\":\"small\",\"placeholder\":\"请选择\"},on:{\"change\":_vm.handleOperatorChange},model:{value:(_vm.condition.operator),callback:function ($$v) {_vm.$set(_vm.condition, \"operator\", $$v)},expression:\"condition.operator\"}},_vm._l((_vm.comparisonOperators),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item.value,\"value\":item.value}})}),1)],1),_c('el-col',{attrs:{\"span\":10}},[_c('value-collector',{attrs:{\"options\":_vm.valueOptions,\"context\":_vm.context,\"lf\":_vm.lf,\"types\":_vm.valueTypes,\"value\":_vm.condition.value},on:{\"change\":_vm.handleValueChange}})],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export const comparisonOperators = [\n  {\n    name: '严格等于',\n    value: '==='\n  },\n  {\n    name: '不严格等于',\n    value: '!=='\n  },\n  {\n    name: '等于',\n    value: '=='\n  },\n  {\n    name: '不等于',\n    value: '!='\n  },\n  {\n    name: '大于',\n    value: '>'\n  },\n  {\n    name: '小于',\n    value: '<'\n  },\n  {\n    name: '大于等于',\n    value: '>='\n  },\n  {\n    name: '小于等于',\n    value: '<='\n  }\n]\n","<template>\n  <div class=\"action-item-wrap\">\n    <div class=\"header\">\n      {{ title }}\n      <span class=\"delete\" style=\"cursor: pointer\" @click=\"handleDelete\">\n        <i class=\"el-icon-delete\"></i>\n        删除\n      </span>\n    </div>\n    <el-row :gutter=\"8\">\n      <el-col :span=\"10\">\n        <value-collector\n          :context=\"context\"\n          :lf=\"lf\"\n          :types=\"keyTypes\"\n          :value=\"condition.key\"\n          @change=\"handleKeyChange\"\n        ></value-collector>\n      </el-col>\n      <el-col :span=\"4\">\n        <el-select\n          v-model=\"condition.operator\"\n          class=\"use-property\"\n          size=\"small\"\n          placeholder=\"请选择\"\n          @change=\"handleOperatorChange\"\n        >\n          <el-option v-for=\"(item, index) in comparisonOperators\" :key=\"index\" :label=\"item.value\" :value=\"item.value\">\n          </el-option>\n        </el-select>\n      </el-col>\n      <el-col :span=\"10\">\n        <value-collector\n          :options=\"valueOptions\"\n          :context=\"context\"\n          :lf=\"lf\"\n          :types=\"valueTypes\"\n          :value=\"condition.value\"\n          @change=\"handleValueChange\"\n        ></value-collector>\n      </el-col>\n    </el-row>\n  </div>\n</template>\n\n<script>\nimport valueCollector from '../valueCollector/index.vue'\nimport { comparisonOperators } from '../../util/expression'\n\nexport default {\n  props: {\n    lf: Object,\n    context: Object,\n    current: Object,\n    value: [String, Number, Boolean, Object, Array],\n    title: String\n  },\n  model: {\n    prop: 'value',\n    event: 'change'\n  },\n  data() {\n    return {\n      comparisonOperators,\n      condition: {},\n      val: {},\n      valueOptions: [],\n      keyTypes: ['component', 'componentProp', 'dataSource', 'dataConvert', 'urlParam', 'initParam'],\n      valueTypes: ['option', 'input', 'component', 'componentProp', 'dataSource', 'dataConvert', 'urlParam', 'initParam']\n    }\n  },\n  watch: {\n    value: {\n      deep: true,\n      immediate: true,\n      handler(nv) {\n        this.condition = nv\n      }\n    },\n    condition: {\n      deep: true,\n      immediate: true,\n      handler(nv) {\n        this.valueTypes = ['input', 'component', 'componentProp', 'dataSource']\n        this.valueOptions = []\n      }\n    }\n  },\n  methods: {\n    handleKeyChange(e) {\n      this.condition.key = e\n      this.$emit('change', this.condition)\n    },\n    handleValueChange(e) {\n      this.condition.value = e\n      this.$emit('change', this.condition)\n    },\n    handleOperatorChange() {\n      this.$emit('change', this.condition)\n    },\n    handleDelete() {\n      this.$emit('delete')\n    }\n  },\n  components: {\n    valueCollector\n  }\n}\n</script>\n\n<style scoped lang=\"less\">\n.action-item-wrap {\n  background: #f3f6fa;\n  border-radius: 4px;\n  font-family: PingFangSC-Regular;\n  font-size: 12px;\n  color: #303a51;\n  line-height: 16px;\n  font-weight: 400;\n  padding: 9px 12px;\n}\n\n.header {\n  border-bottom: 1px solid #dcdfe6;\n  margin-bottom: 8px;\n  padding: 0 0 4px 0;\n}\n\n.delete {\n  float: right;\n  color: #a8adbd;\n  font-weight: 400;\n  &:hover {\n    color: #2961ef;\n  }\n}\n/deep/.el-col {\n  display: flex;\n}\n/deep/.el-select {\n  flex: 1;\n}\n.value-select {\n  flex: 1;\n}\n.delete-button {\n  height: 32px;\n  font-size: 20px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.action-label {\n  margin-right: 10px;\n  height: 32px;\n  line-height: 32px;\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./conditionItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./conditionItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./conditionItem.vue?vue&type=template&id=76bfb9e4&scoped=true&\"\nimport script from \"./conditionItem.vue?vue&type=script&lang=js&\"\nexport * from \"./conditionItem.vue?vue&type=script&lang=js&\"\nimport style0 from \"./conditionItem.vue?vue&type=style&index=0&id=76bfb9e4&prod&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"76bfb9e4\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"setter-wrapper\">\n    <condition-item\n      v-for=\"(item, index) in conditions\"\n      :title=\"`条件${index+1}（C${index+1}）`\"\n      :key=\"index\"\n      :value=\"item\"\n      :context=\"context\"\n      :current=\"current\"\n      :lf=\"lf\"\n      @change=\"handleConditionChange($event, index)\"\n      @delete=\"handleConditionDelete(index)\"\n      class=\"setter-item\"\n    ></condition-item>\n    <el-link \n      type=\"primary\" \n      :underline=\"false\"\n      class=\"add-button\"\n      @click=\"addCondition\"\n    >\n      <i class=\"el-icon-circle-plus-outline\"></i>\n      添加条件\n    </el-link>\n    <el-row class=\"setter-footer\">\n      <el-radio-group v-model=\"combineType\" size=\"small\" v-if=\"conditions.length\" @change=\"handleCombineTypeChange\">\n        <el-radio :label=\"1\" size=\"small\">满足所有条件</el-radio>\n        <el-radio :label=\"2\">满足任意条件</el-radio>\n        <el-radio :label=\"3\">自定义</el-radio>\n        <el-input \n          class=\"input\"\n          v-model=\"combineRule\" \n          placeholder=\"例如：C1&&(C2||C3)\" \n          size=\"small\"\n          :disabled=\"combineType!==3\"\n          @change=\"handleCombineTypeChange\"\n        >\n        </el-input>\n      </el-radio-group>\n    </el-row>\n  </div>\n</template>\n\n<script>\nimport conditionItem from './conditionItem.vue'\nexport default {\n  props: {\n    lf: Object,\n    context: Object,\n    current: Object,\n    value: [String, Number, Boolean, Object, Array]\n  },\n  model: {\n    prop: \"value\",\n    event: \"change\"\n  },\n  data () {\n    return {\n      combineType: 1,\n      combineRule: '',\n      conditions: [],\n    }\n  },\n  watch: {\n    value: {\n      deep: true,\n      immediate: true,\n      handler (nv) {\n        if (nv && nv.conditions && nv.conditions.length) {\n          this.conditions = nv.conditions || []\n          this.combineRule = nv.combineRule || ''\n          this.combineType = nv.combineType || 1\n          this.handleCombineType()\n        } else {\n          this.conditions = []\n          this.combineRule = ''\n          this.combineType = 1\n        }\n      }\n    },\n    combineType: {\n      immediate: true,\n      handler (nv) {\n        this.handleCombineType()\n      }\n    }\n  },\n  methods: {\n    handleConditionChange(e, index) {\n      this.conditions[index] = e\n      this.$emit('change', {\n        combineRule: this.combineRule,\n        conditions: this.conditions,\n        combineType: this.combineType,\n      })\n    },\n    handleConditionDelete(index) {\n      this.conditions.splice(index, 1)\n      this.$emit('change', {\n        combineRule: this.combineRule,\n        conditions: this.conditions,\n        combineType: this.combineType,\n      })\n      this.handleCombineType()\n    },\n    handleCombineTypeChange() {\n      this.handleCombineType()\n      this.$emit('change', {\n        combineRule: this.combineRule,\n        conditions: this.conditions,\n        combineType: this.combineType,\n      })\n    },\n    handleCombineType() {\n      switch (this.combineType) {\n        case 1: \n          this.combineRule = this.conditions.map((item, index)=> {\n            return `C${index+1}`\n          }).join('&&')\n          break\n        case 2: \n          this.combineRule = this.conditions.map((item, index)=> {\n            return `C${index+1}`\n          }).join('||')\n          break\n      }\n    },\n    addCondition() {\n      if (this.conditions.length >= 6) {\n        this.$message.warning('一条线最多允许添加6个判断条件！')\n        return\n      }\n      const tempCondition = {\n        operator: '==', // 比较运算符\n        key: {},\n        value: {}\n      }\n      this.conditions.push(tempCondition)\n      this.handleCombineType()\n    }\n  },\n  components: {\n    conditionItem\n  }\n}\n</script>\n\n<style scoped lang=\"less\">\n.setter-wrapper {\n  width: 100%;\n  font-size: 12px;\n}\n\n.setter-item {\n  margin-bottom: 10px;\n}\n\n.setter-header {\n  margin-bottom: 20px;\n}\n.setter-footer {\n  margin-top: 20px;\n}\n\n/deep/.el-radio__label {\n  font-size: 12px;\n  padding-left: 4px;\n}\n/deep/.el-radio {\n  &:not(:last-of-type){\n    margin-right: 20px;\n  }\n  margin-right: 4px;\n}\n.input {\n  margin-top: 10px;\n}\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./conditionSetter.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./conditionSetter.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./conditionSetter.vue?vue&type=template&id=777e9f2f&scoped=true&\"\nimport script from \"./conditionSetter.vue?vue&type=script&lang=js&\"\nexport * from \"./conditionSetter.vue?vue&type=script&lang=js&\"\nimport style0 from \"./conditionSetter.vue?vue&type=style&index=0&id=777e9f2f&prod&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"777e9f2f\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('div',{staticClass:\"event-panel-wrapper setter-wrap\"},[_c('div',{staticClass:\"event-label\"},[_vm._v(\"触发后续行为的事件：\")]),_c('el-select',{staticClass:\"event-select\",attrs:{\"value\":_vm.selectValue,\"clearable\":\"\",\"size\":\"small\",\"placeholder\":\"请选择\"},on:{\"change\":_vm.handleChange}},_vm._l((_vm.eventOptions),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"size\":\"small\",\"value\":item.value}})}),1)],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div class=\"event-panel-wrapper setter-wrap\">\n      <div class=\"event-label\">触发后续行为的事件：</div>\n      <el-select \n        :value=\"selectValue\"\n        clearable\n        class=\"event-select\" \n        size=\"small\" \n        placeholder=\"请选择\"\n        @change=\"handleChange\"\n        >\n        <el-option\n          v-for=\"item in eventOptions\"\n          :key=\"item.value\"\n          :label=\"item.label\"\n          size=\"small\"\n          :value=\"item.value\">\n        </el-option>\n      </el-select>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    lf: Object,\n    context: Object,\n    current: Object,\n    value: {\n      type: Object,\n      default: () => {}\n    }\n  },\n  model: {\n    prop: \"value\",\n    event: \"change\"\n  },\n  computed: {\n    selectValue () {\n      return this.value.key\n    },\n    // 值选项\n    eventOptions () { \n      const logic = this.current.getLogic();\n      const events = logic.events\n      const options = events && events.map(item => {\n        return {\n          label: item.description,\n          value: item.name\n        }\n      }) || []\n      return options\n    },\n  },\n  methods: {\n    handleChange (e) {\n      const target = this.eventOptions.find(item => item.value === e) || {}\n      const event = {\n        keyDefine: target.label,\n        key: target.value,\n      }\n      this.$emit('change', event)\n    }\n  },\n}\n</script>\n\n<style scoped lang=\"less\">\n.event-panel-wrapper {\n  display: inline-flex;\n  width: 100%;\n}\n.event-label {\n  color: #333;\n  line-height: 32px;\n  height: 32px;\n  margin-right: 8px;\n}\n.event-select {\n  flex: 1;\n}\n.setter-wrap {\n  background: #F3F6FA;\n  border-radius: 4px;\n  font-family: PingFangSC-Regular;\n  font-size: 12px;\n  color: #303A51;\n  line-height: 16px;\n  font-weight: 400;\n  padding: 9px 12px;\n}\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./eventSetter.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./eventSetter.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./eventSetter.vue?vue&type=template&id=7575ba58&scoped=true&\"\nimport script from \"./eventSetter.vue?vue&type=script&lang=js&\"\nexport * from \"./eventSetter.vue?vue&type=script&lang=js&\"\nimport style0 from \"./eventSetter.vue?vue&type=style&index=0&id=7575ba58&prod&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7575ba58\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.isFetching),expression:\"isFetching\"}],staticClass:\"ds-panel-wrapper\"},[_c('div',{staticClass:\"panel-item item-wrap\"},[_c('div',{staticClass:\"ds-label\"},[_vm._v(\"请求来源：\")]),_c('el-radio-group',{staticClass:\"ds-type-radio\",attrs:{\"size\":\"small\"},on:{\"change\":_vm.handleDsTypeChange},model:{value:(_vm.fetchMode),callback:function ($$v) {_vm.fetchMode=$$v},expression:\"fetchMode\"}},[_c('el-radio',{attrs:{\"label\":\"direct\"}},[_vm._v(\"宿主系统\")]),_c('el-radio',{attrs:{\"label\":\"redirect\"}},[_vm._v(\"资源引擎\")]),_c('el-radio',{attrs:{\"label\":\"custom\"}},[_vm._v(\"自定义\")])],1)],1),(_vm.fetchMode !== 'custom')?_c('div',{staticClass:\"panel-item item-wrap\"},[_c('div',{staticClass:\"ds-label\"},[_vm._v(\"请求接口：\")]),(_vm.fetchMode === 'direct')?_c('el-select',{staticClass:\"ds-select\",attrs:{\"filterable\":\"\",\"size\":\"small\",\"placeholder\":\"请选择\"},on:{\"change\":_vm.handleDsChange},model:{value:(_vm.apiId),callback:function ($$v) {_vm.apiId=$$v},expression:\"apiId\"}},_vm._l((_vm.options),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"size\":\"small\",\"value\":item.value}})}),1):(_vm.fetchMode === 'redirect')?_c('el-select',{staticClass:\"ds-select\",attrs:{\"filterable\":\"\",\"size\":\"small\",\"placeholder\":\"请选择\"},on:{\"change\":_vm.handleDsChange},model:{value:(_vm.apiId),callback:function ($$v) {_vm.apiId=$$v},expression:\"apiId\"}},_vm._l((_vm.options),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"size\":\"small\",\"value\":item.value}})}),1):_vm._e()],1):_vm._e(),(_vm.fetchMode === 'custom')?_c('div',{staticClass:\"panel-item item-wrap\"},[_c('CurlImport',{on:{\"import\":_vm.$_importData}})],1):_vm._e(),(_vm.fetchMode === 'custom')?_c('div',{staticClass:\"panel-item item-wrap\"},[_c('div',{staticClass:\"ds-label\"},[_vm._v(\"请求接口名称：\")]),_c('el-input',{attrs:{\"placeholder\":\"请输入\",\"size\":\"small\"},on:{\"change\":_vm.handleDsChange},model:{value:(_vm.requestName),callback:function ($$v) {_vm.requestName=$$v},expression:\"requestName\"}})],1):_vm._e(),(_vm.fetchMode === 'custom')?_c('div',{staticClass:\"panel-item item-wrap\"},[_c('div',{staticClass:\"ds-label\"},[_vm._v(\"请求接口地址：\")]),_c('el-input',{attrs:{\"placeholder\":\"请输入\",\"size\":\"small\"},on:{\"change\":_vm.handleDsChange},model:{value:(_vm.requestUrl),callback:function ($$v) {_vm.requestUrl=$$v},expression:\"requestUrl\"}})],1):_vm._e(),(_vm.fetchMode === 'custom')?_c('div',{staticClass:\"panel-item item-wrap\"},[_c('div',{staticClass:\"ds-label\"},[_vm._v(\"请求方法：\")]),_c('el-select',{staticClass:\"ds-select\",attrs:{\"filterable\":\"\",\"size\":\"small\",\"placeholder\":\"请选择\"},on:{\"change\":_vm.handleDsChange},model:{value:(_vm.requestMethod),callback:function ($$v) {_vm.requestMethod=$$v},expression:\"requestMethod\"}},_vm._l((_vm.requestMethodMap),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"size\":\"small\",\"value\":item.value}})}),1)],1):_vm._e(),_c('div',{staticClass:\"item-wrap\"},[_c('div',{staticClass:\"ds-label\"},[_vm._v(\"请求参数配置：\")]),_c('el-tabs',{model:{value:(_vm.activeType),callback:function ($$v) {_vm.activeType=$$v},expression:\"activeType\"}},[_c('el-tab-pane',{attrs:{\"label\":\"Query\",\"name\":\"query\"}},[_c('param-collector',{attrs:{\"lf\":_vm.lf,\"paramList\":_vm.queryParamList,\"context\":_vm.context},on:{\"change\":_vm.handleQueryParamsChange},model:{value:(_vm.queryParams),callback:function ($$v) {_vm.queryParams=$$v},expression:\"queryParams\"}})],1),_c('el-tab-pane',{attrs:{\"label\":\"Body\",\"name\":\"body\"}},[_c('param-collector',{attrs:{\"lf\":_vm.lf,\"paramList\":_vm.bodyParamList,\"context\":_vm.context},on:{\"change\":_vm.handleBodyParamsChange},model:{value:(_vm.bodyParams),callback:function ($$v) {_vm.bodyParams=$$v},expression:\"bodyParams\"}})],1)],1)],1),(_vm.fetchMode === 'direct')?_c('div',{staticClass:\"item-wrap\"},[_c('div',{staticClass:\"ds-label\"},[_vm._v(\"请求失败配置：\")]),_c('div',[_vm._v(\" 当请求失败时，是否继续执行后续逻辑： \"),_c('el-switch',{attrs:{\"active-text\":\"是\",\"inactive-text\":\"否\",\"size\":\"mini\"},on:{\"change\":_vm.handleErrorChange},model:{value:(_vm.continueOnError),callback:function ($$v) {_vm.continueOnError=$$v},expression:\"continueOnError\"}})],1)]):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.paramList,\"border\":true,\"type\":\"selection\"}},[_c('el-table-column',{attrs:{\"prop\":\"key\",\"label\":\"KEY\",\"width\":\"160\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.keyType !== 'custom')?_c('div',[_c('span',{staticClass:\"required\"},[_vm._v(_vm._s(scope.row.required ? '*' : ''))]),_vm._v(\" \"+_vm._s(scope.row.key)+\" \")]):_c('el-input',{attrs:{\"placeholder\":\"请输入\",\"size\":\"small\"},on:{\"change\":function($event){return _vm.handleKeyChange($event, scope.row)}},model:{value:(scope.row.key),callback:function ($$v) {_vm.$set(scope.row, \"key\", $$v)},expression:\"scope.row.key\"}})]}}])}),_c('el-table-column',{attrs:{\"prop\":\"value\",\"label\":\"VALUE\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('value-collector',{staticClass:\"value-select\",attrs:{\"value\":_vm.param[scope.row.key],\"name\":scope,\"context\":_vm.context,\"types\":_vm.types,\"defaultValue\":_vm.defaultValue,\"lf\":_vm.lf},on:{\"change\":function($event){return _vm.handleValueChange($event, scope.row)}}})]}}])}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"60\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"icon\":\"el-icon-delete\",\"circle\":\"\",\"type\":\"danger\",\"size\":\"mini\",\"disabled\":!!scope.row.required},on:{\"click\":function($event){return _vm.removeParam(scope.row)}}})]}}])})],1),_c('el-link',{staticClass:\"add-button\",attrs:{\"type\":\"primary\",\"underline\":false},on:{\"click\":_vm.addCustom}},[_c('i',{staticClass:\"el-icon-circle-plus-outline\"}),_vm._v(\" 添加自定义参数 \")])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <el-table :data=\"paramList\" :border=\"true\" type=\"selection\" style=\"width: 100%\">\n      <el-table-column prop=\"key\" label=\"KEY\" width=\"160\">\n        <template slot-scope=\"scope\">\n          <div v-if=\"scope.row.keyType !== 'custom'\">\n            <span class=\"required\">{{ scope.row.required ? '*' : '' }}</span>\n            {{ scope.row.key }}\n          </div>\n          <el-input\n            v-else\n            v-model=\"scope.row.key\"\n            placeholder=\"请输入\"\n            size=\"small\"\n            @change=\"handleKeyChange($event, scope.row)\"\n          >\n          </el-input>\n        </template>\n      </el-table-column>\n      <el-table-column prop=\"value\" label=\"VALUE\">\n        <template slot-scope=\"scope\">\n          <value-collector\n            class=\"value-select\"\n            :value=\"param[scope.row.key]\"\n            :name=\"scope\"\n            :context=\"context\"\n            :types=\"types\"\n            :defaultValue=\"defaultValue\"\n            :lf=\"lf\"\n            @change=\"handleValueChange($event, scope.row)\"\n          ></value-collector>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"操作\" width=\"60\">\n        <template slot-scope=\"scope\">\n          <el-button\n            icon=\"el-icon-delete\"\n            circle\n            type=\"danger\"\n            size=\"mini\"\n            :disabled=\"!!scope.row.required\"\n            @click=\"removeParam(scope.row)\"\n          ></el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n    <el-link type=\"primary\" :underline=\"false\" class=\"add-button\" @click=\"addCustom\">\n      <i class=\"el-icon-circle-plus-outline\"></i>\n      添加自定义参数\n    </el-link>\n  </div>\n</template>\n\n<script>\nimport { findIndex } from 'lodash-es'\nimport valueCollector from '../valueCollector/index.vue'\nexport default {\n  props: {\n    context: Object,\n    lf: Object,\n    defaultValue: [String, Number, Boolean, Object, Array],\n    paramList: Array,\n    value: {\n      type: Array,\n      default: () => []\n    }\n  },\n  watch: {\n    value: {\n      deep: true,\n      immediate: true,\n      handler(nv) {\n        const param = this.convertParam(nv)\n        this.param = param\n      }\n    }\n  },\n  data() {\n    return {\n      list: [],\n      types: ['input', 'dataSource', 'dataConvert', 'urlParam', 'initParam'],\n      param: {}\n    }\n  },\n  methods: {\n    /** 返回的param格式\n     queryParams:\n     [\n       {\n          key: 'page', // 参数名称\n          paramType: 'int', // 参数类型\n          value: { // 返回的是一个值收集器的内容\n            type: 'component',\n            componentId: '111', // 页面组件Id' \n            field: 'id', // 如果组件的属性值是对象，则可以通过field获取对象的字段\n            prop: 'name', // 属性值，调用model的getProps('name')获取属性值\n            dataType: '', // 该值的数据类型，由物料定义的该propType\n          }\n       }\n     ]\n    **/\n    formatParam() {\n      const keys = Object.keys(this.param)\n      const data = keys.map((key) => {\n        return {\n          key: key,\n          paramType: this.param[key].paramType,\n          keyType: key ? this.param[key].keyType : 'custom',\n          value: this.param[key]\n        }\n      })\n      return data\n    },\n    convertParam(data) {\n      const param = {}\n      data.map((item) => {\n        param[item.key] = item.value\n      })\n      return param\n    },\n    handleValueChange(e, row) {\n      const key = row.key\n      this.param[key] = e\n      this.param[key].paramType = row.paramType\n      this.param[key].keyType = row.keyType\n      const param = this.formatParam()\n      this.$emit('change', param)\n    },\n    handleKeyChange(e, row) {\n      console.log('2', row)\n      const key = row.key\n      this.param[key] = row.value || {}\n      this.param[key].keyType = row.keyType\n      const param = this.formatParam()\n      this.$emit('change', param)\n    },\n    removeParam(row) {\n      const idx = findIndex(this.paramList, (o) => o.key === row.key)\n      this.paramList.splice(idx, 1)\n      delete this.param[row.key]\n      const param = this.formatParam()\n      this.$emit('change', param)\n    },\n    addCustom() {\n      const item = {\n        key: '',\n        value: '',\n        required: 0,\n        keyType: 'custom'\n      }\n      this.paramList.push(item)\n    }\n  },\n  components: {\n    valueCollector\n  }\n}\n</script>\n\n<style scoped lang=\"less\">\n/deep/.el-select {\n  width: 100%;\n}\n.required {\n  color: #f56c6c;\n  width: 6px;\n  display: inline-block;\n  text-align: right;\n}\n.add-button {\n  margin-top: 10px;\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=26ffbfec&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=26ffbfec&prod&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"26ffbfec\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"curl-import\"},[_c('el-button',{staticClass:\"import-btn\",attrs:{\"type\":\"text\"},on:{\"click\":_vm.$_openDialog}},[_vm._v(\"从cURL语句导入\")]),_c('el-dialog',{attrs:{\"visible\":_vm.dialogInfo.visible,\"destroy-on-close\":\"\",\"title\":\"cURL语句导入\",\"custom-class\":\"ds-dialog__import\",\"append-to-body\":\"\"},on:{\"update:visible\":function($event){return _vm.$set(_vm.dialogInfo, \"visible\", $event)}}},[_c('div',[_c('el-input',{attrs:{\"type\":\"textarea\",\"autosize\":{minRows: 8}},model:{value:(_vm.dialogInfo.value),callback:function ($$v) {_vm.$set(_vm.dialogInfo, \"value\", $$v)},expression:\"dialogInfo.value\"}})],1),_c('div',{staticClass:\"btns\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":_vm.$_cancelImport}},[_vm._v(\"取消\")]),_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":_vm.$_confirmImport}},[_vm._v(\"导入\")])],1)])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n<div class=\"curl-import\">\n  <el-button class=\"import-btn\" type=\"text\" @click=\"$_openDialog\">从cURL语句导入</el-button>\n  <el-dialog :visible.sync=\"dialogInfo.visible\" destroy-on-close title=\"cURL语句导入\" custom-class=\"ds-dialog__import\" append-to-body>\n    <div>\n      <el-input type=\"textarea\" v-model=\"dialogInfo.value\" :autosize=\"{minRows: 8}\"></el-input>\n    </div>\n    <div class=\"btns\" slot=\"footer\">\n      <el-button size=\"small\" @click=\"$_cancelImport\">取消</el-button>\n      <el-button size=\"small\" type=\"primary\" @click=\"$_confirmImport\">导入</el-button>\n    </div>\n  </el-dialog>\n</div>\n</template>\n\n<script>\nexport default {\n  name: '',\n  components: {},\n  data () {\n    return {\n      dialogInfo: {\n        visible: false,\n        value: ''\n      }\n    }\n  },\n  methods: {\n    $_openDialog() {\n      this.dialogInfo = {\n        visible: true,\n        value: ''\n      }\n    },\n    $_cancelImport() {\n      this.dialogInfo.visible = false\n    },\n    $_confirmImport() {\n      this.$emit('import', this.$_getRequestMsg(this.dialogInfo.value))\n      this.dialogInfo.visible = false\n    },\n    $_getRequestMsg(str) { // cURL语句解析过程\n      const res = {\n        requestMethod: 'GET' // curl语句中不一定会明确指定请求方法， 默认get\n      }\n      const haveGetOption = str.match(/\\s-G\\s/) || str.match(/\\s--get\\s/);\n      // 表示使用get方法发送-d数据\n      if (haveGetOption) {\n        res.requestMethod = 'GET';\n      }\n      const strArr = str.split(' \\\\');\n      let queryParams = {};\n      let bodyParams = {};\n      strArr.forEach((item) => {\n        const reg = /'[\\s\\S]*'/; // 获取单引号中的参数内容\n        // curl开头的语句， 可以取到url\n        if (item.match(/curl\\s/)) {\n          // 正则表达式判断URL地址合法性\n          /* eslint-disable-next-line */\n          const strUrl= /(?:http(s)?:\\/\\/)?[\\w.-]+(?:\\.[\\w\\.-]+)+[\\w\\-\\._~:/?#[\\]@!\\$&'\\*\\+,;=.]+\\b/;\n          const urlMsg = item.match(strUrl);\n          if (urlMsg) {\n            const urlArray = urlMsg[0].split('?');\n            // 获取url地址\n            /* eslint-disable-next-line */\n            res.requestUrl = urlArray[0];\n            if (urlArray[1]) {\n              // 在这里拿query参数\n              queryParams = {\n                ...queryParams,\n                ...parseQueryString(`?${urlArray[1]}`),\n              };\n            }\n          }\n        }\n        // 获取指定的请求方法\n        if (item.match(/\\s-X\\s/) || item.match(/\\s--request\\s/)) {\n          if (item.indexOf('POST') > -1) {\n            res.requestMethod = 'POST';\n          } else if (item.indexOf('GET') > -1) {\n            res.requestMethod = 'GET';\n          }\n        }\n        // 获取body参数\n        // curl命令中发送body参数所使用的命令\n        const bodyParamsOptions = [\n          /\\s-d\\s/,\n          /\\s--data\\s/,\n          /\\s--data-urlencode\\s/,\n          /\\s--data-raw\\s/,\n          /\\s--data-binary\\s/,\n          /\\s--data-ascii\\s/,\n        ];\n        if (bodyParamsOptions.some((option) => !!item.match(option))) {\n          const params = item.match(reg);\n          if (params) {\n            const value = params[0].slice(1, -1);\n            try {\n              // 如果是json格式\n              const json = JSON.parse(value);\n              if (haveGetOption) {\n                queryParams = {\n                  ...queryParams,\n                  ...json,\n                };\n              } else {\n                res.requestMethod = 'POST'\n                bodyParams = {\n                  ...bodyParams,\n                  ...json,\n                };\n              }\n            } catch (error) {\n              // 如果是表达式\n              const regParam = new RegExp(/\\S+=\\S+/);\n              if (regParam.test(value)) {\n                const [key, val] = value.split('=');\n                if (haveGetOption) {\n                  queryParams = {\n                    ...queryParams,\n                    [key]: val,\n                  };\n                } else {\n                  bodyParams = {\n                    ...bodyParams,\n                    [key]: val,\n                  };\n                }\n              }\n            }\n          }\n        }\n      });\n      res.queryParams = this.transJsonToTable(queryParams);\n      res.bodyParams = this.transJsonToTable(bodyParams);\n      return res;\n    },\n    parseQueryString(search){\n      if (search.length <= 0) return {};\n      const res = {};\n      const queryParams = decodeURIComponent(search).slice(1).split('&');\n      queryParams.forEach((query) => {\n        const [key, value] = query.split('=');\n        res[key] = value;\n      });\n      return res;\n    },\n    transJsonToTable(params) {\n      const list = [];\n      for (const key in params) {\n        if (Object.prototype.hasOwnProperty.call(params, key)) {\n          const property = params[key];\n          const { fieldType, fieldTypeName } = this.getPropertyType(property);\n          const paramExample =\n            fieldTypeName === 'json' || fieldTypeName === 'list' ? JSON.stringify(property) : property;\n          list.push({\n            key,\n            keyType: 'custom',\n            value: {\n              type: 'input',\n              keyType: 'custom',\n              value: paramExample,\n              dataType: fieldType\n            },\n            required: 0\n          });\n        }\n      }\n      return list;\n    },\n    // 识别参数类型\n    getPropertyType(property) {\n      let fieldTypeName = {}.toString.call(property).slice(8, -1).toLowerCase();\n      return {\n        fieldType: fieldTypeName\n      };\n    }\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.curl-import {\n  .import-btn {\n    font-size: 12px;\n    padding: 0;\n    border: 0;\n    font-size: 12px;\n  }\n  /deep/ .ds-dialog__import {\n    width: 800px;\n    .el-dialog__body {\n\n    }\n    .btns {\n      text-align: right;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./curlImport.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./curlImport.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./curlImport.vue?vue&type=template&id=55d7d47b&scoped=true&\"\nimport script from \"./curlImport.vue?vue&type=script&lang=js&\"\nexport * from \"./curlImport.vue?vue&type=script&lang=js&\"\nimport style0 from \"./curlImport.vue?vue&type=style&index=0&id=55d7d47b&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"55d7d47b\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"ds-panel-wrapper\" v-loading=\"isFetching\">\n    <div class=\"panel-item item-wrap\">\n      <div class=\"ds-label\">请求来源：</div>\n      <el-radio-group\n        class=\"ds-type-radio\"\n        size=\"small\"\n        v-model=\"fetchMode\"\n        @change=\"handleDsTypeChange\"\n      >\n        <!-- 直连模式 -->\n        <el-radio label=\"direct\">宿主系统</el-radio>\n        <!-- 转发模式 -->\n        <el-radio label=\"redirect\">资源引擎</el-radio>\n        <!-- 自定义接口 -->\n        <el-radio label=\"custom\">自定义</el-radio>\n      </el-radio-group>\n    </div>\n    <div class=\"panel-item item-wrap\" v-if=\"fetchMode !== 'custom'\">\n      <div class=\"ds-label\">请求接口：</div>\n      <el-select\n        filterable\n        v-model=\"apiId\"\n        class=\"ds-select\"\n        size=\"small\"\n        placeholder=\"请选择\"\n        v-if=\"fetchMode === 'direct'\"\n        @change=\"handleDsChange\"\n      >\n        <el-option\n          v-for=\"item in options\"\n          :key=\"item.value\"\n          :label=\"item.label\"\n          size=\"small\"\n          :value=\"item.value\"\n        >\n        </el-option>\n      </el-select>\n\n      <el-select\n        filterable\n        v-model=\"apiId\"\n        class=\"ds-select\"\n        size=\"small\"\n        placeholder=\"请选择\"\n        v-else-if=\"fetchMode === 'redirect'\"\n        @change=\"handleDsChange\"\n      >\n        <el-option\n          v-for=\"item in options\"\n          :key=\"item.value\"\n          :label=\"item.label\"\n          size=\"small\"\n          :value=\"item.value\"\n        >\n        </el-option>\n      </el-select>\n    </div>\n    <!-- curl语句导入 -->\n    <div class=\"panel-item item-wrap\" v-if=\"fetchMode === 'custom'\">\n      <CurlImport @import=\"$_importData\"></CurlImport>\n    </div>\n    <div class=\"panel-item item-wrap\" v-if=\"fetchMode === 'custom'\">\n      <div class=\"ds-label\">请求接口名称：</div>\n      <el-input\n        v-model=\"requestName\"\n        placeholder=\"请输入\"\n        size=\"small\"\n        @change=\"handleDsChange\"\n      >\n      </el-input>\n    </div>\n    <div class=\"panel-item item-wrap\" v-if=\"fetchMode === 'custom'\">\n      <div class=\"ds-label\">请求接口地址：</div>\n      <el-input\n        v-model=\"requestUrl\"\n        placeholder=\"请输入\"\n        size=\"small\"\n        @change=\"handleDsChange\"\n      >\n      </el-input>\n    </div>\n    <div class=\"panel-item item-wrap\" v-if=\"fetchMode === 'custom'\">\n      <div class=\"ds-label\">请求方法：</div>\n      <el-select\n        filterable\n        v-model=\"requestMethod\"\n        class=\"ds-select\"\n        size=\"small\"\n        placeholder=\"请选择\"\n        @change=\"handleDsChange\"\n      >\n        <el-option\n          v-for=\"item in requestMethodMap\"\n          :key=\"item.value\"\n          :label=\"item.label\"\n          size=\"small\"\n          :value=\"item.value\"\n        >\n        </el-option>\n      </el-select>\n    </div>\n    <div class=\"item-wrap\">\n      <div class=\"ds-label\">请求参数配置：</div>\n      <el-tabs v-model=\"activeType\">\n        <el-tab-pane label=\"Query\" name=\"query\">\n          <param-collector\n            v-model=\"queryParams\"\n            :lf=\"lf\"\n            :paramList=\"queryParamList\"\n            :context=\"context\"\n            @change=\"handleQueryParamsChange\"\n          ></param-collector>\n        </el-tab-pane>\n        <el-tab-pane label=\"Body\" name=\"body\">\n          <param-collector\n            v-model=\"bodyParams\"\n            :lf=\"lf\"\n            :paramList=\"bodyParamList\"\n            :context=\"context\"\n            @change=\"handleBodyParamsChange\"\n          ></param-collector>\n        </el-tab-pane>\n      </el-tabs>\n    </div>\n    <div class=\"item-wrap\" v-if=\"fetchMode === 'direct'\">\n      <div class=\"ds-label\">请求失败配置：</div>\n      <div>\n        当请求失败时，是否继续执行后续逻辑：\n        <el-switch\n          v-model=\"continueOnError\"\n          @change=\"handleErrorChange\"\n          active-text=\"是\"\n          inactive-text=\"否\"\n          size=\"mini\"\n        ></el-switch>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport paramCollector from \"../paramCollector/index.vue\";\nimport { requestMethodMap } from \"../../util/typeMap\";\nimport CurlImport from \"./curlImport.vue\";\n\nexport default {\n  props: {\n    lf: Object,\n    context: Object,\n    current: Object,\n    value: {\n      type: Object,\n      default: () => {},\n    },\n  },\n  model: {\n    prop: \"value\",\n    event: \"change\",\n  },\n  data() {\n    return {\n      requestMethodMap,\n      requestName: \"\", // 自定义接口名称\n      requestUrl: \"\", // 自定义接口地址\n      requestMethod: \"GET\", // 自定义接口请求方法\n      fetchMode: \"direct\",\n      apiId: \"\",\n      activeType: \"query\",\n      continueOnError: false,\n      apiList: [],\n      options: [],\n      queryParamList: [],\n      bodyParamList: [],\n      queryParams: [],\n      bodyParams: [],\n      headerParams: [],\n      isFetching: false,\n    };\n  },\n  watch: {\n    \"value.fetchMode\": {\n      immediate: true,\n      async handler(nv) {\n        this.fetchMode = nv || \"direct\";\n      },\n    },\n    \"value.id\": {\n      immediate: true,\n      async handler(nv) {\n        if (this.value.fetchMode === \"custom\") return;\n        this.apiId = nv;\n        if (!nv) return;\n        if (!(this.options && this.options.length)) {\n          await this.getApiOptions();\n        }\n        this.getParamList();\n      },\n    },\n    value: {\n      immediate: true,\n      deep: true,\n      async handler(nv) {\n        this.queryParams = (nv && nv.queryParams) || [];\n        this.bodyParams = (nv && nv.bodyParams) || [];\n        this.headerParams = (nv && nv.headerParams) || [];\n        this.continueOnError = nv.continueOnError;\n        if (this.value.fetchMode === \"custom\") {\n          this.requestName = nv && nv.name;\n          this.requestUrl = nv && nv.url;\n          this.requestMethod = nv && nv.method;\n          this.queryParamList = this.queryParams;\n          this.bodyParamList = this.bodyParams;\n        }\n      },\n    },\n  },\n  created() {\n    this.getApiOptions();\n  },\n  computed: {\n    api() {\n      return this.apiList.find((item) => item.id === this.apiId) || {};\n    },\n  },\n  methods: {\n    async getApiOptions() {\n      this.options = [];\n    },\n    getParamList() {\n      const resourceId =\n        this.fetchMode === \"direct\" ? this.api.id : this.api.resourceId;\n      if (!resourceId) return;\n    },\n    handleDsTypeChange(e) {\n      this.reset();\n      this.apiId = undefined;\n      this.getApiOptions();\n    },\n    handleDsChange(e) {\n      this.reset();\n      this.apiId = e;\n      this.handleChange();\n    },\n    handleQueryParamsChange(e) {\n      this.queryParams = e;\n      this.handleChange();\n    },\n    handleBodyParamsChange(e) {\n      this.bodyParams = e;\n      this.handleChange();\n    },\n    handleErrorChange() {\n      this.handleChange();\n    },\n    handleChange() {\n      let ds;\n      if (this.fetchMode === \"custom\") {\n        // 如果是自定义接口\n        ds = {\n          name: this.requestName,\n          url: this.requestUrl,\n          method: this.requestMethod,\n          fetchMode: \"custom\",\n          queryParams: this.queryParams,\n          bodyParams: this.bodyParams,\n          headerParams: this.headerParams,\n        };\n      } else {\n        // 如果是数据源接口\n        ds = {\n          id: this.api.id,\n          name: this.api.name,\n          key:\n            this.fetchMode === \"direct\"\n              ? this.api.resourceKey\n              : this.api.apiKey,\n          url: this.api.httpApiResourceVO.url,\n          method: this.api.httpApiResourceVO.requestType,\n          contentType: this.api.httpApiResourceVO.contentType,\n          fetchMode: this.api.fetchMode,\n          resourceId: this.api.resourceId,\n          tenant: this.api.tenant,\n          extJson: this.api.extJson,\n          queryParams: this.queryParams,\n          bodyParams: this.bodyParams,\n          headerParams: this.headerParams,\n          continueOnError: this.continueOnError,\n        };\n      }\n      this.$emit(\"change\", ds);\n    },\n    reset() {\n      this.queryParamList = [];\n      this.bodyParamList = [];\n      this.queryParams = [];\n      this.bodyParams = [];\n      this.headerParams = [];\n    },\n    $_importData({ requestMethod, requestUrl, queryParams, bodyParams }) {\n      // 导入数据\n      this.requestMethod = requestMethod;\n      this.requestUrl = requestUrl;\n      this.queryParams = bodyParams;\n      this.bodyParams = bodyParams;\n      this.handleChange();\n    },\n  },\n  components: {\n    paramCollector,\n    CurlImport,\n  },\n};\n</script>\n\n<style scoped lang=\"less\">\n.ds-panel-wrapper {\n  width: 100%;\n}\n.panel-item {\n  width: 100%;\n  display: inline-flex;\n}\n.item-wrap {\n  background: #f3f6fa;\n  border-radius: 4px;\n  font-family: PingFangSC-Regular;\n  font-size: 12px;\n  color: #303a51;\n  line-height: 16px;\n  font-weight: 400;\n  padding: 9px 12px;\n}\n.ds-label {\n  color: #333;\n  line-height: 32px;\n  height: 32px;\n  margin-right: 8px;\n  min-width: 90px;\n}\n.ds-type-radio {\n  display: flex;\n  align-items: center;\n}\n.ds-select {\n  flex: 1;\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./dsSetter.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./dsSetter.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./dsSetter.vue?vue&type=template&id=3331574a&scoped=true&\"\nimport script from \"./dsSetter.vue?vue&type=script&lang=js&\"\nexport * from \"./dsSetter.vue?vue&type=script&lang=js&\"\nimport style0 from \"./dsSetter.vue?vue&type=style&index=0&id=3331574a&prod&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3331574a\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"setter-wrap\"},[_c('label',{staticClass:\"label\"},[_vm._v(\"节点名称:\")]),_c('el-input',{staticClass:\"input\",attrs:{\"placeholder\":\"请输入值\",\"size\":\"small\"},on:{\"change\":_vm.handleChange},model:{value:(_vm.val),callback:function ($$v) {_vm.val=$$v},expression:\"val\"}}),_vm._m(0)],1)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"tip\"},[_c('span',[_vm._v(\"*\")]),_vm._v(\" 建议为节点设置名称，以免后续出现同名节点\")])\n}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"setter-wrap\">\n    <label class=\"label\">节点名称:</label>\n    <el-input class=\"input\" v-model=\"val\" placeholder=\"请输入值\" size=\"small\" @change=\"handleChange\"> </el-input>\n    <div class=\"tip\"><span>*</span> 建议为节点设置名称，以免后续出现同名节点</div>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    value: String\n  },\n  data() {\n    return {\n      val: ''\n    }\n  },\n  watch: {\n    value: {\n      immediate: true,\n      deep: true,\n      handler(nv) {\n        this.val = nv\n      }\n    }\n  },\n  methods: {\n    handleChange(e) {\n      this.val = e\n      this.$emit('change', e)\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"less\">\n.setter-wrap {\n  background: #f3f6fa;\n  border-radius: 4px;\n  font-family: PingFangSC-Regular;\n  font-size: 12px;\n  color: #303a51;\n  line-height: 16px;\n  font-weight: 400;\n  padding: 9px 12px;\n}\n.label {\n  margin-right: 10px;\n}\n.input {\n  width: 200px;\n}\n.tip {\n  color: #a0a1a5;\n  margin-top: 8px;\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./nameSetter.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./nameSetter.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./nameSetter.vue?vue&type=template&id=0d874400&scoped=true&\"\nimport script from \"./nameSetter.vue?vue&type=script&lang=js&\"\nexport * from \"./nameSetter.vue?vue&type=script&lang=js&\"\nimport style0 from \"./nameSetter.vue?vue&type=style&index=0&id=0d874400&prod&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0d874400\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"pj-panel-wrapper\"},[_c('div',{staticClass:\"panel-item item-wrap\"},[_c('div',{staticClass:\"pj-label\"},[_vm._v(\"页面跳转类型：\")]),_c('el-radio-group',{staticClass:\"pj-radio-group\",attrs:{\"size\":\"small\"},on:{\"change\":(val) => _vm.handleParamChange('jumpType', val)},model:{value:(_vm.params.jumpType),callback:function ($$v) {_vm.$set(_vm.params, \"jumpType\", $$v)},expression:\"params.jumpType\"}},[_c('el-radio',{attrs:{\"label\":\"suda\"}},[_vm._v(\"配置页面\")]),_c('el-radio',{attrs:{\"label\":\"custom\"}},[_vm._v(\"自定义页面\")])],1)],1),_c('div',{staticClass:\"panel-item item-wrap\"},[_c('div',{staticClass:\"pj-label\"},[_vm._v(\"页面打开方式：\")]),_c('el-radio-group',{staticClass:\"pj-radio-group\",attrs:{\"size\":\"small\"},on:{\"change\":(val) => _vm.handleParamChange('target', val)},model:{value:(_vm.params.target),callback:function ($$v) {_vm.$set(_vm.params, \"target\", $$v)},expression:\"params.target\"}},[_c('el-radio',{attrs:{\"label\":\"_self\"}},[_vm._v(\"当前页面\")]),_c('el-radio',{attrs:{\"label\":\"_blank\"}},[_vm._v(\"打开新 Tab\")])],1)],1),(_vm.params.jumpType === 'custom')?_c('div',{staticClass:\"panel-item item-wrap\"},[_c('div',{staticClass:\"pj-label\"},[_vm._v(\"目标系统：\")]),_c('el-radio-group',{staticClass:\"pj-radio-group\",attrs:{\"size\":\"small\"},on:{\"change\":(val) => _vm.handleParamChange('system', val)},model:{value:(_vm.params.system),callback:function ($$v) {_vm.$set(_vm.params, \"system\", $$v)},expression:\"params.system\"}},[_c('el-radio',{attrs:{\"label\":\"_current\"}},[_vm._v(\"宿主系统\")]),_c('el-radio',{attrs:{\"label\":\"_other\"}},[_vm._v(\"其他\")])],1)],1):_vm._e(),(_vm.params.jumpType === 'suda')?_c('div',[_c('div',{staticClass:\"panel-item item-wrap\"},[_c('div',{staticClass:\"pj-label\"},[_vm._v(\"目标页面：\")]),_c('el-select',{staticClass:\"pj-select\",attrs:{\"placeholder\":\"请选择\",\"size\":\"small\"},on:{\"change\":(val) => _vm.handleParamChange('formKey', val)},model:{value:(_vm.params.formKey),callback:function ($$v) {_vm.$set(_vm.params, \"formKey\", $$v)},expression:\"params.formKey\"}},_vm._l((_vm.sudaPageList),function(item){return _c('el-option',{key:item.formKey + item.version,attrs:{\"label\":item.name,\"value\":item.formKey}})}),1)],1),_c('div',{staticClass:\"panel-item item-wrap\"},[_c('div',{staticClass:\"pj-label\"},[_vm._v(\"页面路由：\")]),_c('el-input',{staticClass:\"pj-input\",attrs:{\"placeholder\":\"请输入系统路由，例如：'preview'\",\"size\":\"small\"},on:{\"change\":(val) => _vm.handleParamChange('path', val)},model:{value:(_vm.params.path),callback:function ($$v) {_vm.$set(_vm.params, \"path\", $$v)},expression:\"params.path\"}})],1)]):_c('div',{staticClass:\"panel-item item-wrap\"},[_c('div',{staticClass:\"pj-label\"},[_vm._v(\"目标页面：\")]),(_vm.params.system === '_current')?_c('el-input',{staticClass:\"pj-input\",attrs:{\"type\":\"url\",\"placeholder\":\"请输入目标页面系统路径，例如：'path1/path2/path3'\",\"size\":\"small\"},on:{\"change\":(val) => _vm.handleParamChange('customUrl', val)},model:{value:(_vm.params.customUrl),callback:function ($$v) {_vm.$set(_vm.params, \"customUrl\", $$v)},expression:\"params.customUrl\"}}):_c('el-input',{staticClass:\"pj-input\",attrs:{\"type\":\"url\",\"placeholder\":\"请输入目标页面，例如：'https://i.xiaojukeji.com?q=xxx&t=yyy'\",\"size\":\"small\"},on:{\"change\":_vm.handleCustomUrlChange},model:{value:(_vm.params.customUrl),callback:function ($$v) {_vm.$set(_vm.params, \"customUrl\", $$v)},expression:\"params.customUrl\"}})],1),_c('div',{staticClass:\"item-wrap\"},[_c('div',{staticClass:\"pj-label\"},[_vm._v(\"路由参数：\")]),_vm._l((_vm.params.routeParams),function(route,idx){return _c('div',{key:idx,staticClass:\"param-wrapper\"},[_c('div',{staticClass:\"pj-label\"},[_vm._v(\"KEY\")]),_c('el-input',{staticClass:\"pj-param-input\",attrs:{\"placeholder\":\"请输入\",\"size\":\"small\"},on:{\"change\":function($event){return _vm.handleRouteParamKeyChange($event, idx)}},model:{value:(route.key),callback:function ($$v) {_vm.$set(route, \"key\", $$v)},expression:\"route.key\"}}),_c('div',{staticClass:\"pj-label\"},[_vm._v(\"VALUE\")]),_c('value-collector',{staticClass:\"value-select\",attrs:{\"value\":route.value,\"context\":_vm.context,\"types\":_vm.types,\"lf\":_vm.lf},on:{\"change\":function($event){return _vm.handleRouteParamValueChange($event, idx)}}}),_c('el-link',{staticClass:\"delete-button\",attrs:{\"type\":\"danger\",\"icon\":\"el-icon-delete\"},on:{\"click\":function($event){return _vm.deleteParam(idx)}}})],1)}),_c('el-link',{staticClass:\"add-button\",attrs:{\"type\":\"primary\",\"icon\":\"el-icon-circle-plus-outline\"},on:{\"click\":_vm.addParam}},[_vm._v(\" 添加参数 \")])],2)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"pj-panel-wrapper\">\n    <div class=\"panel-item item-wrap\">\n      <div class=\"pj-label\">页面跳转类型：</div>\n      <el-radio-group\n        v-model=\"params.jumpType\"\n        class=\"pj-radio-group\"\n        size=\"small\"\n        @change=\"(val) => handleParamChange('jumpType', val)\"\n      >\n        <el-radio label=\"suda\">配置页面</el-radio>\n        <el-radio label=\"custom\">自定义页面</el-radio>\n      </el-radio-group>\n    </div>\n\n    <div class=\"panel-item item-wrap\">\n      <div class=\"pj-label\">页面打开方式：</div>\n      <el-radio-group\n        v-model=\"params.target\"\n        class=\"pj-radio-group\"\n        size=\"small\"\n        @change=\"(val) => handleParamChange('target', val)\"\n      >\n        <el-radio label=\"_self\">当前页面</el-radio>\n        <el-radio label=\"_blank\">打开新 Tab</el-radio>\n      </el-radio-group>\n    </div>\n    <div class=\"panel-item item-wrap\" v-if=\"params.jumpType === 'custom'\">\n      <div class=\"pj-label\">目标系统：</div>\n      <el-radio-group\n        v-model=\"params.system\"\n        class=\"pj-radio-group\"\n        size=\"small\"\n        @change=\"(val) => handleParamChange('system', val)\"\n      >\n        <el-radio label=\"_current\">宿主系统</el-radio>\n        <el-radio label=\"_other\">其他</el-radio>\n      </el-radio-group>\n    </div>\n\n    <div v-if=\"params.jumpType === 'suda'\">\n      <div class=\"panel-item item-wrap\">\n        <div class=\"pj-label\">目标页面：</div>\n        <el-select\n          v-model=\"params.formKey\"\n          class=\"pj-select\"\n          placeholder=\"请选择\"\n          size=\"small\"\n          @change=\"(val) => handleParamChange('formKey', val)\"\n        >\n          <el-option\n            v-for=\"item in sudaPageList\"\n            :key=\"item.formKey + item.version\"\n            :label=\"item.name\"\n            :value=\"item.formKey\"\n          ></el-option>\n        </el-select>\n      </div>\n      <div class=\"panel-item item-wrap\">\n        <div class=\"pj-label\">页面路由：</div>\n        <el-input\n          v-model=\"params.path\"\n          class=\"pj-input\"\n          placeholder=\"请输入系统路由，例如：'preview'\"\n          size=\"small\"\n          @change=\"(val) => handleParamChange('path', val)\"\n        ></el-input>\n      </div>\n    </div>\n    <div class=\"panel-item item-wrap\" v-else>\n      <div class=\"pj-label\">目标页面：</div>\n      <el-input\n        v-if=\"params.system === '_current'\"\n        type=\"url\"\n        v-model=\"params.customUrl\"\n        class=\"pj-input\"\n        placeholder=\"请输入目标页面系统路径，例如：'path1/path2/path3'\"\n        size=\"small\"\n        @change=\"(val) => handleParamChange('customUrl', val)\"\n      ></el-input>\n      <el-input\n        v-else\n        type=\"url\"\n        v-model=\"params.customUrl\"\n        class=\"pj-input\"\n        placeholder=\"请输入目标页面，例如：'https://i.xiaojukeji.com?q=xxx&t=yyy'\"\n        size=\"small\"\n        @change=\"handleCustomUrlChange\"\n      ></el-input>\n    </div>\n\n    <div class=\"item-wrap\">\n      <div class=\"pj-label\">路由参数：</div>\n      <div class=\"param-wrapper\" v-for=\"(route, idx) in params.routeParams\" :key=\"idx\">\n        <div class=\"pj-label\">KEY</div>\n        <el-input\n          v-model=\"route.key\"\n          class=\"pj-param-input\"\n          placeholder=\"请输入\"\n          size=\"small\"\n          @change=\"handleRouteParamKeyChange($event, idx)\"\n        ></el-input>\n        <div class=\"pj-label\">VALUE</div>\n        <value-collector\n          class=\"value-select\"\n          :value=\"route.value\"\n          :context=\"context\"\n          :types=\"types\"\n          :lf=\"lf\"\n          @change=\"handleRouteParamValueChange($event, idx)\"\n        ></value-collector>\n\n        <el-link class=\"delete-button\" type=\"danger\" icon=\"el-icon-delete\" @click=\"deleteParam(idx)\"></el-link>\n      </div>\n      <el-link type=\"primary\" class=\"add-button\" icon=\"el-icon-circle-plus-outline\" @click=\"addParam\">\n        添加参数\n      </el-link>\n    </div>\n  </div>\n</template>\n\n<script>\nimport qs from 'qs'\nimport { mapKeys } from 'lodash-es'\nimport valueCollector from '../valueCollector/index.vue'\n\nexport default {\n  components: {\n    valueCollector\n  },\n  props: {\n    lf: Object,\n    context: Object,\n    current: Object,\n    value: {\n      type: Object,\n      default: () => {}\n    }\n  },\n  model: {\n    prop: 'value',\n    event: 'change'\n  },\n  data() {\n    return {\n      params: {\n        jumpType: 'suda',\n        target: '_self',\n        system: '_current',\n        formKey: undefined,\n        path: '',\n        customUrl: '',\n        routeParams: []\n      },\n      types: ['input', 'dataSource', 'dataConvert', 'urlParam', 'initParam'],\n      sudaPageList: []\n    }\n  },\n  watch: {\n    value: {\n      deep: true,\n      immediate: true,\n      handler(nv) {\n        if (nv) {\n          this.params = {\n            ...this.params,\n            ...nv\n          }\n        }\n      }\n    }\n  },\n  async mounted() {\n    this.sudaPageList = []\n  },\n  methods: {\n    // 获取速搭配置页面列表\n    addParam() {\n      const tempParam = {\n        key: '',\n        value: undefined\n      }\n      this.params.routeParams.push(tempParam)\n    },\n    deleteParam(idx) {\n      this.params.routeParams.splice(idx, 1)\n    },\n    handleParamChange(key, val) {\n      this.params[key] = val\n      this.$emit('change', this.params)\n\n      // 切换类型时重置其他内容\n      if (key === 'jumpType') {\n        this.params.formKey = undefined\n        this.params.path = ''\n        this.params.customUrl = ''\n        this.params.routeParams = []\n      } else if (key === 'system') {\n        this.params.customUrl = ''\n      }\n    },\n    // 输入自定义路径时处理 query，1. 先判断输入是否有效的 url，2. 将当前 query 取出来并添加到下面参数中\n    handleCustomUrlChange(url) {\n      try {\n        const formattedURL = new URL(url)\n        const { hash, search } = formattedURL\n        let params = {}\n        if (hash.indexOf('?' > -1)) {\n          const hashQueryStr = hash.split('?')[1]\n          const hashQuery = qs.parse(hashQueryStr)\n          params = {\n            ...params,\n            ...hashQuery\n          }\n        }\n\n        if (search.indexOf('?' > -1)) {\n          const searchQueryStr = search.split('?')[1]\n          const searchQuery = qs.parse(searchQueryStr)\n          params = {\n            ...params,\n            ...searchQuery\n          }\n        }\n\n        // 遍历 params 得到 routerParams 字段\n        const routerParams = []\n        mapKeys(params, (value, key) => {\n          routerParams.push({\n            key,\n            value: {\n              dataType: 'string',\n              type: 'input',\n              value\n            }\n          })\n        })\n\n        this.params.routeParams = routerParams\n        // 判断 query 的位置，根据不同情况进行截取\n        const hashIdx = url.indexOf('#')\n        const lastIdx = url.lastIndexOf('?')\n        if (lastIdx > hashIdx && lastIdx > -1) {\n          this.params.customUrl = url.slice(0, lastIdx)\n        } else {\n          this.params.customUrl = url\n        }\n      } catch (error) {\n        this.$message.error('请输入正确的 URL')\n        this.params.customUrl = ''\n        this.params.routeParams = []\n      }\n\n      this.$emit('change', this.params)\n    },\n    handleRouteParamKeyChange(e, idx) {\n      this.params.routeParams[idx].key = e\n\n      this.$emit('change', this.params)\n    },\n    handleRouteParamValueChange(e, idx) {\n      this.params.routeParams[idx].value = e\n      const params = {}\n      this.$emit('change', this.params)\n    }\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.pj-panel-wrapper {\n  width: 100%;\n}\n.panel-item {\n  width: 100%;\n  display: inline-flex;\n}\n.item-wrap {\n  background: #f3f6fa;\n  border-radius: 4px;\n  font-family: PingFangSC-Regular;\n  font-size: 12px;\n  color: #303a51;\n  line-height: 16px;\n  font-weight: 400;\n  padding: 9px 12px;\n}\n.pj-label {\n  color: #333;\n  line-height: 32px;\n  height: 32px;\n  margin-right: 8px;\n}\n.pj-radio-group {\n  display: flex;\n  align-items: center;\n}\n.pj-select {\n  flex: 1;\n}\n.pj-input {\n  flex: 1;\n}\n.pj-param-input {\n  margin-right: 10px;\n  width: 180px;\n}\n\n.param-wrapper {\n  display: flex;\n  // align-items: center;\n  margin-bottom: 10px;\n}\n.delete-button {\n  margin-left: 8px;\n}\n.add-button {\n  margin-top: 10px;\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./pageJumpSetter.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./pageJumpSetter.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./pageJumpSetter.vue?vue&type=template&id=249b69ba&scoped=true&\"\nimport script from \"./pageJumpSetter.vue?vue&type=script&lang=js&\"\nexport * from \"./pageJumpSetter.vue?vue&type=script&lang=js&\"\nimport style0 from \"./pageJumpSetter.vue?vue&type=style&index=0&id=249b69ba&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"249b69ba\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"dc-panel-wrapper\"},[_c('div',{staticClass:\"item-wrap\"},[_c('div',{staticClass:\"dc-label\"},[_vm._v(\"变量：\")]),_vm._l((_vm.params.convertList),function(source,idx){return _c('div',{key:idx,staticClass:\"param-wrapper\"},[_c('div',{staticClass:\"dc-label\"},[_vm._v(\"KEY: \")]),_c('el-input',{staticClass:\"dc-param-input\",attrs:{\"placeholder\":\"请输入\",\"size\":\"small\"},on:{\"change\":function($event){return _vm.handleResourceKeyChange($event, idx)}},model:{value:(source.key),callback:function ($$v) {_vm.$set(source, \"key\", $$v)},expression:\"source.key\"}}),_vm._m(0,true),_c('value-collector',{staticClass:\"value-select\",attrs:{\"value\":source.value,\"context\":_vm.context,\"types\":_vm.types,\"lf\":_vm.lf},on:{\"change\":function($event){return _vm.handleResourceValueChange($event, idx)}}}),_c('el-link',{staticClass:\"delete-button\",attrs:{\"type\":\"danger\",\"icon\":\"el-icon-delete\"},on:{\"click\":function($event){return _vm.deleteParam(idx)}}})],1)}),_c('el-link',{staticClass:\"add-button\",attrs:{\"type\":\"primary\",\"icon\":\"el-icon-circle-plus-outline\"},on:{\"click\":_vm.addParam}},[_vm._v(\" 添加变量 \")])],2),_c('div',{staticClass:\"item-wrap\"},[_c('div',{staticClass:\"dc-label\"},[_vm._v(\"转换函数体：\")]),_c('el-alert',{attrs:{\"title\":\"如上配置的转换源数据 key 可直接作为变量名在下面函数体中使用\",\"type\":\"warning\"}}),_c('div',{attrs:{\"id\":\"my-editor\"}})],1)])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"dc-label\"},[_c('span',[_vm._v(\"=\")]),_vm._v(\"VALUE:\")])\n}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"dc-panel-wrapper\">\n    <div class=\"item-wrap\">\n      <div class=\"dc-label\">变量：</div>\n      <div class=\"param-wrapper\" v-for=\"(source, idx) in params.convertList\" :key=\"idx\">\n        <div class=\"dc-label\">KEY: </div>\n        <el-input\n          v-model=\"source.key\"\n          class=\"dc-param-input\"\n          placeholder=\"请输入\"\n          size=\"small\"\n          @change=\"handleResourceKeyChange($event, idx)\"\n        ></el-input>\n        <div class=\"dc-label\"><span>=</span>VALUE:</div>\n        <value-collector\n          class=\"value-select\"\n          :value=\"source.value\"\n          :context=\"context\"\n          :types=\"types\"\n          :lf=\"lf\"\n          @change=\"handleResourceValueChange($event, idx)\"\n        ></value-collector>\n\n        <el-link class=\"delete-button\" type=\"danger\" icon=\"el-icon-delete\" @click=\"deleteParam(idx)\"></el-link>\n      </div>\n      <el-link type=\"primary\" class=\"add-button\" icon=\"el-icon-circle-plus-outline\" @click=\"addParam\">\n        添加变量\n      </el-link>\n    </div>\n\n    <div class=\"item-wrap\">\n      <div class=\"dc-label\">转换函数体：</div>\n      <el-alert title=\"如上配置的转换源数据 key 可直接作为变量名在下面函数体中使用\" type=\"warning\"> </el-alert>\n      <div id=\"my-editor\"></div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport _ from 'lodash'\n// import CodeFlask from 'codeflask'\nimport valueCollector from '../valueCollector/index.vue'\n\nexport default {\n  components: {\n    valueCollector\n  },\n  props: {\n    context: Object,\n    lf: Object,\n    value: {\n      type: Object,\n      default: () => {}\n    }\n  },\n  model: {\n    prop: 'value',\n    event: 'change'\n  },\n  watch: {\n    value: {\n      deep: true,\n      immediate: true,\n      handler(nv) {\n        this.params = {\n          ...this.params,\n          ...nv\n        }\n      }\n    }\n  },\n  data() {\n    return {\n      flask: undefined,\n      params: {\n        convertList: [],\n        convertCode: ''\n      },\n      types: ['dataSource', 'dataConvert', 'urlParam', 'initParam']\n    }\n  },\n  async mounted() {\n    console.log('mounted --->>>')\n    // const flask = new CodeFlask('#my-editor', { language: 'js' })\n    // this.flask = flask\n    // // flask.updateCode('const my_new_code_here = \"Blabla\"')\n    // if (this.params.convertCode) {\n    //   flask.updateCode(this.params.convertCode)\n    // }\n\n    // flask.onUpdate((code) => {\n    //   this.params.convertCode = code\n    //   this.$emit('change', this.params)\n    // })\n\n    // TODO: 如果没有已存在代码，则添加实例代码到编辑框中\n    // flask.onUpdate(\n    //   // do something with code here.\n    //   // this will trigger whenever the code\n    //   // in the editor changes.\n  },\n  methods: {\n    addParam() {\n      const tempParam = {\n        key: '',\n        value: undefined\n      }\n      this.params.convertList.push(tempParam)\n    },\n    deleteParam(idx) {\n      this.params.convertList.splice(idx, 1)\n    },\n    handleResourceKeyChange(e, idx) {\n      this.params.convertList[idx].key = e\n      this.$emit('change', this.params)\n    },\n    handleResourceValueChange(e, idx) {\n      this.params.convertList[idx].value = e\n      this.$emit('change', this.params)\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"less\">\n.convert-panel-wrapper {\n  width: 100%;\n}\n.panel-item {\n  width: 100%;\n  display: inline-flex;\n}\n.item-wrap {\n  background: #f3f6fa;\n  border-radius: 4px;\n  font-family: PingFangSC-Regular;\n  font-size: 12px;\n  color: #303a51;\n  line-height: 16px;\n  font-weight: 400;\n  padding: 9px 12px;\n}\n.dc-label {\n  color: #333;\n  line-height: 32px;\n  height: 32px;\n  margin-right: 8px;\n  display: flex;\n  & > span {\n    margin-right: 8px;\n  }\n}\n.dc-radio-group {\n  display: flex;\n  align-items: center;\n}\n.dc-select {\n  flex: 1;\n}\n.dc-input {\n  flex: 1;\n}\n.dc-param-input {\n  margin-right: 10px;\n  width: 180px;\n}\n\n.param-wrapper {\n  display: flex;\n  // align-items: center;\n  margin-bottom: 10px;\n}\n.delete-button {\n  margin-left: 8px;\n}\n.add-button {\n  margin-top: 10px;\n}\n\n#my-editor {\n  position: relative;\n  height: 240px;\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./dcSetter.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./dcSetter.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./dcSetter.vue?vue&type=template&id=b79ee1ca&scoped=true&\"\nimport script from \"./dcSetter.vue?vue&type=script&lang=js&\"\nexport * from \"./dcSetter.vue?vue&type=script&lang=js&\"\nimport style0 from \"./dcSetter.vue?vue&type=style&index=0&id=b79ee1ca&prod&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b79ee1ca\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <el-drawer\n    :modal=\"false\"\n    :append-to-body=\"false\"\n    :wrapperClosable=\"true\"\n    :destroy-on-close=\"true\"\n    style=\"position: absolute\"\n    direction=\"rtl\"\n    class=\"properties-panel\"\n    width=\"100%\"\n    :size=\"500\"\n    @closeDrawer=\"closeDrawer\"\n    :visible.sync=\"showDrawer\"\n  >\n    <div v-if=\"panelType !== 'condition'\">\n      <div class=\"setter-title\">设置名称</div>\n      <name-setter v-model=\"name\" @change=\"handelNameChange\"> </name-setter>\n    </div>\n    <div v-if=\"panelType === 'action'\">\n      <div class=\"setter-title\">设置行为</div>\n      <action-setter\n        v-model=\"actions\"\n        :context=\"context\"\n        :current=\"currentModel\"\n        :lf=\"lf\"\n      />\n    </div>\n    <div v-if=\"panelType === 'condition'\">\n      <div class=\"setter-title\">设置条件</div>\n      <condition-setter\n        v-model=\"condition\"\n        :context=\"context\"\n        ref=\"edgeProperties\"\n        :lf=\"lf\"\n      />\n    </div>\n    <div v-if=\"panelType === 'event'\">\n      <div class=\"setter-title\">设置事件</div>\n      <event-setter\n        v-model=\"event\"\n        :context=\"context\"\n        :current=\"currentModel\"\n        :lf=\"lf\"\n      />\n    </div>\n    <div v-if=\"panelType === 'ds'\">\n      <div class=\"setter-title\">设置请求</div>\n      <ds-setter\n        v-model=\"ds\"\n        :context=\"context\"\n        :current=\"currentModel\"\n        :lf=\"lf\"\n      />\n    </div>\n    <div v-if=\"panelType === 'pageJump'\">\n      <div class=\"setter-title\">设置跳转</div>\n      <page-jump-setter\n        v-model=\"pageJump\"\n        :lf=\"lf\"\n        :context=\"context\"\n        :current=\"currentModel\"\n      />\n    </div>\n    <div v-if=\"panelType === 'dc'\">\n      <div class=\"setter-title\">数据转换</div>\n      <dc-setter\n        v-model=\"dc\"\n        :lf=\"lf\"\n        :context=\"context\"\n        :current=\"currentModel\"\n      />\n    </div>\n    <!-- <el-button\n      type=\"primary\"\n      size=\"small\"\n      @click=\"handleSubmit\"\n      class=\"properties-button\"\n      >确认</el-button\n    >\n    <el-button size=\"small\" @click=\"handleCancel\" class=\"properties-button\"\n      >取消</el-button\n    > -->\n  </el-drawer>\n</template>\n\n<script>\nimport { map, filter } from \"lodash-es\";\nimport { validateCode } from \"../../util/validate\";\nimport actionSetter from \"./actionSetter.vue\";\nimport conditionSetter from \"./conditionSetter.vue\";\nimport eventSetter from \"./eventSetter.vue\";\nimport dsSetter from \"./dsSetter.vue\"; // DataSource\nimport nameSetter from \"./nameSetter.vue\";\nimport pageJumpSetter from \"./pageJumpSetter.vue\";\nimport dcSetter from \"./dcSetter.vue\"; // DataConvert\n\nexport default {\n  props: {\n    lf: Object,\n    context: Object,\n  },\n  data() {\n    return {\n      panelType: \"\",\n      showDrawer: false,\n      currentModel: {},\n      currentNode: {},\n      currentEdge: {},\n      actions: [],\n      condition: {},\n      event: {},\n      ds: {}, // DataSource\n      pageJump: {},\n      dc: {}, // DataConvert\n      name: \"\",\n    };\n  },\n  mounted() {\n    this.lf.on(\"node:click\", ({ data }) => {\n      console.log(\"data\", data);\n    });\n    this.lf.on(\"blank:click\", () => {\n      this.showDrawer = false;\n      this.panelType = \"\";\n      this.currentEdge = null;\n    });\n    // 点击边处理\n    this.lf.on(\"edge:option-click\", (model) => {\n      this.currentEdge = model;\n      const properties = model.getProperties();\n      this.condition = properties.condition || {};\n      this.showDrawer = true;\n      this.panelType = \"condition\";\n    });\n    // 点击节点处理\n    this.lf.on(\"node:select-click\", (model) => {\n      console.log(\"model ===>>>\", model);\n      this.currentNode = model;\n      const properties = model.getProperties();\n      this.name = properties.name;\n      switch (model.type) {\n        case \"event-node\":\n          this.event = (properties && properties.event) || {};\n          this.panelType = \"event\";\n          if (\n            model.properties &&\n            model.properties.componentName !== \"pageInit\"\n          ) {\n            this.showDrawer = true;\n          }\n          break;\n        case \"reaction-node\":\n          this.actions = (properties && properties.reactions) || [];\n          this.panelType = \"action\";\n          this.showDrawer = true;\n          break;\n        case \"common-node\":\n          if (properties && properties.componentName === \"dataSource\") {\n            // 打开数据源设置器\n            this.ds = (properties && properties.ds) || {};\n            this.panelType = \"ds\";\n            this.showDrawer = true;\n          } else if (properties && properties.componentName === \"pageJump\") {\n            // 打开页面跳转设置器\n            this.pageJump = (properties && properties.pageJump) || {};\n            this.panelType = \"pageJump\";\n            this.showDrawer = true;\n          } else if (properties && properties.componentName === \"dataConvert\") {\n            // 打开数据转换设置器\n            this.dc = (properties && properties.dc) || {};\n            this.panelType = \"dc\";\n            this.showDrawer = true;\n          }\n          break;\n      }\n    });\n  },\n  methods: {\n    handleChange(data, type) {\n      this[type] = data;\n    },\n    handelNameChange(val) {\n      this.name = val;\n    },\n    handleSubmit() {\n      const currentNode = this.currentNode;\n      this.lf.setProperties(currentNode.id, {\n        name: this.name,\n      });\n      console.log(\"this.panelType ...???\", this.panelType);\n      switch (this.panelType) {\n        case \"action\":\n          this.lf.setProperties(currentNode.id, {\n            reactions: this.actions,\n          });\n          break;\n        case \"condition\":\n          if (this.currentEdge) {\n            this.lf.setProperties(this.currentEdge.id, {\n              condition: this.condition,\n            });\n          }\n          break;\n        case \"event\":\n          this.lf.setProperties(currentNode.id, {\n            event: this.event,\n          });\n          break;\n        case \"ds\": // DataSource\n          this.lf.setProperties(currentNode.id, {\n            ds: this.ds,\n          });\n          break;\n        case \"pageJump\":\n          this.lf.setProperties(currentNode.id, {\n            pageJump: this.pageJump,\n          });\n          break;\n        case \"dc\": {\n          // DataConvert\n          // DONE1: 做请求数据的必填校验（?），是否需要\n          const { convertList = [], convertCode } = this.dc;\n          // DONE2: 做输入代码段校验，并提示\n          // 1. 校验js语法是否正确\n          // 2. 检测代码中是否有动态插入的 script 标签\n          // 3. 是否需要关注 SQL 注入的危险\n          // 4. HTTP 请求是否应该屏蔽\n\n          if (!convertCode) {\n            this.$message.error(\"数据转换函数不能为空\");\n            return false;\n          }\n\n          // 生成预期的函数体，用如下方法包裹用户输入的函数体。\n          // function main(arg1, arg2, ...) {}\n          try {\n            const keyList = filter(\n              map(convertList, (item) => item.key),\n              (key) => key\n            );\n            const funcParams = keyList.join(\", \");\n            const fullFunc = `function main(${funcParams}) {\n              ${convertCode}\n            }`;\n\n            const valid = validateCode(fullFunc);\n            if (!valid) {\n              throw new Error(\"代码校验未通过，请确认代码是否合规\");\n            }\n          } catch (error) {\n            console.error(\"ops, something error --->>>\", error);\n            this.$message.error(error?.message);\n            return;\n          }\n\n          this.lf.setProperties(currentNode.id, {\n            dc: this.dc,\n          });\n          break;\n        }\n      }\n      this.showDrawer = false;\n      this.$emit(\"submit\", this.panelType);\n    },\n    handleCancel() {\n      this.showDrawer = false;\n    },\n    closeDrawer() {\n      this.currentEdge = null;\n    },\n  },\n  components: {\n    conditionSetter,\n    actionSetter,\n    eventSetter,\n    dsSetter,\n    nameSetter,\n    pageJumpSetter,\n    dcSetter,\n  },\n};\n</script>\n\n<style scoped lang=\"less\">\n/deep/.el-drawer {\n  padding: 12px 12px;\n  box-sizing: border-box;\n  height: 100%;\n  overflow-y: auto;\n  &::-webkit-scrollbar {\n    /*滚动条整体样式*/\n    background: transparent;\n    border-radius: 5px;\n    width: 4px;\n    z-index: -1;\n  }\n\n  &::-webkit-scrollbar-thumb {\n    /*滚动条里面小方块*/\n    border-radius: 4px;\n    background: #dcdfe6;\n    z-index: -1;\n  }\n\n  &::-webkit-scrollbar-track {\n    /*滚动条里面轨道*/\n    border-radius: 4px;\n    background: transparent;\n  }\n\n  &::-webkit-scrollbar-corner {\n    /*滚动条交汇处*/\n    border-radius: 4px;\n    background: transparent;\n  }\n}\n/deep/.el-drawer__header {\n  margin: 0;\n  height: 0;\n}\n\n.setter-title {\n  font-size: 16px;\n  font-weight: bold;\n  font-size: 16px;\n  color: #303133;\n  // background: #f2f3f7;\n  height: 50px;\n  line-height: 50px;\n  margin-bottom: 10px;\n  border-bottom: 1px solid #ebeef5;\n}\n\n.properties-button {\n  float: right;\n  margin-top: 20px;\n  margin-left: 10px;\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=152bc446&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=152bc446&prod&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"152bc446\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"node-menu-wrapper\"},[_c('div',{staticClass:\"node-add-title\"},[_vm._v(\"通用节点:\")]),_c('div',{staticStyle:{\"text-align\":\"right\",\"margin\":\"0\"}},[_c('el-menu',{staticClass:\"node-menu\",attrs:{\"mode\":\"vertical\",\"open\":true},on:{\"select\":_vm.addCommonNode}},_vm._l((_vm.commonNodeMap),function(item,index){return _c('el-menu-item',{key:index,attrs:{\"index\":item.value}},[_c('span',{staticClass:\"menu-item-inner\"},[_c('img',{staticClass:\"icon\",attrs:{\"src\":item.logo,\"alt\":\"\"}}),_vm._v(\" \"+_vm._s(item.label)+\" \")])])}),1)],1),(_vm.showConnectBlock && _vm.nodeOptions.length)?_c('div',{staticClass:\"split-line\"}):_vm._e(),(_vm.showConnectBlock && _vm.nodeOptions.length)?_c('div',{staticClass:\"node-add-title\"},[_vm._v(\"连接至已有节点:\")]):_vm._e(),(_vm.showConnectBlock && _vm.nodeOptions.length)?_c('div',{staticStyle:{\"text-align\":\"right\",\"margin\":\"0\"}},[_c('el-menu',{staticClass:\"node-menu\",attrs:{\"mode\":\"vertical\",\"open\":true},on:{\"select\":_vm.connectToNode}},_vm._l((_vm.nodeOptions),function(item,index){return _c('el-menu-item',{key:index,attrs:{\"index\":item.value}},[_c('span',{staticClass:\"menu-item-inner\",on:{\"mouseenter\":function($event){$event.stopPropagation();return _vm.handleNodeEnter(item.value)}}},[_c('img',{staticClass:\"icon\",attrs:{\"src\":item.logo,\"alt\":\"\"}}),_vm._v(\" \"+_vm._s(item.label)+\" \")])])}),1)],1):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"node-menu-wrapper\">\n    <!-- 通用节点：1.请求数据, 2.页面跳转, 3.数据转换 -->\n    <div class=\"node-add-title\">通用节点:</div>\n    <div style=\"text-align: right; margin: 0\">\n      <el-menu mode=\"vertical\" class=\"node-menu\" :open=\"true\" @select=\"addCommonNode\">\n        <el-menu-item v-for=\"(item, index) in commonNodeMap\" :index=\"item.value\" :key=\"index\">\n          <span class=\"menu-item-inner\">\n            <img :src=\"item.logo\" alt=\"\" class=\"icon\" />\n            {{ item.label }}\n          </span>\n        </el-menu-item>\n      </el-menu>\n    </div>\n    <!-- <div class=\"split-line\"></div> -->\n    <!-- 组件节点：当前页面上已拖拽的节点 -->\n    <!-- <div class=\"node-add-title\">组件节点:</div>\n    <div style=\"text-align: right; margin: 0\">\n      <el-menu mode=\"vertical\" class=\"node-menu\" :open=\"true\" @select=\"addCompNode\">\n        <el-menu-item v-for=\"(item, index) in compOptions\" :index=\"item.value\" :key=\"index\">\n          <span @mouseenter.stop=\"handleCompEnter(item.value)\" class=\"menu-item-inner\">\n            <img :src=\"item.logo\" alt=\"\" class=\"icon\" />\n            {{ item.label }}\n          </span>\n        </el-menu-item>\n      </el-menu>\n    </div> -->\n    <div class=\"split-line\" v-if=\"showConnectBlock && nodeOptions.length\"></div>\n    <!-- 连接至已有节点 -->\n    <div class=\"node-add-title\" v-if=\"showConnectBlock && nodeOptions.length\">连接至已有节点:</div>\n    <div style=\"text-align: right; margin: 0\" v-if=\"showConnectBlock && nodeOptions.length\">\n      <el-menu mode=\"vertical\" class=\"node-menu\" :open=\"true\" @select=\"connectToNode\">\n        <el-menu-item v-for=\"(item, index) in nodeOptions\" :index=\"item.value\" :key=\"index\">\n          <span @mouseenter.stop=\"handleNodeEnter(item.value)\" class=\"menu-item-inner\">\n            <img :src=\"item.logo\" alt=\"\" class=\"icon\" />\n            {{ item.label }}\n          </span>\n        </el-menu-item>\n      </el-menu>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { commonNodeMap, defaultLogo } from '../../util/typeMap'\nimport { getNodeName } from '../../util/node'\n\nexport default {\n  props: {\n    lf: Object,\n    show: Boolean,\n    context: Object,\n    graph: Object,\n    position: Object,\n    model: Object,\n    showConnectBlock: Boolean\n  },\n  data() {\n    return {\n      key: 1,\n      preNodeId: '',\n      commonNodeMap\n    }\n  },\n  computed: {\n    // 页面组件选项\n    compOptions() {\n      const options = []\n      return options\n    },\n    // 获取页面组件节点\n    nodeOptions() {\n      const data = this.lf.getGraphData()\n      const { nodes } = data\n      const options = []\n      nodes.forEach((node) => {\n        if (node.type === 'event-node') return // 不允许连接到事件节点\n        const label = (node.properties && node.properties.name) || '未知'\n        const logo = (node.properties && node.properties.logo) || defaultLogo\n        options.push({\n          value: node.id,\n          label,\n          logo\n        })\n      })\n      return options\n    }\n  },\n  methods: {\n    hide() {\n      const key = this.model.id\n      setTimeout(() => {\n        this.lf.graphModel.popover.hide(key)\n      }, 50)\n    },\n    // 鼠标悬浮时高亮画布对应组件\n    handleCompEnter(e) {\n    },\n    // 鼠标悬浮节点时时高亮画布对应组件\n    handleNodeEnter(e) {\n      const nodeModel = this.lf.getNodeModelById(e)\n      this.lf.graphModel.eventCenter.emit('node:hover-node', nodeModel)\n    },\n    handleChange(e) {\n      this.val = e\n      const option = this.options.find((item) => item.value === e) || {}\n      const data = {\n        type: 'option',\n        value: e,\n        valueDesc: option.label\n      }\n      this.$emit('change', data)\n    },\n    // 目标节点后添加通用节点\n    addCommonNode(e) {\n      console.log('e', e)\n      this.hide()\n      const nodeData = {}\n      if (e === 'pageInit') {\n        nodeData.type = 'event-node'\n        nodeData.properties = {\n          componentId: 'page_init',\n          name: commonNodeMap[e].label,\n          componentName: e,\n          logo: commonNodeMap[e].logo\n        }\n      } else {\n        nodeData.type = 'common-node'\n        nodeData.properties = {\n          type: e,\n          name: commonNodeMap[e].label,\n          componentName: e,\n          logo: commonNodeMap[e].logo\n        }\n      }\n      if (this.model) {\n        nodeData.model = this.model\n        this.lf.graphModel.eventCenter.emit('node:add-node', nodeData)\n      } else {\n        this.addNodeInPosition(nodeData)\n      }\n    },\n    // 目标节点后添加组件节点\n    addCompNode(e) {\n      this.hide()\n      const model = this.modelList.find((item) => item.id === e)\n      const logic = model.getLogic()\n      const componentName = model.componentName\n      const material = this.context.getMaterialByType(componentName)\n      const logo = material.logo || defaultLogo\n      const nodeData = {\n        type: 'reaction-node',\n        properties: {\n          name: getNodeName(model),\n          componentId: model.id,\n          componentName: model.componentName,\n          logo\n        }\n      }\n      if (this.model) {\n        nodeData.model = this.model\n        this.lf.graphModel.eventCenter.emit(`node:add-node`, nodeData)\n      }\n    },\n    // 连接至已有节点\n    connectToNode(e) {\n      this.hide()\n      this.graph.connectToNode(e, this.model)\n    }\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.node-menu-wrapper {\n  width: 194px;\n}\n.node-menu {\n  border: none;\n  padding: 4px;\n  width: 100%;\n  height: 100%;\n  overflow-y: auto;\n  overflow-x: hidden;\n  max-height: 120px;\n  background: #f3f6fa;\n  border-radius: 4px;\n  .el-menu-item {\n    text-align: left;\n    height: 25px;\n    line-height: 25px;\n    padding: 0 !important;\n    font-family: PingFangSC-Regular;\n    font-size: 12px;\n    color: #1f3252;\n    font-weight: 400;\n    &.is-active {\n      background: rgba(41, 97, 239, 0.08);\n      border-radius: 2px;\n    }\n  }\n  .menu-item-inner {\n    display: flex;\n    align-items: center;\n    margin-left: 2px;\n  }\n  .icon {\n    width: 14px;\n    height: 14px;\n    margin-right: 4px;\n    filter: drop-shadow(#2961ef 100px 0);\n    transform: translateX(-100px);\n  }\n  &::-webkit-scrollbar {\n    /*滚动条整体样式*/\n    background: transparent;\n    border-radius: 5px;\n    width: 4px;\n    z-index: -1;\n  }\n\n  &::-webkit-scrollbar-thumb {\n    /*滚动条里面小方块*/\n    border-radius: 4px;\n    background: #dcdfe6;\n    z-index: -1;\n  }\n\n  &::-webkit-scrollbar-track {\n    /*滚动条里面轨道*/\n    border-radius: 4px;\n    background: transparent;\n  }\n\n  &::-webkit-scrollbar-corner {\n    /*滚动条交汇处*/\n    border-radius: 4px;\n    background: transparent;\n  }\n}\n\n.node-add-title {\n  height: 24px;\n  line-height: 24px;\n  font-family: PingFangSC-Medium;\n  font-size: 12px;\n  color: #303a51;\n  font-weight: 500;\n}\n.menu-item-inner {\n  display: block;\n  height: 100%;\n  width: 100%;\n}\n.split-line {\n  width: 100%;\n  border-bottom: 1px solid #dcdfe6;\n  margin: 8px 0;\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=3dfc4d62&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=3dfc4d62&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3dfc4d62\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"toolbar-wrap\"},[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.mode === 'edit'),expression:\"mode === 'edit'\"}],staticClass:\"text\"},[_vm._v(_vm._s(_vm.text))]),_c('div',{staticClass:\"toolbar\"},_vm._l((_vm.toolList),function(item,index){return _c('el-tooltip',{key:index,attrs:{\"effect\":\"dark\",\"content\":item.desc,\"placement\":\"bottom\",\"popper-class\":\"logic-tooltip-pop\"}},[_c('span',{staticClass:\"tool-item\",class:[_vm.currentTool===item.name && 'selected', item.disabled && 'disabled'],on:{\"click\":function($event){$event.stopPropagation();return _vm.handleClick(item, $event)}}},[_c('img',{attrs:{\"src\":item.icon}})])])}),1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"toolbar-wrap\">\n    <span class=\"text\" v-show=\"mode === 'edit'\">{{ text }}</span>\n    <div class=\"toolbar\">\n      <el-tooltip \n        v-for=\"(item, index) in toolList\" \n        :key=\"index\" \n        effect=\"dark\" \n        :content=\"item.desc\" \n        placement=\"bottom\" \n        popper-class=\"logic-tooltip-pop\"\n      >\n        <span \n          class=\"tool-item\"\n          :class=\"[currentTool===item.name && 'selected', item.disabled && 'disabled']\" \n          @click.stop=\"handleClick(item, $event)\" \n        >\n          <img :src=\"item.icon\">\n        </span>\n      </el-tooltip>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { toolMap } from '../../util/typeMap'\nimport { EDITOR_EVENT } from '../../util/constant'\nexport default {\n  props: {\n    lf: Object,\n    graph: Object,\n    mode: {\n      type: String,\n      default: 'edit'\n    }\n  },\n  data () {\n    return {\n      text: '根据需求配置执行流程图',\n      currentTool: '',\n      undoAble: false,\n      redoAble: false\n    }\n  },\n  computed: {\n    toolList () {\n      return Object.values(toolMap).map(tool => {\n        switch(tool.name) {\n          case 'undo':\n            tool.disabled = !this.undoAble\n            break\n          case 'redo':\n            tool.disabled = !this.redoAble\n            break\n          case 'beautify':\n            tool.disabled = false\n            break\n          case 'selection':\n            tool.disabled = this.mode === 'preview'\n            break\n          case 'navigation':\n            tool.disabled = this.mode === 'preview'\n            break\n          default:\n            tool.disabled = false\n            break\n        }\n        return tool\n      })\n    }\n  },\n  mounted () {\n    document.addEventListener('click', (e) => {\n      if (e.target.className === 'lf-mini-map-close') {\n        this.currentTool = ''\n      }\n    }, true)\n  },\n  watch: {\n    lf() {\n      this.lf && this.lf.on('selection:selected', () => {\n        this.currentTool = ''\n        this.lf.extension.selectionSelect.closeSelectionSelect()\n      })\n    },\n    graph() {\n      this.graph && this.graph.context.eventCenter.on(EDITOR_EVENT.LOGIC_HISTORY_CHANGE, ({canUndo, canRedo}) => {\n        this.undoAble = canUndo\n        this.redoAble = canRedo\n      })\n    }\n  },\n  methods: {\n    handleClick (item, e) {\n      this.currentTool = ''\n      if (item.disabled) return\n      const type = item.name\n      switch (type) {\n        case 'beautify':\n          this.lf.extension.dagre && this.lf.extension.dagre.layout({\n            nodesep: 2,\n            ranksep: 20,\n            begin: [100, 100],\n          });\n          break;\n        case 'redo':\n          this.graph &&this.graph.redo()\n          break;\n        case 'undo':\n          this.graph &&this.graph.undo()\n          break;\n        case 'zoomIn':\n          this.lf.zoom(true);\n          break;\n        case 'zoomOut':\n          this.lf.zoom(false);\n          break;\n        case 'fitView':\n          this.lf.fitView(100, 100);\n          break; \n        case 'selection':\n          this.currentTool = type\n          this.lf.extension.selectionSelect.openSelectionSelect()\n          break\n        case 'navigation':\n          this.currentTool = type\n          const position = this.lf.getPointByClient(e.x, e.y)\n          this.lf.extension.miniMap.show(position.domOverlayPosition.x - 120, 40)\n          break;   \n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n .toolbar-wrap {\n    position: absolute;\n    left: 0;\n    top: 0;\n    width: 100%;\n    height: 36px;\n    background: #FFFFFF;\n    border-bottom: 1px solid #e4e7ed;\n    font-family: PingFangSC-Medium;\n    font-size: 12px;\n    color: #C1C3C8;\n    font-weight: 500;\n  }\n  .text {\n    display: inline-flex;\n    height: 100%;\n    align-items: center;\n    margin-left: 16px;\n    max-width: 450px;\n    text-overflow: ellipsis;\n    overflow: hidden;\n    position: absolute;\n    left: 0;\n  }\n  .toolbar {\n    height: 100%;\n    display: flex;\n    align-items: center;\n    position: absolute;\n    right: 0;\n    background: #fff;\n  }\n  .tool-item {\n    display: inline-flex;\n    justify-content: center;\n    align-items: center;\n    width: 24px;\n    height: 24px;\n    margin-right: 16px;\n    border-radius: 4px;\n    overflow: hidden;\n    cursor: pointer;\n    user-select: none;\n    img {\n      width: 20px;\n      height: 20px;\n      filter: drop-shadow(#303A51 100px 0);\n      transform: translateX(-100px);\n    }\n    &:hover, &.selected {\n      background: #2961ef;\n      img {\n        filter: drop-shadow(#fff 100px 0);\n        transform: translateX(-100px);\n      }\n    }\n    &.disabled {\n      background: #fff;\n      img {\n        filter: drop-shadow(#C1C3C8 100px 0);\n        transform: translateX(-100px);\n      }\n    }\n  }\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=0ae673ed&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=0ae673ed&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0ae673ed\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"line-content\",class:_vm.isSelected && 'selected'},[(_vm.properties.condition && _vm.properties.condition && _vm.properties.condition.conditions && _vm.properties.condition.conditions.length)?_c('el-popover',{attrs:{\"placement\":\"right\",\"width\":\"200\",\"trigger\":\"click\"},model:{value:(_vm.popVisible),callback:function ($$v) {_vm.popVisible=$$v},expression:\"popVisible\"}},[_c('div',{staticClass:\"popover-content\"},[_c('div',{staticClass:\"condition-wrap\"},[_c('div',{staticClass:\"condition-title\"},[_vm._v(\"我配置的条件\")]),_c('div',{staticClass:\"condition-content\"},[_vm._l((_vm.properties.condition.conditions),function(item,index){return _c('div',{key:index,staticClass:\"condition-item\"},[_c('img',{staticClass:\"icon\",attrs:{\"src\":\"https://s3-gzpu.didistatic.com/tiyan-base-store/suda/organizer/icons/edge_condition.png\",\"alt\":\"\"}}),_c('span',[_vm._v(_vm._s(_vm.getConditionItem(item)))])])}),_c('div',{staticClass:\"condition-button\",on:{\"click\":_vm.goCondition}},[_vm._v(\"去配置\")])],2)]),_c('div',{staticClass:\"popover-item\",on:{\"click\":_vm.insertNode}},[_c('img',{staticClass:\"icon\",attrs:{\"src\":\"https://s3-gzpu.didistatic.com/tiyan-base-store/suda/organizer/icons/pop_insert_node.png\",\"alt\":\"\"}}),_vm._v(\" 插入节点 \")])]),_c('div',{staticClass:\"line-icon\",class:_vm.isSelected && 'selected',attrs:{\"slot\":\"reference\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.handleIconClick.apply(null, arguments)}},slot:\"reference\"},[_c('img',{staticClass:\"icon\",attrs:{\"src\":\"https://s3-gzpu.didistatic.com/tiyan-base-store/suda/organizer/icons/edge_condition.png\",\"alt\":\"\"}})])]):_c('el-popover',{attrs:{\"placement\":\"right\",\"width\":\"100\",\"trigger\":\"click\"},model:{value:(_vm.popVisible),callback:function ($$v) {_vm.popVisible=$$v},expression:\"popVisible\"}},[_c('div',{staticClass:\"popover-content\"},[_c('div',{staticClass:\"popover-item\",on:{\"click\":_vm.goCondition}},[_c('img',{staticClass:\"icon\",attrs:{\"src\":\"https://s3-gzpu.didistatic.com/tiyan-base-store/suda/organizer/icons/pop_add_option.png\",\"alt\":\"\"}}),_vm._v(\" 添加条件 \")]),_c('div',{staticClass:\"popover-item\",on:{\"click\":_vm.insertNode}},[_c('img',{staticClass:\"icon\",attrs:{\"src\":\"https://s3-gzpu.didistatic.com/tiyan-base-store/suda/organizer/icons/pop_insert_node.png\",\"alt\":\"\"}}),_vm._v(\" 插入节点 \")])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isSelected || _vm.isHovered),expression:\"isSelected || isHovered\"}],staticClass:\"line-icon\",class:_vm.isSelected && 'selected',attrs:{\"slot\":\"reference\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.handleIconClick.apply(null, arguments)}},slot:\"reference\"},[_c('img',{staticClass:\"icon\",attrs:{\"src\":\"https://s3-gzpu.didistatic.com/tiyan-base-store/suda/organizer/icons/edge_add.png\",\"alt\":\"\"}})])])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"line-content\" :class=\"isSelected && 'selected'\">\n    <el-popover\n      placement=\"right\"\n      width=\"200\"\n      trigger=\"click\"\n      v-model=\"popVisible\"\n      v-if=\"properties.condition && properties.condition && properties.condition.conditions && properties.condition.conditions.length\"\n    >\n      <div class=\"popover-content\">\n        <div class=\"condition-wrap\">\n          <div class=\"condition-title\">我配置的条件</div>\n          <div class=\"condition-content\">\n            <div class=\"condition-item\" v-for=\"(item, index) in properties.condition.conditions\" :key=\"index\">\n              <img\n                class=\"icon\"\n                src=\"https://s3-gzpu.didistatic.com/tiyan-base-store/suda/organizer/icons/edge_condition.png\"\n                alt=\"\"\n              />\n              <span>{{ getConditionItem(item) }}</span>\n            </div>\n            <div class=\"condition-button\" @click=\"goCondition\">去配置</div>\n          </div>\n        </div>\n        <div class=\"popover-item\" @click=\"insertNode\">\n          <img class=\"icon\" src=\"https://s3-gzpu.didistatic.com/tiyan-base-store/suda/organizer/icons/pop_insert_node.png\" alt=\"\" />\n          插入节点\n        </div>\n      </div>\n      <div class=\"line-icon\" slot=\"reference\" :class=\"isSelected && 'selected'\" @click.stop=\"handleIconClick\">\n        <img class=\"icon\" src=\"https://s3-gzpu.didistatic.com/tiyan-base-store/suda/organizer/icons/edge_condition.png\" alt=\"\" />\n      </div>\n    </el-popover>\n    <el-popover placement=\"right\" width=\"100\" trigger=\"click\" v-model=\"popVisible\" v-else>\n      <div class=\"popover-content\">\n        <div class=\"popover-item\" @click=\"goCondition\">\n          <img class=\"icon\" src=\"https://s3-gzpu.didistatic.com/tiyan-base-store/suda/organizer/icons/pop_add_option.png\" alt=\"\" />\n          添加条件\n        </div>\n        <div class=\"popover-item\" @click=\"insertNode\">\n          <img class=\"icon\" src=\"https://s3-gzpu.didistatic.com/tiyan-base-store/suda/organizer/icons/pop_insert_node.png\" alt=\"\" />\n          插入节点\n        </div>\n      </div>\n      <div\n        class=\"line-icon\"\n        :class=\"isSelected && 'selected'\"\n        slot=\"reference\"\n        v-show=\"isSelected || isHovered\"\n        @click.stop=\"handleIconClick\"\n      >\n        <img class=\"icon\" src=\"https://s3-gzpu.didistatic.com/tiyan-base-store/suda/organizer/icons/edge_add.png\" alt=\"\" />\n      </div>\n    </el-popover>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    model: Object,\n    graphModel: Object,\n    isSelected: Boolean,\n    isHovered: Boolean,\n    properties: Object\n  },\n  data() {\n    return {\n      popVisible: false\n    }\n  },\n  mounted() {\n    this.graphModel.eventCenter.on('blank:click', () => {\n      this.hidePop()\n    })\n    this.graphModel.eventCenter.on('node:click', () => {\n      this.hidePop()\n    })\n    this.graphModel.eventCenter.on('edge:click', () => {\n      this.hidePop()\n    })\n  },\n  methods: {\n    getConditionItem(item) {\n      return this.formatValue(item.key)\n    },\n    formatValue(val) {\n      switch (val.type) {\n        case 'component':\n          return `${val.componentName}的${val.propName}`\n        case 'componentProp':\n          return `${val.componentName}的${val.propName}`\n        case 'dataSource':\n          return `数据节点${val.nodeId}返回值`\n        case 'initParam':\n          return `初始化参数值为: ${val.value}`\n      }\n    },\n    hidePop() {\n      this.popVisible = false\n      this.popoverItemKey && this.graphModel.popover && this.graphModel.popover.hide(this.popoverItemKey)\n    },\n    handleIconClick(e) {\n      this.iconEvent = e\n      this.graphModel.eventCenter.emit(`edge:update-model`, this.model)\n    },\n    goCondition() {\n      this.graphModel.eventCenter.emit(`edge:option-click`, this.model)\n      this.popVisible = false\n    },\n    insertNode() {\n      const { clientX, clientY, offsetX, offsetY } = this.iconEvent\n      const point = this.graphModel.getPointByClient({ x: clientX - offsetX + 16, y: clientY - offsetY + 6 })\n      const canvasPoint = point.canvasOverlayPosition\n      const nodeData = this.model.getData()\n      this.popoverItemKey = this.graphModel.popover.show({\n        type: 'tip1',\n        delay: 100,\n        key: this.model.id,\n        placement: 'right',\n        trigger: 'click',\n        width: 16,\n        height: 16,\n        x: canvasPoint.x - 6,\n        y: canvasPoint.y,\n        props: {\n          showConnectBlock: false\n        }\n      })\n      this.popVisible = false\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"less\">\n.line-content {\n  background: #fff;\n  font-family: PingFangSC-Regular;\n  font-size: 12px;\n  color: #303a51;\n  --node-primary-color: #2961ef;\n}\n.line-icon {\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 16px;\n  height: 16px;\n  border-radius: 16px;\n  border: 1px solid var(--node-primary-color);\n  color: var(--node-primary-color);\n  background: rgba(41, 97, 239, 0.08);\n  font-size: 8px;\n  &.selected {\n    background: #fff;\n    border: 2px solid var(--node-primary-color);\n    box-shadow: 0 0 6px 0 rgba(41, 97, 239, 0.5);\n  }\n  .icon {\n    width: 8px;\n    height: 8px;\n  }\n}\n.popover-item {\n  --node-primary-color: #2961ef;\n  background: #f3f6fa;\n  border-radius: 2px;\n  padding: 0 4px;\n  cursor: pointer;\n  height: 28px;\n  color: var(--node-primary-color);\n  text-align: center;\n  font-weight: 400;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  .icon {\n    margin-right: 4px;\n    width: 16px;\n    height: 16px;\n  }\n  &:hover {\n    background: rgba(41, 97, 239, 0.08);\n  }\n  &:first-child {\n    margin-bottom: 4px;\n  }\n}\n.condition-content {\n  padding: 8px 0;\n  border-bottom: 1px solid #e4e7ed;\n  margin-bottom: 10px;\n}\n.condition-title {\n  line-height: 16px;\n  font-weight: 500;\n  padding-bottom: 4px;\n  border-bottom: 1px solid #e4e7ed;\n  font-family: PingFangSC-Medium;\n  font-size: 12px;\n  color: #303a51;\n  line-height: 16px;\n  font-weight: 500;\n}\n.condition-item {\n  font-weight: 400;\n  height: 25px;\n  display: flex;\n  align-items: center;\n  padding: 0 4px;\n  font-family: PingFangSC-Regular;\n  font-size: 12px;\n  color: #303a51;\n  font-weight: 400;\n  .icon {\n    margin-right: 4px;\n    width: 12px;\n    height: 12px;\n  }\n  span {\n    display: inline-block;\n    max-width: 140px;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n  }\n}\n.condition-button {\n  --node-primary-color: #2961ef;\n  margin-top: 8px;\n  line-height: 24px;\n  text-align: center;\n  background: #ffffff;\n  border: 1px solid var(--node-primary-color);\n  border-radius: 2px;\n  color: var(--node-primary-color);\n  cursor: pointer;\n  &:hover {\n    opacity: 0.8;\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./logicLineNode.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./logicLineNode.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./logicLineNode.vue?vue&type=template&id=94ea4992&scoped=true&\"\nimport script from \"./logicLineNode.vue?vue&type=script&lang=js&\"\nexport * from \"./logicLineNode.vue?vue&type=script&lang=js&\"\nimport style0 from \"./logicLineNode.vue?vue&type=style&index=0&id=94ea4992&prod&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"94ea4992\",\n  null\n  \n)\n\nexport default component.exports","export const pointFilter = (points) => {\n  const allPoints = points;\n  let i = 1;\n  while (i < allPoints.length - 1) {\n    const pre = allPoints[i - 1];\n    const current = allPoints[i];\n    const next = allPoints[i + 1];\n    if ((pre.x === current.x && current.x === next.x)\n      || (pre.y === current.y && current.y === next.y)) {\n      allPoints.splice(i, 1);\n    } else {\n      i++;\n    }\n  }\n  return allPoints;\n};","// const { PolylineEdge, PolylineEdgeModel, h} = window;\n\nimport { PolylineEdge, PolylineEdgeModel, h } from '@logicflow/core'\nimport logicLineNode from './logicLineNode.vue'\nimport { pointFilter } from '../util/edge'\nimport { NODE_HEIGHT, LINE_OFFSET, NODE_WIDTH } from '../util/constant'\n\nconst DISTANCE = 12\nconst ICON_HEIGHT = 16\nconst ICON_WIDTH = 16\nconst WORD_HEIGHT = 16\nclass LogicPolyline extends PolylineEdge {\n  constructor(props) {\n    super(props)\n    this.vm = new Vue({\n      render: (h) =>\n        h(logicLineNode, {\n          props: {\n            model: this.props.model,\n            graphModel: this.props.graphModel,\n            properties: this.props.model.getProperties(),\n            isSelected: this.props.model.isSelected,\n            isHovered: this.props.model.isHovered\n          }\n        })\n    })\n  }\n  shouldUpdate() {\n    const data = {\n      ...this.props.model.properties,\n      isSelected: this.props.model.isSelected,\n      isHovered: this.props.model.isHovered\n    }\n    if (this.preProperties && this.preProperties === JSON.stringify(data)) return\n    this.preProperties = JSON.stringify(data)\n    return true\n  }\n  getText() {\n    // 几种情况的处理：1.一个节点连出多条边 2.一个节点的入口连入多条边 3.线的回连\n    const { graphModel } = this.props\n    const { pointsList, text, sourceNodeId, targetNodeId } = this.props.model\n    if (!pointsList || pointsList.length === 0) return null\n    let width = 0\n    let height = 0\n    let direction = ''\n    const positionData = {}\n    const targetInlines = graphModel.getNodeIncomingEdge(targetNodeId)\n    // 如果后一个节点入口有多条线\n    if (targetInlines.length && targetInlines.length > 1) { \n      let lastPoint = {}, lastPrePoint = {}\n      if (pointsList.length >= 4) {\n        lastPoint = pointsList[pointsList.length - 2]\n        lastPrePoint = pointsList[pointsList.length - 3]\n      } else {\n        lastPoint = {\n          x: pointsList[0].x + LINE_OFFSET,\n          y: pointsList[0].y\n        }\n        lastPrePoint = pointsList[0]\n      }\n      width = Math.abs(lastPoint.x - lastPrePoint.x)\n      height = Math.abs(lastPoint.y - lastPrePoint.y)\n      direction = ''\n      positionData.x = (lastPoint.x + lastPrePoint.x)/2 - ICON_HEIGHT / 2\n      positionData.y = (lastPoint.y + lastPrePoint.y)/2 - ICON_HEIGHT / 2\n    } else {\n      const lastPoint = pointsList[pointsList.length - 1]\n      const lastPrePoint = pointsList[pointsList.length - 2]\n      // let maxWidth = Math.max(Math.abs(lastPoint.x - lastPrePoint.x), Math.abs(lastPoint.y - lastPrePoint.y));\n      width = Math.abs(lastPoint.x - lastPrePoint.x)\n      height = Math.abs(lastPoint.y - lastPrePoint.y)\n      direction = ''\n      if (lastPoint.x < lastPrePoint.x) {\n        // 箭头向左\n        direction = 'row'\n        positionData.x = lastPoint.x + DISTANCE\n        positionData.y = lastPoint.y - ICON_HEIGHT / 2\n      } else if (lastPoint.y < lastPrePoint.y) {\n        // 箭头向上\n        direction = 'column'\n        positionData.x = lastPoint.x - ICON_WIDTH / 2\n        positionData.y = lastPoint.y + DISTANCE + ICON_HEIGHT / 2\n      } else if (lastPoint.y > lastPrePoint.y) {\n        // 箭头向下\n        direction = 'column-reverse'\n        positionData.x = lastPoint.x - ICON_WIDTH / 2\n        positionData.y = lastPoint.y - DISTANCE - ICON_HEIGHT / 2 - WORD_HEIGHT\n      } else {\n        // 箭头向右\n        direction = 'row-reverse'\n        positionData.x = lastPoint.x - DISTANCE - width\n        positionData.y = lastPoint.y - ICON_HEIGHT / 2\n      }\n    }\n\n    const { model } = this.props\n    const id = model.id\n    setTimeout(() => {\n      const addContainer = document.querySelector('#' + 'line_' + id).querySelector('.add-wrapper')\n      this.vm.$mount(addContainer)\n    }, 0)\n    return h(\n      'foreignObject',\n      { ...positionData, id: 'line_' + id, style: `z-index: 20; width: ${width ? width : height}px` },\n      [\n        h(\n          'div',\n          {\n            style: `display:flex;width: 100%;flex-direction: ${direction};`\n          },\n          [\n            h('div', {\n              className: 'add-wrapper'\n            })\n          ]\n        )\n      ]\n    )\n  }\n}\n\nclass LogicPolylineModel extends PolylineEdgeModel {\n  initEdgeData(data) {\n    super.initEdgeData(data)\n    this.offset = LINE_OFFSET\n  }\n  setAttributes() {\n    this.offset = LINE_OFFSET\n    if (this.properties.executeStatus === 'executed') {\n      this.setZIndex()\n    } else {\n      this.setZIndex(0)\n    }\n  }\n  getEdgeStyle() {\n    const style = super.getEdgeStyle()\n    style.stroke = '#8790A0'\n    style.strokeDasharray = '3 2'\n    style.strokeWidth = 1\n    if (this.isHovered || this.isSelected) {\n      style.stroke = '#33DD89'\n    }\n    return style\n  }\n  getEdgeAnimationStyle() {\n    const style = super.getEdgeAnimationStyle()\n    style.animationDuration = '20s'\n    const { executeStatus } = this.properties\n    if (executeStatus) {\n      style.strokeDasharray = '8 3'\n      style.stroke = executeStatus === 'executed' ? 'rgb(79 235 151 / 80%)' : 'red'\n      if (executeStatus === 'execute-failed') {\n        style.strokeDasharray = null\n      }\n    } else {\n      style.strokeDasharray = '8 3'\n      style.stroke = '#33DD89'\n    }\n    return style\n  }\n  setHovered(flag) {\n    super.setHovered(flag)\n    this.setZIndex(flag ? 999 : 0)\n  }\n  setSelected(flag) {\n    super.setSelected(flag)\n    this.setZIndex(flag ? 999 : 0)\n  }\n  setZIndex(index) {\n    if (this.isHovered || this.isSelected || this.properties.executeStatus) {\n      super.setZIndex(999)\n      this.openEdgeAnimation()\n    } else {\n      this.closeEdgeAnimation()\n      super.setZIndex(index)\n    }\n  }\n  initPoints() {\n    if (this.pointsList && this.pointsList.length > 0) {\n      this.points = this.pointsList.map((point) => `${point.x},${point.y}`).join(' ')\n      return\n    }\n    const { startPoint, endPoint } = this\n    const { x: x1, y: y1 } = startPoint\n    const { x: x2, y: y2 } = endPoint\n    const betterDistance = this.offset * 2\n    // 1. 起点在终点左边\n    if (x1 - x2 < -betterDistance) {\n      this.pointsList = pointFilter([\n        {\n          x: x1,\n          y: y1\n        },\n        {\n          x: x1 + this.offset,\n          y: y1\n        },\n        {\n          x: x1 + this.offset,\n          y: y2\n        },\n        {\n          x: x2,\n          y: y2\n        }\n      ])\n      this.points = this.pointsList.map((point) => `${point.x},${point.y}`).join(' ')\n    } else if (x1 - x2 > betterDistance) {\n      // 起点在右边，终点在左边\n      this.pointsList = pointFilter([\n        {\n          x: x1,\n          y: y1\n        },\n        {\n          x: x1 + this.offset,\n          y: y1\n        },\n        {\n          x: x1 + this.offset,\n          y: y2 + NODE_HEIGHT\n        },\n        {\n          x: x2 - NODE_HEIGHT / 2,\n          y: y2 + NODE_HEIGHT\n        },\n        {\n          x: x2 - NODE_HEIGHT / 2,\n          y: y2\n        },\n        {\n          x: x2,\n          y: y2\n        }\n      ])\n      this.points = this.pointsList.map((point) => `${point.x},${point.y}`).join(' ')\n    } else {\n      super.initPoints()\n    }\n  }\n}\n\nexport default {\n  type: 'logic-line',\n  model: LogicPolylineModel,\n  view: LogicPolyline\n}\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"node-wrap\",class:[_vm.properties.status, 'base', _vm.getClassName(), _vm.properties.executeStatus]},[_c('div',{staticClass:\"node-title\",on:{\"mousedown\":_vm.handleMousedown,\"mouseup\":_vm.handleMouseup}},[_c('span',{staticClass:\"node-icon\"},[_c('img',{attrs:{\"src\":_vm.getLogo(),\"alt\":\"\"}})]),_c('span',{staticClass:\"node-name\"},[_vm._v(_vm._s(_vm.getName()))])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.properties.warnings && _vm.properties.warnings.length),expression:\"properties.warnings && properties.warnings.length\"}],staticClass:\"node-warning\"},[_c('el-popover',{staticClass:\"item\",attrs:{\"placement\":\"right\",\"width\":\"auto\",\"offset\":-10,\"trigger\":\"click\",\"popper-class\":\"logic-pop\"}},[_c('abstract-content',{attrs:{\"title\":'配置异常',\"content\":_vm.properties.warnings,\"showButton\":false}}),_c('div',{staticClass:\"warning-tip\"},[_vm._v(\"请及时调整，以免运行错误！\")]),_c('span',{staticClass:\"icon\",attrs:{\"slot\":\"reference\"},on:{\"mousedown\":function($event){$event.stopPropagation();}},slot:\"reference\"},[_c('i',{staticClass:\"el-icon-warning\"})])],1)],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:((_vm.properties.status === 'selected' || _vm.properties.status === 'hovered') && !_vm.disabled),expression:\"(properties.status === 'selected' || properties.status === 'hovered') && !disabled\"}],staticClass:\"node-option\",on:{\"!mousedown\":function($event){return _vm.selectNode.apply(null, arguments)}}},[_c('el-tooltip',{staticClass:\"item\",attrs:{\"effect\":\"dark\",\"content\":\"复制节点\",\"placement\":\"top\",\"popper-class\":\"logic-tooltip-pop\"}},[_c('span',{staticClass:\"option-icon\",on:{\"click\":_vm.copyNode,\"mousedown\":function($event){$event.stopPropagation();}}},[_c('img',{attrs:{\"src\":\"https://s3-gzpu.didistatic.com/tiyan-base-store/suda/organizer/icons/node_copy.png\"}})])]),_c('el-tooltip',{staticClass:\"item\",attrs:{\"effect\":\"dark\",\"content\":\"信息概览\",\"placement\":\"top\",\"popper-class\":\"logic-tooltip-pop\"}},[_c('el-popover',{attrs:{\"placement\":\"right\",\"width\":\"188\",\"offset\":-10,\"trigger\":\"click\",\"popper-class\":\"logic-pop\"}},[_c('abstract-content',{attrs:{\"title\":_vm.getAbstract().title,\"content\":_vm.getAbstract().content,\"showButton\":_vm.getAbstract().showButton},on:{\"config\":function($event){return _vm.goConfig()}}}),_c('span',{staticClass:\"option-icon\",attrs:{\"slot\":\"reference\"},on:{\"mousedown\":function($event){$event.stopPropagation();}},slot:\"reference\"},[_c('img',{attrs:{\"src\":\"https://s3-gzpu.didistatic.com/tiyan-base-store/suda/organizer/icons/node_abstract.png\"}})])],1)],1),_c('el-tooltip',{staticClass:\"item\",attrs:{\"effect\":\"dark\",\"content\":\"删除节点\",\"placement\":\"top\",\"popper-class\":\"logic-tooltip-pop\"}},[_c('el-popconfirm',{staticClass:\"item\",attrs:{\"hide-icon\":\"\",\"title\":\"确认删除该节点吗？\",\"placement\":\"top\",\"width\":\"180\",\"cancel-button-type\":\"\",\"popper-class\":\"logic-pop\"},on:{\"confirm\":_vm.deleteNode}},[_c('span',{staticClass:\"option-icon\",attrs:{\"slot\":\"reference\"},on:{\"mousedown\":function($event){$event.stopPropagation();}},slot:\"reference\"},[_c('img',{attrs:{\"src\":\"https://s3-gzpu.didistatic.com/tiyan-base-store/suda/organizer/icons/node_delete.png\"}})])])],1)],1),_c('div',{staticClass:\"node-next\"},[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.properties.status === 'selected' || _vm.properties.status === 'hovered'),expression:\"properties.status === 'selected' || properties.status === 'hovered'\"}],on:{\"mousedown\":function($event){$event.stopPropagation();return _vm.handleNext.apply(null, arguments)}}},[_c('i',{staticClass:\"el-icon-circle-plus next-icon\"})])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"content-wrap\"},[_c('div',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.title))]),_c('div',{staticClass:\"content\"},[(_vm.content && _vm.content.length)?_c('div',_vm._l((_vm.content),function(item,index){return _c('div',{key:index,staticClass:\"item\"},[_c('img',{staticClass:\"icon\",attrs:{\"src\":item.type === 'event' ? _vm.eventIcon : _vm.reactionIcon}}),_c('span',[_vm._v(_vm._s(item.desc))])])}),0):_c('div',[_vm._v(\"暂未配置\")]),(_vm.showButton)?_c('div',{staticClass:\"button\",on:{\"click\":_vm.goConfig}},[_vm._v(\"去配置\")]):_vm._e()])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"content-wrap\">\n    <div class=\"title\">{{ title }}</div>\n    <div class=\"content\">\n      <div v-if=\"content && content.length\">\n        <div class=\"item\" v-for=\"(item, index) in content\" :key=\"index\">\n          <img :src=\"item.type === 'event' ? eventIcon : reactionIcon\" class=\"icon\" />\n          <span>{{ item.desc }}</span>\n        </div>\n      </div>\n      <div v-else>暂未配置</div>\n      <div class=\"button\" @click=\"goConfig\" v-if=\"showButton\">去配置</div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    text: String,\n    content: Array,\n    title: String,\n    showButton: Boolean\n  },\n  data() {\n    return {\n      eventIcon: 'https://s3-gzpu.didistatic.com/tiyan-base-store/suda/organizer/icons/pop_event.png',\n      reactionIcon: 'https://s3-gzpu.didistatic.com/tiyan-base-store/suda/organizer/icons/pop_reaction.png'\n    }\n  },\n  methods: {\n    goConfig() {\n      this.$emit('config')\n    }\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.content-wrap {\n  width: 100%;\n  font-family: PingFangSC-Regular;\n  font-size: 12px;\n  color: #303a51;\n}\n.item {\n  padding: 0 4px;\n  height: 25px;\n  font-weight: 400;\n  display: flex;\n  align-items: center;\n  .icon {\n    margin-right: 4px;\n    width: 12px;\n    height: 12px;\n  }\n  span {\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n  }\n}\n.content {\n  padding: 8px 0;\n}\n.title {\n  line-height: 16px;\n  font-family: PingFangSC-Medium;\n  font-weight: 500;\n  padding-bottom: 4px;\n  border-bottom: 1px solid #e4e7ed;\n}\n.button {\n  width: 60px;\n  height: 24px;\n  margin-top: 8px;\n  line-height: 24px;\n  text-align: center;\n  background: #ffffff;\n  border: 1px solid #2961ef;\n  border-radius: 2px;\n  color: #2961ef;\n  float: right;\n  cursor: pointer;\n  &:hover {\n    opacity: 0.8;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=8e670ecc&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=8e670ecc&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8e670ecc\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"node-wrap\" :class=\"[properties.status, 'base', getClassName(), properties.executeStatus]\">\n    <div class=\"node-title\" @mousedown=\"handleMousedown\" @mouseup=\"handleMouseup\">\n      <span class=\"node-icon\">\n        <img :src=\"getLogo()\" alt=\"\" />\n      </span>\n      <span class=\"node-name\">{{ getName() }}</span>\n    </div>\n    <div\n      class=\"node-warning\"\n      v-show=\"properties.warnings && properties.warnings.length\"\n    >\n      <el-popover class=\"item\" placement=\"right\" width=\"auto\" :offset=\"-10\" trigger=\"click\" popper-class=\"logic-pop\">\n        <abstract-content\n          :title=\"'配置异常'\"\n          :content=\"properties.warnings\"\n          :showButton=\"false\"\n        ></abstract-content>\n        <div class=\"warning-tip\">请及时调整，以免运行错误！</div>\n        <span class=\"icon\" slot=\"reference\" @mousedown.stop>\n          <i class=\"el-icon-warning\"></i>\n        </span>\n      </el-popover>\n    </div>\n    <div\n      class=\"node-option\"\n      v-show=\"(properties.status === 'selected' || properties.status === 'hovered') && !disabled\"\n      @mousedown.capture=\"selectNode\"\n    >\n      <el-tooltip class=\"item\" effect=\"dark\" content=\"复制节点\" placement=\"top\" popper-class=\"logic-tooltip-pop\">\n        <span class=\"option-icon\" @click=\"copyNode\" @mousedown.stop>\n          <img src=\"https://s3-gzpu.didistatic.com/tiyan-base-store/suda/organizer/icons/node_copy.png\" />\n        </span>\n      </el-tooltip>\n      <el-tooltip class=\"item\" effect=\"dark\" content=\"信息概览\" placement=\"top\" popper-class=\"logic-tooltip-pop\">\n        <el-popover placement=\"right\" width=\"188\" :offset=\"-10\" trigger=\"click\" popper-class=\"logic-pop\">\n          <abstract-content\n            :title=\"getAbstract().title\"\n            :content=\"getAbstract().content\"\n            :showButton=\"getAbstract().showButton\"\n            @config=\"goConfig()\"\n          ></abstract-content>\n          <span class=\"option-icon\" slot=\"reference\" @mousedown.stop>\n            <img src=\"https://s3-gzpu.didistatic.com/tiyan-base-store/suda/organizer/icons/node_abstract.png\" />\n          </span>\n        </el-popover>\n      </el-tooltip>\n      <el-tooltip class=\"item\" effect=\"dark\" content=\"删除节点\" placement=\"top\" popper-class=\"logic-tooltip-pop\">\n        <el-popconfirm\n          hide-icon\n          class=\"item\"\n          title=\"确认删除该节点吗？\"\n          placement=\"top\"\n          width=\"180\"\n          cancel-button-type=\"\"\n          @confirm=\"deleteNode\"\n          popper-class=\"logic-pop\"\n        >\n          <span class=\"option-icon\" slot=\"reference\" @mousedown.stop>\n            <img src=\"https://s3-gzpu.didistatic.com/tiyan-base-store/suda/organizer/icons/node_delete.png\" />\n          </span>\n        </el-popconfirm>\n      </el-tooltip>\n    </div>\n    <div class=\"node-next\">\n      <span v-show=\"properties.status === 'selected' || properties.status === 'hovered'\" @mousedown.stop=\"handleNext\">\n        <i class=\"el-icon-circle-plus next-icon\"></i>\n      </span>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { defaultLogo } from '../util/typeMap'\nimport abstractContent from '../tool/abstractContent/index.vue'\n\nexport default {\n  props: {\n    model: Object,\n    graphModel: Object,\n    isSelected: Boolean,\n    isHovered: Boolean,\n    disabled: Boolean,\n    properties: Object\n  },\n  data() {\n    return {\n      showAddPop: false,\n    }\n  },\n  watch: {\n    isHovered(nv) {\n      console.log('nv --->>>', nv);\n      if (nv) {\n        this.enterNode()\n      } else {\n        this.leaveNode()\n      }\n    }\n  },\n  methods: {\n    getAbstract() {\n      return (this.model.getNodeAbstract && this.model.getNodeAbstract()) || {}\n    },\n    getName() {\n      return (this.model.getNodeName && this.model.getNodeName()) || '未知'\n    },\n    getLogo() {\n      return (this.model.getNodeLogo && this.model.getNodeLogo()) || defaultLogo\n    },\n    getClassName() {\n      return (this.model.getNodeClassName && this.model.getNodeClassName()) || ''\n    },\n    getWarning() {\n      return (this.model.getNodeWarning && this.model.getNodeWarning()) || {}\n    },\n    handleNext() {\n      console.log('this.graphModel --->>>', this.graphModel)\n      const nodeX = this.model.x\n      const nodeY = this.model.y\n      const x = nodeX + this.model.width / 2\n      const y = nodeY\n      this.popoverItemKey = this.graphModel.popover.show({\n        type: 'tip1',\n        key: this.model.id,\n        delay: 100,\n        placement: 'right',\n        trigger: 'click',\n        width: 16,\n        height: 16,\n        x,\n        y,\n        props: {\n          showConnectBlock: true\n        }\n      })\n      this.selectNode()\n    },\n    handleMousedown() {\n      this.mouseStartTime = new Date().getTime()\n    },\n    handleMouseup() {\n      const mousedownDuration = new Date().getTime() - this.mouseStartTime\n      // 非拖拽才显示抽屉\n      if (mousedownDuration < 1000) {\n        setTimeout(() => {\n          this.graphModel.eventCenter.emit(`node:select-click`, this.model)\n        }, 100)\n      }\n    },\n    selectNode() {\n      this.graphModel.eventCenter.emit(`node:update-model`, this.model)\n    },\n    enterNode() {\n      console.log('this.model --->>', this.model)\n      console.log('this.properties --->>', this.properties)\n      if (this.model.properties && this.model.properties.status === 'selected') return\n      this.model.setProperties({\n        status: 'hovered'\n      })\n    },\n    leaveNode() {\n      if (this.model.properties && this.model.properties.status === 'selected') return\n      this.model.setProperties({\n        status: 'normal'\n      })\n    },\n    copyNode() {\n      this.graphModel.eventCenter.emit(`node:copy-node`, this.model)\n    },\n    deleteNode() {\n      this.graphModel.eventCenter.emit(`node:delete-node`, this.model)\n    },\n    goConfig() {\n      this.graphModel.eventCenter.emit(`node:select-click`, this.model)\n    }\n  },\n  components: {\n    abstractContent\n  }\n}\n</script>\n\n<style scoped lang=\"less\">\n.base {\n  --node-primary-color: #2961ef;\n}\n.event {\n  --node-primary-color: #683ced;\n}\n.common {\n  --node-primary-color: #26c9f2;\n}\n.node-wrap {\n  width: 100%;\n  height: 100%;\n  box-sizing: border-box;\n  cursor: move;\n  user-select: none;\n  // transition: 0.3 all ease;\n  background: transparent;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  font-family: PingFangSC-Regular;\n  font-size: 12px;\n  color: #1f3252;\n  line-height: 16px;\n  font-weight: 400;\n  // overflow: hidden;\n  &.hovered {\n    .node-title {\n      background: rgba(41, 97, 239, 0.08);\n      border: 1px solid var(--node-primary-color);\n    }\n  }\n  &.selected {\n    .node-title {\n      border: 2px solid var(--node-primary-color);\n      box-shadow: 0 0 6px 0 rgba(41, 97, 239, 0.5);\n    }\n  }\n  &.execute-failed {\n    .node-title {\n      border: 2px solid rgba(255, 77, 79, 0.7);\n      box-shadow: 0 0 6px 0 rgba(255, 77, 79, 0.5);\n      background: rgba(255, 77, 79, 0.5);\n    }\n  }\n}\n\n.node-title {\n  width: 100px;\n  height: 26px;\n  display: inline-flex;\n  align-items: center;\n  width: 100%;\n  border: 1px solid #bac1d0;\n  border-radius: 4px;\n  background: #fff;\n  overflow: hidden;\n  .node-icon {\n    display: inline-block;\n    width: 26px;\n    height: 100%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    background: var(--node-primary-color);\n  }\n  img {\n    width: 14px;\n    height: 14px;\n    filter: drop-shadow(#fff 100px 0);\n    transform: translateX(-100px);\n  }\n}\n.executed {\n  .node-title {\n    background: rgb(79 235 151 / 80%);\n  }\n}\n\n.node-name {\n  width: 90px;\n  overflow: hidden;\n  text-align: left;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  margin-left: 8px;\n}\n\n.option-icon {\n  display: inline-block;\n  margin-left: 4px;\n  width: 14px;\n  height: 14px;\n  overflow: hidden;\n  cursor: pointer;\n  img {\n    width: 100%;\n    height: 100%;\n  }\n  &:hover,\n  &:focus {\n    img {\n      filter: drop-shadow(var(--node-primary-color) 100px 0);\n      transform: translateX(-100px);\n    }\n  }\n}\n\n.next-icon {\n  color: #33dd89;\n  font-size: 16px;\n  cursor: pointer;\n}\n\n.node-option {\n  display: flex;\n  position: absolute;\n  right: 0;\n  top: calc(50% - 14px);\n  transform: translateY(-100%);\n  .item {\n    cursor: pointer;\n    height: 14px;\n  }\n}\n\n.node-warning {\n  display: flex;\n  position: absolute;\n  left: 0;\n  top: calc(50% - 14px);\n  transform: translateY(-100%);\n  .item {\n    cursor: pointer;\n    height: 14px;\n    color: orange;\n    font-weight: bold;\n    font-size: 12px;\n  }\n}\n\n.warning-tip {\n  font-size: 12px;\n  color: #f00;\n  margin-left: 4px;\n}\n\n.node-next {\n  display: flex;\n  position: absolute;\n  left: 90px;\n  top: 13px;\n  width: 24px;\n  height: 28px;\n  align-items: center;\n  span {\n    width: 16px;\n    height: 16px;\n    background: #fff;\n    margin-left: 13px;\n    margin-right: 2px;\n    display: flex;\n    align-items: center;\n  }\n  .next-icon {\n    width: 16px;\n    height: 16px;\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./baseNode.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./baseNode.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./baseNode.vue?vue&type=template&id=96eb563e&scoped=true&\"\nimport script from \"./baseNode.vue?vue&type=script&lang=js&\"\nexport * from \"./baseNode.vue?vue&type=script&lang=js&\"\nimport style0 from \"./baseNode.vue?vue&type=style&index=0&id=96eb563e&prod&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"96eb563e\",\n  null\n  \n)\n\nexport default component.exports","\nimport { HtmlNode, HtmlNodeModel, h } from '@logicflow/core'\nimport { NODE_WIDTH, NODE_HEIGHT } from '../util/constant'\nimport baseNode from './baseNode.vue'\n\nconst NEXT_X_DISTANCE = 200\nconst NEXT_Y_DISTANCE = 100\n\nclass BaseNodeView extends HtmlNode {\n  constructor(props) {\n    super(props)\n    this.root = document.createElement('div')\n    this.vueComponent = baseNode\n  }\n  shouldUpdate() {\n    const data = {\n      ...this.props.model.properties,\n      isSelected: this.props.model.isSelected,\n      isHovered: this.props.model.isHovered\n    }\n    if (this.preProperties && this.preProperties === JSON.stringify(data)) return\n    this.preProperties = JSON.stringify(data)\n    return true\n  }\n  setHtml(rootEl) {\n    rootEl.appendChild(this.root)\n    if (this.vm) {\n      this.vm.$mount(this.root)\n    } else {\n      this.vm = new Vue({\n        render: (h) =>\n          h(this.vueComponent, {\n            props: {\n              model: this.props.model,\n              graphModel: this.props.graphModel,\n              disabled: this.props.graphModel.editConfigModel.isSilentMode,\n              isSelected: this.props.model.isSelected,\n              isHovered: this.props.model.isHovered,\n              properties: this.props.model.getProperties()\n            }\n          })\n      })\n      this.vm.$mount(this.root)\n    }\n  }\n  getAnchorShape(anchorData) {\n    const { x, y, type } = anchorData\n    return h('rect', {\n      x: x - 3,\n      y: y - 3,\n      width: 6,\n      height: 6,\n      className: `custom-anchor ${type === 'incomming' ? 'incomming-anchor' : 'outgoing-anchor'}`\n    })\n  }\n}\n\nclass BaseNodeModel extends HtmlNodeModel {\n  setAttributes() {\n    this.width = NODE_WIDTH\n    this.height = NODE_HEIGHT + 13 * 2\n    this.text.editable = false\n    this.sourceRules.push({\n      message: '只允许从右边的锚点连出',\n      validate: (sourceNode, targetNode, sourceAnchor, targetAnchor) => {\n        return targetAnchor.type === 'incomming'\n      }\n    })\n  }\n  setHeight(val) {\n    this.height = val\n  }\n  getOutlineStyle() {\n    const style = super.getOutlineStyle()\n    style.stroke = 'none'\n    style.hover.stroke = 'none'\n    return style\n  }\n  getDefaultAnchor() {\n    const { id, x, y, width, height } = this\n    const anchors = []\n    anchors.push({\n      x: x - width / 2,\n      y,\n      id: `${id}_incomming`,\n      edgeAddable: false,\n      type: 'incomming'\n    })\n    anchors.push({\n      x: x + width / 2,\n      y,\n      id: `${id}_outgoing`,\n      type: 'outgoing'\n    })\n    return anchors\n  }\n  addNode(node, nextY = 0) {\n    const isDeep = nextY !== 0\n    const nodeModel = this.graphModel.getNodeModelById(node.sourceId)\n    const leftTopX = node.x + NEXT_X_DISTANCE - 50 - 10\n    const leftTopY = node.y + nextY - 40 - 8\n    const rightBottomX = node.x + NEXT_X_DISTANCE + 50 + 10\n    const rightBottomY = node.y + nextY + 40 + 8\n    const existElements = this.graphModel.getAreaElement(\n      this.getHtmlPoint([leftTopX, leftTopY]),\n      this.getHtmlPoint([rightBottomX, rightBottomY])\n    )\n    if (existElements.length) {\n      this.addNode(node, nextY + NEXT_Y_DISTANCE)\n      return\n    }\n    const newNode = this.graphModel.addNode({\n      type: node.type,\n      x: node.x + NEXT_X_DISTANCE,\n      y: node.y + nextY,\n      properties: node.properties\n    })\n    let startPoint\n    let endPoint\n    if (isDeep) {\n      startPoint = {\n        x: node.x,\n        y: node.y + nodeModel.height / 2\n      }\n      endPoint = {\n        x: newNode.x - newNode.width / 2,\n        y: newNode.y\n      }\n    }\n    this.graphModel.addEdge({\n      sourceNodeId: node.sourceId,\n      targetNodeId: newNode.id,\n      startPoint,\n      endPoint\n    })\n    this.graphModel.selectElementById(newNode.id)\n    this.graphModel.showContextMenu(newNode)\n  }\n}\n\nexport default {\n  type: 'base-node',\n  model: BaseNodeModel,\n  view: BaseNodeView\n}\n","import base from './base'\n\nclass ReactionNodeView extends base.view {}\n\nclass ReactionNodeModel extends base.model {\n  getNodeName () {\n    return this.properties.name\n  }\n  getNodeAbstract () {\n    const title = '节点行为'\n    const content = []\n    if (this.properties && this.properties.reactions && this.properties.reactions.length) {\n      this.properties.reactions.forEach(item => {\n        content.push({\n          desc: item.keyDefine,\n          type: 'reaction'\n        })\n      });\n    }\n    return {\n      title,\n      content,\n      showButton: true\n    }\n  }\n  getNodeLogo () {\n    return this.properties && this.properties.logo\n  }\n}\n\nexport default {\n  type: 'reaction-node',\n  model: ReactionNodeModel,\n  view: ReactionNodeView\n}\n","import base from './base'\n\nclass CommonNodeView extends base.view {}\n\nclass CommonNodeModel extends base.model {\n  getNodeName () {\n    if (this.properties && this.properties.event && this.properties.event.keyDefine) {\n      return this.properties.name + this.properties.event.keyDefine\n    } \n    return this.properties.name\n  }\n  getNodeAbstract () {\n    const title = '数据请求'\n    const content = []\n    if (this.properties && this.properties.ds) {\n      content.push ({\n        desc: this.properties.ds.name,\n        type: 'common'\n      })\n    } \n    return {\n      title,\n      content,\n      showButton: true\n    }\n  }\n  getNodeLogo () {\n    return this.properties && this.properties.logo\n  }\n  getNodeClassName () {\n    return 'common'\n  }\n}\n\nexport default {\n  type: 'common-node',\n  model: CommonNodeModel,\n  view: CommonNodeView\n}\n","import base from './base'\nimport { eventNodeMap } from '../util/typeMap'\n\nclass EventNodeView extends base.view {}\n\nclass EventNodeModel extends base.model {\n  getOutlineStyle() {\n    const style = super.getOutlineStyle();\n    style.stroke = 'none';\n    style.hover.stroke = 'none';\n    return style;\n  }\n  getDefaultAnchor() {\n    const {\n      id,\n      x,\n      y,\n      width,\n    } = this;\n    const anchors = [];\n    anchors.push({\n      x: x + width / 2,\n      y,\n      id: `${id}_outgoing`,\n      type: \"outgoing\"\n    });\n    return anchors;\n  }\n  getNodeName () {\n    if (this.properties && this.properties.event && this.properties.event.keyDefine) {\n      return this.properties.name + this.properties.event.keyDefine\n    }\n    return this.properties.name\n  }\n  getNodeAbstract () {\n    const title = '节点事件'\n    const content = []\n    let showButton = true\n    if (this.properties && this.properties.componentName === 'pageInit') {\n      content.push({\n        desc: '页面初始化',\n        type: 'event'\n      })\n      showButton = false\n    } else if (this.properties.event && this.properties.event.keyDefine) {\n      content.push({\n        desc: this.properties.event.keyDefine,\n        type: 'event'\n      })\n    }\n    return {\n      title,\n      content,\n      showButton,\n    }\n  }\n  getNodeLogo () {\n    if (this.properties && this.properties.componentName === 'pageInit') {\n      return eventNodeMap.pageInit.logo\n    } else {\n      return this.properties && this.properties.logo\n    }\n  }\n  getNodeClassName () {\n    return 'event'\n  }\n}\n\nexport default {\n  type: 'event-node',\n  model: EventNodeModel,\n  view: EventNodeView\n}","export const waitTime = (time = 100) => {\n  return new Promise((resolve) => {\n    setTimeout(() => {\n      resolve(true);\n    }, time);\n  });\n};\n\n\nexport const getUniqueId = () => {\n  // Math.random should be unique because of its seeding algorithm.\n  // Convert it to base 36 (numbers + letters), and grab the first 9 characters\n  // after the decimal.\n  return Math.random().toString(36).substring(2, 6);\n};\n","\nimport { NODE_SPACE_X, NODE_SPACE_Y, GRAPH_START_X, GRAPH_START_Y } from './constant'\n/**\n * 根据当前节点位置生成新节点位置\n */\nexport const genPos = (lf) => {\n  const data = lf.getGraphData()\n  const { nodes } = data\n  const preNode = nodes.slice(-1)[0]\n  if (!preNode) return { x: GRAPH_START_X, y: GRAPH_START_Y }\n  const x = preNode.x + NODE_SPACE_X\n  const y = preNode.y\n  return {\n    x,\n    y\n  }\n}\n\n/**\n * 生成一条新逻辑的起点\n */\n export const genStartPos = (lf) => {\n  const bound = getBoundRect(lf)\n  const x = GRAPH_START_X\n  const y = bound.maxY === Infinity ? GRAPH_START_Y : bound.maxY + NODE_SPACE_Y\n  return { x, y }\n}\n\n/**\n * 基于当前节点生成一个节点的位置\n */\n export const genNewNodePos = (lf, nodeModel) => {\n    const outgoingNodes = lf.getNodeOutgoingNode(nodeModel.id)\n    if (outgoingNodes.length) {\n      const bound = getNodesRect(outgoingNodes)\n      const x = bound.minX\n      const y = bound.maxY + NODE_SPACE_Y\n      return {\n        x,\n        y\n      }\n    } else {\n      return {\n        x: nodeModel.x + NODE_SPACE_X,\n        y: nodeModel.y\n      }\n    }\n}\n\n/**\n * 获取当前所有节点的边界\n */\n export const getNodesRect = (nodes) => {\n  const maxX = nodes.reduce((val, node) => {\n    return Math.max(val, node.x)\n  }, 0)\n  const maxY = nodes.reduce((val, node) => {\n    return Math.max(val, node.y)\n  }, 0)\n  const minX = nodes.reduce((val, node) => {\n    return Math.min(val, node.x)\n  }, Infinity)\n  const minY = nodes.reduce((val, node) => {\n    return Math.min(val, node.y)\n  }, Infinity)\n  return { minX, minY, maxX, maxY }\n}\n\n/**\n * 获取当前图形所有节点的边界\n */\n export const getBoundRect = (lf) => {\n  const data = lf.getGraphData()\n  const { nodes } = data\n  const maxX = nodes.reduce((val, node) => {\n    return Math.max(val, node.x)\n  }, 0)\n  const maxY = nodes.reduce((val, node) => {\n    return Math.max(val, node.y)\n  }, 0)\n  const minX = nodes.reduce((val, node) => {\n    return Math.min(val, node.x)\n  }, Infinity)\n  const minY = nodes.reduce((val, node) => {\n    return Math.min(val, node.y)\n  }, Infinity)\n  return { minX, minY, maxX, maxY }\n}\n\n/**\n * 生成一个不重复的ID\n * @param { Number } randomLength \n */\nexport const genId = (randomLength, prefix) => {\n  const pre = prefix || 'logic' + '_'\n  return pre + Number(Math.random().toString().substr(2,randomLength) + Date.now()).toString(36)\n}\n\n\n\n","/**\n * 图形布局类：计算节点位置，避免重叠\n * @class Layout\n * @constructor\n */\n\nimport { DagreLayout } from '@antv/layout'\nimport { PATH_SPACE_Y } from './constant'\n\nclass Layout {\n  constructor (lf, option = {}) {\n    this.option = option\n    this.lf = lf\n    this.paths = [] // 所有路径\n    this.targetPath = {}  // 当前路径\n    this.targetNode = {} // 当前节点\n    this.targetStartNode = {}\n    this.targetPathIndex = undefined\n    this.nodeMap = {}\n    this.edgeMap = {}\n  }\n\n  reset () {\n    this.paths = []\n    this.targetPath = {}\n    this.targetNode = {}\n    this.targetStartNode = {}\n    this.targetPathIndex = undefined\n    this.nodeMap = {}\n    this.edgeMap = {}\n  }\n\n  getBytesLength (word) {\n    if (!word) {\n      return 0;\n    }\n    let totalLength = 0;\n    for (let i = 0; i < word.length; i++) {\n      const c = word.charCodeAt(i);\n      if ((word.match(/[A-Z]/))) {\n        totalLength += 1.5;\n      } else if ((c >= 0x0001 && c <= 0x007e) || (c >= 0xff60 && c <= 0xff9f)) {\n        totalLength += 1;\n      } else {\n        totalLength += 2;\n      }\n    }\n    return totalLength;\n  }\n\n  /**\n   * option: {\n   *   rankdir: \"TB\", // layout 方向, 可选 TB, BT, LR, RL\n   *   align: undefined, // 节点对齐方式，可选 UL, UR, DL, DR\n   *   nodeSize: undefined, // 节点大小\n   *   nodesepFunc: undefined, // 节点水平间距(px)\n   *   ranksepFunc: undefined, // 每一层节点之间间距\n   *   nodesep: 40, // 节点水平间距(px) 注意：如果有grid，需要保证nodesep为grid的偶数倍\n   *   ranksep: 40, // 每一层节点之间间距 注意：如果有grid，需要保证ranksep为grid的偶数倍\n   *   controlPoints: false, // 是否保留布局连线的控制点\n   *   radial: false, // 是否基于 dagre 进行辐射布局\n   *   focusNode: null, // radial 为 true 时生效，关注的节点\n   * };\n   */\n\n  layout(node = {}, option = {}) {\n    this.reset()\n    this.targetNode = node\n    this.getPaths(node)\n    this.paths.forEach((item, index)=> {\n      if(item.startNode === this.targetStartNode) {\n        this.targetPath = item\n        this.targetPathIndex = index\n      }\n    })\n    const layoutData = this.getLayoutData(this.targetPath, option)\n    const newGraphData = {\n      nodes: [],\n      edges: [],\n    };\n    layoutData.nodes.forEach(node => {\n      // @ts-ignore: pass node data\n      const { model } = node;\n      const data = model.getData();\n      // @ts-ignore: pass node data\n      data.x = node.x;\n      // @ts-ignore: pass node data\n      data.y = node.y;\n      newGraphData.nodes.push(data);\n    });\n    layoutData.edges.forEach(edge => {\n      // @ts-ignore: pass edge data\n      const { model } = edge;\n      const data = model.getData();\n      newGraphData.edges.push(data);\n    });\n    const targetPathRect = this.getNodesRect(newGraphData.nodes)\n    // 当前路径的所有上方路径保持不变\n    this.paths.forEach((path, index) => { \n      if (index < this.targetPathIndex) { \n        path.nodes.forEach(node => {\n          const data = node.getData()\n          newGraphData.nodes.push(data)\n        })\n        newGraphData.edges.push(...path.edges)\n      }\n    })\n    // 当前路径的下方路径判断重叠\n    const nextPath = this.paths[this.targetPathIndex + 1]\n    if (nextPath) {\n      if (this.isOverlap(nextPath.rect, targetPathRect)) { // 有重叠,所有下方节点下移\n        const deltaY = targetPathRect.maxY - nextPath.rect.minY + PATH_SPACE_Y\n        this.paths.forEach((path, index) => { \n          if (index > this.targetPathIndex) { \n            path.nodes.forEach(node => {\n              const data = node.getData()\n              data.y = data.y + deltaY\n              newGraphData.nodes.push(data)\n            })\n            newGraphData.edges.push(...path.edges)\n          }\n        })\n      } else { // 无重叠，保持不变\n        this.paths.forEach((path, index) => { \n          if (index > this.targetPathIndex) { \n            path.nodes.forEach(node => {\n              const data = node.getData()\n              newGraphData.nodes.push(data)\n            })\n            newGraphData.edges.push(...path.edges)\n          }\n        })\n      }\n    }\n    const newEdges = []\n    newGraphData.edges.forEach(edge => {\n      // @ts-ignore: pass edge data\n      const model = this.lf.getEdgeModelById(edge.id)\n      const data = model.getData();\n      data.pointsList = this.calcPointsList(model, newGraphData.nodes);\n      if (data.pointsList) {\n        const first = data.pointsList[0];\n        const last = data.pointsList[data.pointsList.length - 1];\n        data.startPoint = { x: first.x, y: first.y };\n        data.endPoint = { x: last.x, y: last.y };\n        if (data.text && data.text.value) {\n          data.text = {\n            x: last.x - this.getBytesLength(data.text.value) * 6 - 10,\n            y: last.y,\n            value: data.text.value,\n          };\n        }\n      } else {\n        data.startPoint = undefined;\n        data.endPoint = undefined;\n        if (data.text && data.text.value) {\n          data.text = data.text.value;\n        }\n      }\n      newEdges.push(data);\n    });\n    newGraphData.edges = newEdges\n    this.lf.render(newGraphData);\n  }\n\n  isOverlap(rect1, rect2) {\n    return !(rect2.maxY < rect1.minY || rect1.maxY < rect2.minY || rect1.minX > rect2.maxX || rect2.minX > rect1.maxX)\n  }\n\n  getLayoutData (path, option = {}) {\n    let nodesep = 40;\n    let ranksep = 40;\n    this.option = {\n      type: 'dagre',\n      rankdir: 'LR',\n      align: 'DR',\n      nodesep,\n      ranksep,\n      ...this.option,\n      ...option,\n      begin: [path.startNode.x, path.startNode.y],\n    };\n    const layoutInstance = new DagreLayout(this.option);\n    const { nodes } = path\n    // 过滤出连接至另一条路径的边\n    const pathNodeMap = {}\n    nodes.forEach(node => {\n      pathNodeMap[node.id] = node\n    })\n    const spEdges = path.edges.filter(item => !pathNodeMap[item.targetNodeId])\n    const edges = path.edges.filter(item => pathNodeMap[item.targetNodeId])\n    const layoutData = layoutInstance.layout({\n      nodes: nodes.map((node) => ({\n        id: node.id,\n        size: {\n          width: node.width,\n          height: node.height,\n        },\n        model: node,\n      })),\n      edges: edges.map((edge) => ({\n        source: edge.sourceNodeId,\n        target: edge.targetNodeId,\n        model: edge,\n      })),\n    });\n    const spEdgesData = spEdges.map((edge) => ({\n      source: edge.sourceNodeId,\n      target: edge.targetNodeId,\n      model: edge,\n    }))\n    layoutData.edges.push(...spEdgesData)\n    return layoutData\n  }\n\n  getPaths () {\n    const { nodes, edges, gridSize } = this.lf.graphModel;\n    const startNodes = nodes.filter(item => item.type === 'event-node')\n    startNodes.sort((a,b) => a.y - b.y)\n    const paths = []\n    startNodes.forEach((startNode) => {\n      const path =  this.getPath(startNode)\n      const nodes = path.nodes\n      path.startNode = startNode\n      path.start = [startNode.x, startNode.y]\n      const rect = this.getNodesRect (nodes)\n      path.rect = rect\n      paths.push(path)\n    })\n    this.paths = paths\n    return paths\n  }\n\n  getPath (startNode) {\n    const nodes = [], edges = []\n    nodes.push(startNode)\n    const find = (model) => {\n      const outgoingNodes = this.lf.getNodeOutgoingNode(model.id)\n      const outgoingEdges = this.lf.getNodeOutgoingEdge(model.id)\n      if (outgoingNodes.length) {\n        outgoingNodes.forEach((node) => {\n          if (!this.nodeMap[node.id]) {\n            nodes.push(node)\n            this.nodeMap[node.id]= node\n            find(node)\n          }\n        })\n        outgoingEdges.forEach((edge) => {\n          if (!this.edgeMap[edge.id]) {\n            edges.push(edge)\n            this.edgeMap[edge.id]= edge\n          }\n        })\n      }\n    }\n    find(startNode)\n    nodes.forEach(node => {\n      if (node.id === this.targetNode.id) {\n        this.targetStartNode = startNode\n      }\n    })\n    return {\n      nodes,\n      edges\n    }\n  }\n\n  getNodesRect (nodes) {\n    const maxX = nodes.reduce((val, node) => {\n      return Math.max(val, node.x)\n    }, -Infinity)\n    const maxY = nodes.reduce((val, node) => {\n      return Math.max(val, node.y)\n    }, -Infinity)\n    const minX = nodes.reduce((val, node) => {\n      return Math.min(val, node.x)\n    }, Infinity)\n    const minY = nodes.reduce((val, node) => {\n      return Math.min(val, node.y)\n    }, Infinity)\n    return { minX, minY, maxX, maxY }\n  }\n\n  pointFilter(points) {\n    const allPoints = points;\n    let i = 1;\n    while (i < allPoints.length - 1) {\n      const pre = allPoints[i - 1];\n      const current = allPoints[i];\n      const next = allPoints[i + 1];\n      if ((pre.x === current.x && current.x === next.x)\n        || (pre.y === current.y && current.y === next.y)) {\n        allPoints.splice(i, 1);\n      } else {\n        i++;\n      }\n    }\n    return allPoints;\n  }\n\n  calcPointsList(model, nodes) {\n    // 在节点确认从左向右后，通过计算来保证节点连线清晰。\n    // TODO: 避障\n    const pointsList = [];\n    const offset = model.offset || 50\n    if (this.option.rankdir === 'LR' && model.modelType === 'polyline-edge') {\n      const sourceNodeModel = this.lf.getNodeModelById(model.sourceNodeId);\n      const targetNodeModel = this.lf.getNodeModelById(model.targetNodeId);\n      const newSourceNodeData = nodes.find(node => node.id === model.sourceNodeId);\n      const newTargetNodeData = nodes.find(node => node.id === model.targetNodeId);\n      if (newSourceNodeData.x < newTargetNodeData.x) {\n        if (newSourceNodeData.y > newTargetNodeData.y) {\n          pointsList.push({\n            x: newSourceNodeData.x + sourceNodeModel.width / 2,\n            y: newSourceNodeData.y,\n          });\n          pointsList.push({\n            x: newTargetNodeData.x - targetNodeModel.width / 2 - offset,\n            y: newSourceNodeData.y,\n          });\n          pointsList.push({\n            x: newTargetNodeData.x - targetNodeModel.width / 2 - offset,\n            y: newTargetNodeData.y,\n          });\n          pointsList.push({\n            x: newTargetNodeData.x - targetNodeModel.width / 2,\n            y: newTargetNodeData.y,\n          });\n        } else {\n          pointsList.push({\n            x: newSourceNodeData.x + sourceNodeModel.width / 2,\n            y: newSourceNodeData.y,\n          });\n          pointsList.push({\n            x: newSourceNodeData.x + sourceNodeModel.width / 2 + offset,\n            y: newSourceNodeData.y,\n          });\n          pointsList.push({\n            x: newSourceNodeData.x + sourceNodeModel.width / 2 + offset,\n            y: newTargetNodeData.y,\n          });\n          pointsList.push({\n            x: newTargetNodeData.x - targetNodeModel.width / 2,\n            y: newTargetNodeData.y,\n          });\n        }\n        return this.pointFilter(pointsList);\n      }\n      // 向回连线\n      if (newSourceNodeData.x > newTargetNodeData.x) {\n        if (newSourceNodeData.y >= newTargetNodeData.y) {\n          pointsList.push({\n            x: newSourceNodeData.x + sourceNodeModel.width / 2,\n            y: newSourceNodeData.y,\n          });\n          pointsList.push({\n            x: newSourceNodeData.x + sourceNodeModel.width / 2 + offset,\n            y: newSourceNodeData.y,\n          });\n          pointsList.push({\n            x: newSourceNodeData.x + sourceNodeModel.width / 2 + offset,\n            y: newTargetNodeData.y + offset,\n          });\n          pointsList.push({\n            x: newTargetNodeData.x - targetNodeModel.width / 2 - offset,\n            y: newTargetNodeData.y + offset,\n          });\n          pointsList.push({\n            x: newTargetNodeData.x - targetNodeModel.width / 2 - offset,\n            y: newTargetNodeData.y,\n          });\n          pointsList.push({\n            x: newTargetNodeData.x - targetNodeModel.width / 2,\n            y: newTargetNodeData.y,\n          });\n        } else {\n          pointsList.push({\n            x: newSourceNodeData.x,\n            y: newSourceNodeData.y - sourceNodeModel.height / 2,\n          });\n          pointsList.push({\n            x: newSourceNodeData.x,\n            y: newSourceNodeData.y - sourceNodeModel.height / 2 - offset,\n          });\n          pointsList.push({\n            x: newTargetNodeData.x,\n            y: newSourceNodeData.y - sourceNodeModel.height / 2 - offset,\n          });\n          pointsList.push({\n            x: newTargetNodeData.x,\n            y: newTargetNodeData.y - targetNodeModel.height / 2,\n          });\n        }\n        return this.pointFilter(pointsList);\n      }\n    }\n    return undefined;\n  }\n}\n\nexport default Layout","/**\n * 图形操作类：画布新增、插入、删除等操作\n * @class Graph\n * @constructor\n */\n\n import { genId, genStartPos, genNewNodePos } from './calculate'\n import { NODE_SPACE_Y, NODE_WIDTH, NODE_HEIGHT, GRAPH_START_X, GRAPH_START_Y, EDITOR_EVENT} from './constant'\n import { getNodeName } from './node' \n import event from '../node/event'\n import logicLine from '../node/logicLine'\n import { eventNodeMap, defaultLogo } from './typeMap'\n import Layout from './layout'\n//  import { History } from '@didi/suda-utils'\n\nclass Graph {\n  constructor (options) {\n    this.lf = options.lf\n    this.context = options.context\n    this.layout = new Layout(this.lf, { // 布局\n      rankdir: 'LR',\n      align: 'UL',\n      nodesep: 2,\n      ranksep: 20,\n    })\n    // this.history = new History() // 操作记录\n    this.selectedNodes = []\n    this.hoveredNodes = []\n    this.addHistory()\n  }\n\n  /**\n   * 当选中左侧画布组件时，选中逻辑图上对应节点\n   */\n  selectNodesByModel (model) {\n    const componentId = model.id\n    const data = this.lf.getGraphData()\n    const { nodes } = data\n    this.selectedNodes && this.selectedNodes.forEach(nodeModel => {\n      nodeModel.setProperties({\n        status: 'normal'\n      })\n    })\n    this.selectedNodes = []\n    nodes.forEach(node => {\n      if (node.properties && node.properties.componentId === componentId) {\n        const nodeId = node.id\n        const nodeModel = this.lf.getNodeModelById(nodeId)\n        nodeModel.setProperties({\n          status: 'selected'\n        }) \n        this.selectedNodes.push(nodeModel)\n      }\n    })\n  }\n\n /**\n   * 当悬浮左侧画布组件时，高亮逻辑图上响应节点\n   */\n  hoverNodesByModel (model) {\n    const componentId = model.id\n    const data = this.lf.getGraphData()\n    const { nodes } = data\n    nodes.forEach(node => {\n      const nodeId = node.id\n      const nodeModel = this.lf.getNodeModelById(nodeId)\n      if(node.properties && node.properties.componentId === componentId) {\n        nodeModel.setProperties({\n          status: 'hovered'\n        })\n      } else {\n        if (nodeModel.properties && nodeModel.properties.status === 'selected') return;\n        nodeModel.setProperties({\n          status: 'normal'\n        })\n      }\n    })\n  }\n\n  /**\n   * 选中某一节点\n   */\n  selectNode (seletedModel) {  \n    const nodeId = seletedModel.id\n    const nodeModel = this.lf.getNodeModelById(nodeId)\n    this.selectedNodes && this.selectedNodes.forEach(nodeModel => {\n      nodeModel.setProperties({\n        status: 'normal'\n      })\n    })\n    this.selectedNodes = []\n    nodeModel.setProperties({\n      status: 'selected'\n    })\n    this.selectedNodes.push(nodeModel)\n    this.lf.graphModel.eventCenter.emit('node:model-selected', seletedModel)\n  }\n\n  /**\n   * hover某一节点\n   */\n   hoverNode (seletedModel) {\n    const nodeId = seletedModel.id\n    const nodeModel = this.lf.getNodeModelById(nodeId)\n    this.hoveredNodes && this.hoveredNodes.forEach(nodeModel => {\n      nodeModel.setProperties({\n        status: 'normal'\n      })\n    })\n    this.hoveredNodes = []\n    nodeModel.setProperties({\n      status: 'hovered'\n    })\n    this.hoveredNodes.push(nodeModel)\n    this.lf.graphModel.eventCenter.emit('node:model-selected', seletedModel)\n  }\n\n   /**\n   * 清空所有节点状态\n   */\n  clearNodesStatus () {\n    this.selectedNodes && this.selectedNodes.forEach(nodeModel => {\n      nodeModel.setProperties({\n        status: 'normal'\n      })\n    })\n    this.hoveredNodes && this.hoveredNodes.forEach(nodeModel => {\n      nodeModel.setProperties({\n        status: 'normal'\n      })\n    })\n    this.selectedNodes = []\n    this.hoveredNodes = []\n  }\n\n  /**\n   * 通过拖拽添加节点\n   */\n  addNodeByDrop (model, e) {\n    const { clientX, clientY } = e\n    const point = this.lf.graphModel.getPointByClient({ x: clientX - 5, y: clientY - 5 })\n    const canvasPoint = point.canvasOverlayPosition\n    const id = genId(10)\n    const componentName = model.componentName\n    const material = this.context.getMaterialByType(componentName)\n    const logo = material.logo || defaultLogo\n    const x = Math.abs((canvasPoint.x + NODE_WIDTH/2) - GRAPH_START_X) < 50 ? GRAPH_START_X : (canvasPoint.x + NODE_WIDTH/2)\n    const y = canvasPoint.y + NODE_HEIGHT/2\n    const nodeData = {\n      id,\n      type: event.type,\n      x,\n      y,\n      properties: {\n        name: getNodeName(model),\n        componentId: model.id,\n        componentName: model.componentName,\n        logo,\n        item: {\n          prop: false\n        }\n      }\n    }\n    const node = this.lf.addNode(nodeData)\n    this.selectNode(node) // 添加后默认选中该节点\n    this.addHistory()\n  }\n  \n  /**\n   * 在节点或边后新插入新节点\n   */\n  insertNode (nodeModel, type, properties) {\n    // todo: 几种情况的处理：1.一个节点连出多条边 2.一个节点的入口连入多条边 3.线的回连\n    const lf = this.lf\n    if (nodeModel.data.type === logicLine.type) { // 如果是基于边插入节点，则在此边之后新增节点\n      const edge = nodeModel\n      const id = genId(10)\n      const node = lf.addNode({ // 在此边的尾端插入一个新节点\n        id,\n        type,\n        x: edge.endPoint.x + NODE_WIDTH / 2, // 75为节点宽度\n        y: edge.endPoint.y,\n        properties\n      })\n      const targetNodeId =  edge.data.targetNodeId // 原来此边之后的节点id\n      const preEdge = { // 基于此边新建一条边，代替此边，连接新节点\n        ...edge.data,\n        targetNodeId: id,\n        type: logicLine.type\n      }\n      const nextEdge = { // 新建一条边，连接新节点与原来此边之后的节点\n        id: genId(10),\n        sourceNodeId: id,\n        targetNodeId: targetNodeId,\n        type: logicLine.type\n      }\n      // const targetNode = lf.getNodeModelById(targetNodeId) // 获取原来此边之后的节点model\n      // this.shiftNextNodes(targetNode, NODE_SPACE_X) // 移动此边之后的所有节点\n      lf.deleteEdge(edge.id) // 删除此边\n      lf.addEdge(preEdge)\n      lf.addEdge(nextEdge)\n      this.layout.layout(node)\n      this.selectNode(node) // 添加后默认选中该节点\n    } else { // 如果是基于node插入节点，则在此node之后新增一个节点\n      const id = genId(10)\n      const pos = genNewNodePos(lf, nodeModel)\n      const node = lf.addNode({ // 在此边的尾端插入一个新节点\n        id,\n        type,\n        x: pos.x, // 75为节点宽度\n        y: pos.y,\n        properties\n      })\n      lf.addEdge({ // 在此边的尾端插入一个新节点\n        id: genId(10),\n        sourceNodeId: nodeModel.id,\n        targetNodeId: id,\n        type: logicLine.type\n      })\n      this.layout.layout(node)\n      this.selectNode(node) // 添加后默认选中该节点\n    }\n    this.addHistory()\n  }\n\n  /**\n   * 删除选中的节点并自动连接前后节点\n   */\n   deleteNode (nodeModel) {\n    const incommingEdges = this.lf.getNodeIncomingEdge(nodeModel.id)\n    const outgoingNodes = this.lf.getNodeOutgoingNode(nodeModel.id)\n    const incomingNodes = this.lf.getNodeIncomingNode(nodeModel.id)\n    if (outgoingNodes.length && incommingEdges.length) { // 如果有后续节点并且非循环节点\n      const edge = incommingEdges[0]\n      const node = outgoingNodes[0]\n      let newEdge = {\n        ...edge.data,\n        targetNodeId: node.id\n      }\n      this.lf.deleteEdge(edge)\n      this.addEdge(newEdge)\n    } \n    this.lf.deleteNode(nodeModel.id)\n    if (incomingNodes.length) {\n      this.layout.layout(incomingNodes[0])\n    } else if (incomingNodes.length) {\n      this.layout.layout(outgoingNodes[0])\n    }\n    this.addHistory()\n  }\n\n  /**\n   * 复制选中的节点并放于该节点下方\n   */\n  copyNode (nodeModel) {\n    const { data }= nodeModel\n    let x = 0, y = 0\n    if (nodeModel.type === event.type) {\n      let pos = genStartPos(this.lf)\n      x = pos.x\n      y = pos.y\n    } else {\n      x = data.x\n      y = data.y + NODE_SPACE_Y\n    }\n    const newNodeData = {\n      ...data,\n      id: genId(10),\n      x,\n      y\n    }\n    const node = this.lf.addNode(newNodeData)\n    this.selectNode(node) // 添加后默认选中该节点\n    this.addHistory()\n  }\n  \n  /**\n   * 添加边\n   */\n  addEdge (edgeData) {\n    this.lf.addEdge(this.calcPointsList(edgeData))\n  }\n\n  /**\n   * 连接至已有节点\n   */\n  connectToNode(id, model) {\n    const targetModel = this.lf.graphModel.getNodeModelById(id)\n    this.lf.addEdge({ // 在此边的尾端插入一个新节点\n      id: genId(10),\n      sourceNodeId: model.id,\n      targetNodeId: id,\n      type: logicLine.type\n    })\n    this.layout.layout(model)\n    this.addHistory()\n  }\n  \n  /**\n   * 计算控制点\n   */\n  calcPointsList (edgeData) {\n    const lf = this.lf\n    if (!edgeData.pointsList || edgeData.pointsList.length === 0) {\n      const startNode = lf.getNodeModelById(edgeData.sourceNodeId)\n      const endNode = lf.getNodeModelById(edgeData.targetNodeId)\n      // 如果开始节点在结束节点右边，则算一个节点连线\n      if (startNode.x > endNode.x) {\n        edgeData.pointsList = [\n          {\n            x: endNode.x + 75,\n            y: endNode.y\n          },\n          {\n            x: endNode.x + 75,\n            y: endNode.y - 150\n          },\n          {\n            x: startNode.x - 75,\n            y: startNode.y\n          },\n          {\n            x: startNode.x - 75,\n            y: startNode.y - 150\n          }\n        ]\n      }\n    }\n    return edgeData\n  }\n  \n  /**\n   * 某节点后插入新节点时，移动后续所有节点位置\n   */\n  shiftNextNodes (nodeModel, dx) {\n    // todo: 考虑线的回连情况\n    const lf = this.lf\n    nodeModel.x = nodeModel.x + dx\n    const outgoingNodes = lf.getNodeOutgoingNode(nodeModel.id)\n    const outgoingEdges = lf.getNodeOutgoingEdge(nodeModel.id)\n    if (outgoingNodes.length) {\n      outgoingNodes.forEach((model) => {\n        this.shiftNextNodes(model, dx)\n      })\n    }\n    if (outgoingEdges.length) {\n      outgoingEdges.forEach((edge) => {\n        const { data } = edge\n        const newEdge = data\n        lf.deleteEdge(edge.id)\n        this.addEdge(newEdge)\n      })\n    }\n  }\n  \n  /**\n   * 判断是否为循环节点\n   */\n  isLoopNode (nodeModel, nodeId) {\n    const outgoingNodes = this.lf.getNodeOutgoingNode(nodeModel.id)\n    if (outgoingNodes.length) {\n      for (let i = 0; i < outgoingNodes.length; i++) {\n        const model = outgoingNodes[i]\n        if (model.id === nodeId) {\n          return true\n        }\n        return this.isLoopNode(model, nodeId)\n      }\n    } \n    return false\n  }\n\n  /**\n   * 添加初始化节点\n   */\n  addInitNode() {\n    const { x, y } = genStartPos(this.lf)\n    const node = this.lf.addNode({\n      id: genId(10, 'init_'),\n      type: event.type,\n      x,\n      y,\n      properties: {\n        componentId: 'page_init',\n        componentName: 'pageInit',\n        name: '页面初始化',\n        logo: eventNodeMap.pageInit.logo\n      }\n    })\n    this.selectNode(node) // 添加后默认选中该节点\n    return node\n  }\n\n  initView() {\n    const { nodes} = this.lf.getGraphData()\n    const rect = this.layout.getNodesRect(nodes)\n    this.lf.graphModel.transformModel.translate(-rect.minX + GRAPH_START_X, -rect.minY + GRAPH_START_Y)\n  }\n\n  /**\n   * 增加历史记录\n   */\n  addHistory() {\n    const graphData = this.lf.getGraphData()\n    // this.history.add(graphData)\n    // this.context.eventCenter.emit(EDITOR_EVENT.LOGIC_HISTORY_CHANGE, {\n    //   canUndo: this.history.canUndo,\n    //   canRedo: this.history.canRedo\n    // })\n  }\n\n  /**\n   * 撤销\n   */\n  undo() {\n    // const canUndo = this.history.canUndo\n    // if (canUndo) {\n    //   const data = this.history.undo()\n    //   data && this.lf.render(data)\n    // }\n    // this.context.eventCenter.emit(EDITOR_EVENT.LOGIC_HISTORY_CHANGE, {\n    //   canUndo: this.history.canUndo,\n    //   canRedo: this.history.canRedo\n    // })\n  }\n\n  /**\n   * 重做\n   */\n  redo() {\n    // const canRedo = this.history.canRedo\n    // if (canRedo) {\n    //   const data = this.history.redo()\n    //   data && this.lf.render(data)\n    // }\n    // this.context.eventCenter.emit(EDITOR_EVENT.LOGIC_HISTORY_CHANGE, {\n    //   canUndo: this.history.canUndo,\n    //   canRedo: this.history.canRedo\n    // })\n  }\n}\n\nexport default Graph\n","import { cloneDeep } from \"lodash-es\";\nimport { getUniqueId } from '../../util';\nimport \"./popover.less\";\n\nexport default class Popover {\n  constructor({ lf }) {\n    lf.graphModel.popover = this;\n    this.popoverTypeMap = new Map(); // 维护页面有多少种popover\n    this.floatingMap = new Map(); // 维护当前正在显示有多少个popover\n    this.waitingCollection = new Map(); // 待显示的组件集合\n    this.renderedCollection = new Map(); // 已显示组件集合\n    this.removeFloatingHandler = this.removeFloating.bind(this);\n  }\n  /**\n   * 注册弹框组件\n   * @param {string} type type类型，用于show的时候选择触发类型\n   * @param { popoverItem } popoverItem 注册组件类型\n   * popoverItem.element 渲染的DOM节点\n   * popoverItem.render 渲染的方法，可以不传\n   */\n  registerPopover(type, popoverItem) {\n    this.popoverTypeMap.set(type, popoverItem);\n  }\n  render(lf, container) {\n    this.lf = lf;\n    this.lfContainer = container;\n    this.container = document.querySelector(\"body\");\n  }\n  createFloating(x, y, popoverItem) {\n    const floating = document.createElement(\"div\");\n    floating.className = `lf-popover-floating ${popoverItem.placement}`;\n    floating.style.left = x + \"px\";\n    floating.style.top = y + \"px\";\n    const inner = document.createElement(\"div\");\n    floating.appendChild(inner);\n    const arrow = document.createElement(\"div\");\n    arrow.className = `lf-popover-arrow ${popoverItem.placement}`;\n    floating.appendChild(arrow);\n    this.container.appendChild(floating);\n    if (popoverItem.trigger === \"click\") {\n      document.body.addEventListener(\"mousedown\", this.removeFloatingHandler);\n      floating.addEventListener(\"mousedown\", (e) => {\n        e.stopPropagation();\n      });\n    } else {\n      floating.addEventListener(\"mouseenter\", () => {\n        this.renderedCollection.set(\n          popoverItem.__id + \"__popover\",\n          popoverItem\n        );\n      });\n      floating.addEventListener(\"mouseleave\", () => {\n        this.renderedCollection.delete(popoverItem.__id + \"__popover\");\n        this.destroyPopover(popoverItem.__id);\n      });\n    }\n    this.floatingMap.set(popoverItem.__id, floating);\n    return inner;\n  }\n  removeFloating() {\n    document.body.removeEventListener(\"mousedown\", this.removeFloatingHandler);\n    this.renderedCollection.forEach((item) => {\n      if (item.trigger === \"click\") {\n        this.destroyPopover(item.__id);\n      }\n    });\n  }\n  renderPopover(popoverItem) {\n    const showPosition = this.getShowPosition(popoverItem);\n    const [x, y] =\n      this.lf.graphModel.transformModel.CanvasPointToHtmlPoint(showPosition);\n    const rect = this.lfContainer.getBoundingClientRect();\n    const startX = rect.x,\n      startY = rect.y;\n    const posX = startX + x,\n      posY = startY + y;\n    const rootEl = this.createFloating(posX, posY, popoverItem);\n    const item = this.popoverTypeMap.get(popoverItem.type);\n    if (!item) {\n      throw new Error(\"未找到需要弹框的内容\");\n    }\n    if (item.render) {\n      item.render(rootEl, popoverItem);\n    } else if (item.element) {\n      rootEl.appendChild(element);\n    }\n    const floating = this.floatingMap.get(popoverItem.__id);\n    const floatingRect = floating.getBoundingClientRect();\n    if (floatingRect.top < 0) {\n      floating.className = `lf-popover-floating bottom`;\n      const arrow = floating.querySelector(\".lf-popover-arrow\");\n      arrow && (arrow.className = `lf-popover-arrow bottom`);\n    }\n    this.renderedCollection.set(popoverItem.__id, popoverItem);\n  }\n  destroyPopover(__id) {\n    this.renderedCollection.delete(__id);\n    if (!this.renderedCollection.has(__id + \"__popover\")) {\n      const floating = this.floatingMap.get(__id);\n      floating && this.container.removeChild(floating);\n      this.renderedCollection.delete(__id + \"__popover\");\n      this.floatingMap.delete(__id);\n    }\n  }\n  /**\n   * config = {\n   *   x: number,\n   *   y: number,\n   *   width: number,\n   *   height: number,\n   *   key: '', // 传递key后，可以识别相同组件的重复触发，在click模式下，再次点击等于隐藏。\n   *   placement: 'right',\n   *   type: 'tip1', // 不同类型的popover\n   *   delay: 100, // 延迟显示时间\n   *   trigger: 'click'\n   * }\n   */\n  show(config) {\n    this.config = config\n    const popoverItem = cloneDeep(config)\n    const uid = getUniqueId()\n    if (config.trigger === 'click' && config.key) {\n      popoverItem.__id = config.key\n    } else {\n      popoverItem.__id = uid\n    }\n    this.waitingCollection.set(popoverItem.__id, popoverItem)\n    setTimeout(() => {\n      if (this.renderedCollection.has(popoverItem.__id)) {\n        this.removeFloating()\n      } else {\n        const item = this.waitingCollection.get(popoverItem.__id)\n        this.waitingCollection.delete(popoverItem.__id)\n        item && this.renderPopover(item)\n      }\n    }, config.delay || 0)\n    return popoverItem.__id\n  }\n  getShowPosition(config) {\n    switch (config.placement) {\n      case \"right\":\n        return [config.x + config.width / 2 + 5, config.y];\n      case \"bottom\":\n        return [config.x, config.y + config.height / 2 + 5];\n      case \"top\":\n        return [config.x, config.y - config.height / 2 - 5];\n      case \"left\":\n        return [config.x - config.width / 2 + 5, config.y];\n      default:\n        return [config.x + config.width / 2 + 5, config.y];\n    }\n  }\n  /**\n   * popover消失时间50ms的延迟\n   */\n  hide(__id) {\n    this.waitingCollection.delete(__id);\n    setTimeout(() => {\n      this.destroyPopover(__id);\n    }, 50);\n  }\n}\n\nPopover.pluginName = \"popover\";\n","<template>\n  <div\n    class=\"logic-panel\"\n    v-loading=\"loading\"\n    element-loading-text=\"加载中...\"\n    element-loading-spinner=\"el-icon-loading\"\n    element-loading-background=\"rgba(255, 255, 255, 1)\"\n  >\n    <div ref=\"container\" class=\"logic-container\"></div>\n    <toolbar :lf=\"lf\" :graph=\"graph\"></toolbar>\n    <property-panel\n      v-if=\"lf\"\n      :lf=\"lf\"\n      :context=\"context\"\n      @submit=\"handleSubmit\"\n    ></property-panel>\n  </div>\n</template>\n\n<script>\nimport LogicFlow from \"@logicflow/core\";\nimport { Dagre } from \"@logicflow/layout\";\nimport { MiniMap, SelectionSelect, Menu } from \"@logicflow/extension\";\n\nimport \"@logicflow/core/dist/style/index.css\";\nimport \"@logicflow/extension/lib/style/index.css\";\n\nimport propertyPanel from \"../tool/propertyPanel/index.vue\";\nimport insertMenu from \"../tool/insertMenu/index.vue\";\nimport toolbar from \"../tool/toolbar/index.vue\";\n\nimport logicLine from \"../node/logicLine\";\nimport reaction from \"../node/reaction\";\nimport common from \"../node/common\";\nimport event from \"../node/event\";\nimport { defaultLogo } from \"../util/typeMap\";\n\nimport { waitTime } from \"../util/index\";\nimport Graph from \"../util/graph\";\nimport { genStartPos, genId } from \"../util/calculate\";\nimport { NODE_SPACE_X, NODE_SPACE_Y, EDITOR_EVENT } from \"../util/constant\";\nimport { getNodeName } from \"../util/node\";\nimport Popover from \"../tool/popover/popover\";\n\nexport default {\n  name: 'LogicPanel',\n  props: {\n    context: Object,\n    info: Object,\n  },\n  data() {\n    return {\n      lf: null,\n      graph: null,\n      isShowMenu: false,\n      menuPosition: {\n        x: 0,\n        y: 0,\n      },\n      currentModel: null,\n      tipText: \"\",\n      loading: true,\n    };\n  },\n  async mounted() {\n    this.loading = true;\n    await waitTime(100);\n\n    this.initCanvas();\n    this.initEvents();\n    this.initPopover();\n    this.info && this.createDefaultLogic();\n    this.loading = false;\n  },\n  methods: {\n    // 节点拖拽到画布时的操作\n    onDrop(e) {\n      const target = this.context.Dnd.getDragObject();\n      this.graph.addNodeByDrop(target, e);\n    },\n    onDragOver(e) {\n      e.preventDefault();\n    },\n\n    // 初始化画布\n    initCanvas() {\n      const graphData = this.getGraphDataFromContext();\n      this.lf = new LogicFlow({\n        container: this.$refs.container,\n        autoExpand: false,\n        hoverOutline: false,\n        edgeSelectedOutline: false,\n        // adjustEdge: false,\n        plugins: [MiniMap, SelectionSelect, Menu, Dagre, Popover],\n        keyboard: {\n          enabled: true,\n          shortcuts: [\n            {\n              keys: \"backspace\",\n              callback: () => {\n                const { edges } = this.lf.getSelectElements();\n                // 默认只支持删除选中连线\n                if (edges && edges.length === 1) {\n                  this.lf.deleteEdge(edges[0].id);\n                }\n              },\n            },\n          ],\n        },\n        grid: {\n          size: 10,\n          visible: false,\n        },\n      });\n      this.lf.batchRegister([logicLine, reaction, common, event]);\n      this.lf.render(graphData);\n      this.lf.setDefaultEdgeType(logicLine.type);\n      this.lf.setTheme({\n        arrow: {\n          offset: 4,\n          verticalLength: 3,\n        },\n        snapline: {\n          stroke: \"#2961EF\", // 对齐线颜色\n          strokeWidth: 1, // 对齐线宽度\n        },\n        bezier: {\n          stroke: \"#afafaf\",\n          strokeWidth: 2,\n        },\n      });\n      this.graph = new Graph({\n        lf: this.lf,\n        context: this.context,\n      });\n      if (!graphData || graphData.nodes.length === 0)\n        this.initNode = this.graph.addInitNode();\n      this.graph.initView();\n\n      // REMIND: 临时将 lf 挂到 window 方便调试\n      window.lf = this.lf;\n    },\n\n    // 初始化事件\n    initEvents() {\n      // Context 事件监听\n      // 点击组件时高亮对应节点\n      this.context.eventCenter.on(\n        EDITOR_EVENT.CANVAS_MODEL_CLICKED,\n        (model) => {\n          this.graph.selectNodesByModel(model);\n        }\n      );\n      this.context.eventCenter.on(\n        EDITOR_EVENT.CANVAS_MODEL_DELETED,\n        (model) => {\n          console.log(\"EDITOR_EVENT.CANVAS_MODEL_DELETE\", model);\n          // this.checkRelatedComponent();\n        }\n      );\n\n      // LF事件注册\n      // 点击处理\n      this.lf.on(\"node:select-click\", (model) => {\n        this.graph.selectNode(model);\n        this.currentModel = model;\n      });\n\n      // 属性面板鼠标悬浮到某选项时高亮对应节点\n      this.lf.on(\"node:hover-node\", (model) => {\n        this.graph.hoverNode(model);\n      });\n\n      // 鼠标移出节点后取消画布组件高亮\n      this.lf.on(\"node:mouseleave\", () => {\n        this.context.eventCenter.emit(EDITOR_EVENT.LOGIC_NODE_HOVER, null);\n      });\n\n      // 监听node点击\n      this.lf.on(\"node:click\", ({ data }) => {\n        const model = this.lf.getNodeModelById(data.id);\n        this.currentModel = model;\n      });\n      this.lf.on(\"history:change\", () => {\n        this.setGraphDataToContext();\n      });\n      this.lf.on(\"node:add-node\", ({ model, type, properties }) => {\n        this.graph.insertNode(model, type, properties);\n      });\n      this.lf.on(\"node:delete-node\", (model) => {\n        this.graph.deleteNode(model);\n        const data = model.getData();\n        if (\n          data.type === \"common-node\" &&\n          data.properties &&\n          data.properties.ds\n        ) {\n          this.checkRelatedNode();\n        }\n      });\n      this.lf.on(\"node:copy-node\", (model) => {\n        this.graph.copyNode(model);\n      });\n\n      // 如果画布上一个节点都没有了，添加一个引导节点\n      this.lf.on(\"node:delete\", ({ data }) => {\n        const { nodes } = this.lf.getGraphData();\n        if (nodes.length === 0) {\n          // 如果当前页面节点都被删除，就自动创建一个页面初始化节点\n          this.initNode = this.graph.addInitNode();\n        } else if (\n          data.properties &&\n          data.properties.componentName === \"pageInit\"\n        ) {\n          const hasInit = nodes.find(\n            (item) =>\n              item.properties && item.properties.componentName === \"pageInit\"\n          );\n          if (!hasInit) {\n            // 如果当前页面没有页面初始化节点了，就自动创建一个\n            this.initNode = this.graph.addInitNode();\n          }\n        }\n      });\n\n      // 点击节点添加按钮后，显示添加菜单\n      this.lf.on(\"node:add-click\", ({ model, event }) => {\n        this.currentModel = model;\n        const x = event.clientX;\n        const y = event.clientY;\n        this.menuPosition = {\n          x: x - 10,\n          y: y - 10,\n        };\n        this.isShowMenu = true;\n      });\n      this.lf.on(\"edge:update-model\", (model) => {\n        this.currentModel = model;\n      });\n      this.lf.on(\"node:update-model\", (model) => {\n        this.currentModel = model;\n        this.graph.selectNode(model);\n      });\n      this.lf.on(\"blank:click\", () => {\n        this.currentModel = null;\n        this.graph.clearNodesStatus();\n        this.context.eventCenter.emit(\n          EDITOR_EVENT.CANVAS_MODEL_ACTIVATED,\n          null\n        );\n      });\n      this.lf.on(\"blank:contextmenu\", ({ e, position }) => {\n        const x = e.clientX;\n        const y = e.clientY;\n        this.menuPosition = {\n          x: x - 10,\n          y: y - 10,\n        };\n        this.isShowMenu = true;\n      });\n    },\n    // 初始化弹出框\n    initPopover() {\n      const { popover } = this.lf.extension;\n      popover.registerPopover(\"tip1\", {\n        // TODO: 后续支持传递属性\n        render: (rootEl, data) => {\n          const vm = new Vue({\n            render: (h) =>\n              h(insertMenu, {\n                props: {\n                  lf: this.lf,\n                  context: this.context,\n                  graph: this.graph,\n                  model: this.currentModel,\n                  showConnectBlock: data.props.showConnectBlock,\n                },\n              }),\n          });\n          vm.$mount(rootEl);\n        },\n      });\n    },\n\n    /**\n     * 从context中获取graphData\n     */\n    getGraphDataFromContext() {\n      const { logicList } = this.context;\n      if (logicList.length === 1 && logicList[0].nodes !== undefined) {\n        // 表示新版数据，目前虽然是一张图，但是以后大概率用多张图来表示逻辑控制，所以先预留数组的形式。\n        const graphData = logicList[0];\n        graphData.nodes.forEach((node) => {\n          const { properties } = node;\n          if (properties) {\n            node.properties.logo = defaultLogo;\n          }\n        });\n        return graphData;\n      }\n      return {\n        nodes: [],\n        edges: [],\n      };\n    },\n    setGraphDataToContext() {\n      const graphData = this.lf.getGraphData();\n      graphData.nodes.forEach((node) => {\n        if (node.properties) {\n          delete node.properties.logo;\n          delete node.properties.status;\n          delete node.properties.warnings;\n        }\n      });\n      this.context.logicList = [graphData];\n    },\n    /**\n     * 获取节点的outgoing\n     * outgoing: [\n     *  {\n     *    id: 'edgeId',\n     *    condition: 'nodeId_1.eventType === \"click\"',\n     *    text: '点击',\n     *    target: 'nodeId_2',\n     *    pointsList: [] // 连线的坐标\n     *  }\n     * ]\n     */\n    getNodeOutgoing(nodeId) {\n      const edges = this.lf.getNodeOutgoingEdge(nodeId);\n      return edges.map((edgeModel) => {\n        const edgeData = edgeModel.getData();\n        return {\n          id: edgeData.id,\n          condition: edgeData.properties.condition,\n          text: edgeData.text ? edgeData.text.value : \"\",\n          target: edgeData.targetNodeId,\n          pointsList: edgeData.pointsList,\n        };\n      });\n    },\n    handleSubmit(type) {\n      if (type === \"ds\") {\n        this.checkRelatedDs();\n      }\n      this.graph.addHistory();\n    },\n\n    /**\n     * 根据传入的model创建行为节点、引导\n     */\n    createDefaultNode(startPos) {\n      const { dynamicKey, model } = this.info;\n      const logic = model.getLogic();\n      const props = logic.props || [];\n      const currentProp = props.find((item) => item.name === dynamicKey) || {};\n      const actNode = {\n        id: genId(10),\n        type: reaction.type,\n        x: startPos.x + NODE_SPACE_X * 2,\n        y: startPos.y,\n        properties: {\n          componentId: model.id,\n          componentName: model.componentName,\n          name: getNodeName(model),\n          reactions: [\n            {\n              key: dynamicKey,\n              keyDefine: currentProp.description,\n              valueDefine: \"\",\n              value: {\n                type: \"dataSource\",\n              },\n            },\n          ],\n          item: {\n            prop: true,\n          },\n        },\n      };\n      return actNode;\n    },\n    /**\n     * 在setter点击动态数据设置后，跳转到逻辑编排并自动创建一条逻辑\n     */\n    createDefaultLogic() {\n      const startPos = genStartPos(this.lf);\n      const startNode = {\n        id: genId(10),\n        type: event.type,\n        x: startPos.x,\n        y: startPos.y,\n        properties: {\n          componentId: \"page_init\",\n          componentName: \"pageInit\",\n          name: \"页面初始化\",\n        },\n      };\n      const reqNode = {\n        id: genId(10),\n        type: common.type,\n        x: startPos.x + NODE_SPACE_X,\n        y: startPos.y,\n        properties: {\n          type: \"dataSource\",\n          componentName: \"dataSource\",\n          name: \"数据请求\",\n        },\n      };\n      const actNode = this.createDefaultNode(startPos);\n      const graphData = {\n        nodes: [startNode, reqNode, actNode],\n        edges: [\n          {\n            id: genId(10),\n            type: logicLine.type,\n            sourceNodeId: startNode.id,\n            targetNodeId: reqNode.id,\n          },\n          {\n            id: genId(10),\n            type: logicLine.type,\n            sourceNodeId: reqNode.id,\n            targetNodeId: actNode.id,\n          },\n        ],\n      };\n      this.lf.addElements(graphData);\n      this.lf.translate(0, -NODE_SPACE_Y);\n    },\n  },\n  components: {\n    propertyPanel,\n    toolbar,\n  },\n};\n</script>\n\n<style scoped lang=\"less\">\n.system-warning {\n  position: absolute;\n  right: 0;\n  bottom: 0;\n  color: orange;\n  background: #fff;\n  width: 100%;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  box-shadow: 0 2px 12px 0 rgb(31 50 82 / 18%);\n  border-radius: 2px;\n  padding: 12px;\n  font-size: 14px;\n}\n.logic-panel,\n.logic-container {\n  width: 100%;\n  height: 100%;\n  position: relative;\n}\n.logic-palette {\n  position: absolute;\n  left: 0;\n  top: 0;\n}\n\n/*自定义锚点样式*/\n.logic-panel {\n  /deep/ .custom-anchor {\n    stroke: #2961ef;\n    stroke-width: 1;\n    fill: #fff;\n    cursor: crosshair;\n    rx: 3;\n    ry: 3;\n  }\n  /deep/ .custom-anchor:hover {\n    stroke: #2961ef;\n    stroke-width: 1;\n    fill: #fff;\n  }\n  /deep/ .lf-node-not-allow .custom-anchor:hover {\n    stroke: #999;\n    fill: #d9d9d9;\n    cursor: not-allowed;\n  }\n  /deep/ .incomming-anchor {\n    stroke: #2961ef;\n    cursor: default;\n  }\n  /deep/ .outgoing-anchor {\n    stroke: #2961ef;\n  }\n  /deep/ .lf-node-not-allow .basic-node {\n    cursor: not-allowed;\n  }\n  /deep/ .lf-control-item i {\n    font-size: 20px;\n    font-weight: 600;\n  }\n  /deep/ .lf-multiple-select {\n    background: rgba(224, 80, 10, 0.2);\n  }\n  /deep/ .lf-grid > svg {\n    background-image: url(\"../assets/img/grid.svg\");\n    background-size: 50px 50px;\n    background-repeat: repeat;\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./LogicPanel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./LogicPanel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LogicPanel.vue?vue&type=template&id=20d76898&scoped=true&\"\nimport script from \"./LogicPanel.vue?vue&type=script&lang=js&\"\nexport * from \"./LogicPanel.vue?vue&type=script&lang=js&\"\nimport style0 from \"./LogicPanel.vue?vue&type=style&index=0&id=20d76898&prod&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"20d76898\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div id=\"app\">\n    <div class=\"organizer-panel-wrapper\">\n      <el-container class=\"organizer-container\">\n        <logic-panel\n          class=\"logic-panel-wrapper\"\n          :context=\"context\"\n          :info=\"info\"\n        ></logic-panel>\n      </el-container>\n    </div>\n  </div>\n</template>\n\n<script>\nimport './index.less'\nimport Context from './context'\nimport mockDetail from './mock/mockLogicList';\nimport LogicPanel from \"./components/LogicPanel.vue\";\n\n\nexport default {\n  name: \"LogicSetter\",\n  data() {\n    return {\n      context: new Context({ logicList: [] }),\n      // context: new Context(mockDetail),\n      info: undefined,\n    };\n  },\n  components: { LogicPanel }\n};\n</script>\n\n<style>\n@import \"./assets/base.css\";\n\n#app {\n  width: 100vw;\n  height: 100vh;\n  margin: 0 auto;\n  padding: 2rem;\n  font-weight: normal;\n}\n\na,\n.green {\n  text-decoration: none;\n  color: hsla(160, 100%, 37%, 1);\n  transition: 0.4s;\n}\n\n.organizer-panel-wrapper {\n  width: 100%;\n  height: 100%;\n  background: #eaecef;\n  border: 1px solid #ccc;\n}\n\n.organizer-container {\n  width: 100%;\n  height: 100%;\n  position: relative;\n}\n</style>\n","import mod from \"-!../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=caaefdf8&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&id=caaefdf8&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport VueCompositionAPI from '@vue/composition-api'\nimport ElementUI from 'element-ui'\n\nimport 'element-ui/lib/theme-chalk/index.css'\nimport App from './App.vue'\n\nVue.use(VueCompositionAPI)\nVue.use(ElementUI)\nwindow.Vue = Vue;\n\nconst app = new Vue({\n  render: (h) => h(App)\n})\n\napp.$mount('#app')\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","__webpack_require__.amdO = {};","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = function(module) {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkorganizer\"] = self[\"webpackChunkorganizer\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(9399); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["render","_vm","this","_c","_self","attrs","staticClass","context","info","staticRenderFns","History","constructor","options","Object","assign","limit","onChange","_stacks","_pointer","current","canUndo","canRedo","length","count","stacks","add","data","splice","shift","push","undo","redo","destroy","WILDCARD","EventEmitter","_events","on","evt","callback","once","evts","split","forEach","ev","emit","eventArgs","events","wildcardEvents","doEmit","es","i","apply","off","getEvents","Context","eventCenter","history","logicList","directives","name","rawName","value","loading","expression","ref","lf","graph","handleSubmit","_e","staticStyle","showDrawer","closeDrawer","$event","panelType","_v","handelNameChange","model","$$v","currentModel","actions","condition","event","ds","pageJump","dc","blacklist","Set","hasBlacklist","node","type","has","validateCode","code","ast","esprima","parse","console","log","hasWindow","hasDocument","hasReturn","acornWalk","MemberExpression","object","CallExpression","callee","Error","ReturnStatement","_l","item","index","key","handleActionChange","handleActionDelete","addAction","_s","title","handleDelete","propName","handlePropChange","propOptions","label","val","valueOptions","types","handleValueChange","handleCommand","class","typeMap","icon","slot","typeOptions","handleChange","props","default","watch","immediate","deep","handler","methods","dataType","valueDesc","component","handleTypeChange","TypeOptions","nativeOn","handleMouseEnter","desc","showFieldInput","handleFieldChange","fieldName","NODE_SPACE_X","NODE_SPACE_Y","PATH_SPACE_Y","GRAPH_START_X","GRAPH_START_Y","NODE_WIDTH","NODE_HEIGHT","LINE_OFFSET","EDITOR_EVENT","ONLOAD","ERROR","RESET","PREVIEW","CANVAS_MODEL_ACTIVATED","CANVAS_MODEL_DELETED","CANVAS_MODEL_HOVERED","CANVAS_MODEL_CLICKED","LOGIC_NODE_ADD","LOGIC_NODE_HOVER","LOGIC_NODE_DYN_DATA","LOGIC_HISTORY_CHANGE","getNodeName","getModelName","componentName","focusNode","graphModel","id","deltaX","selectElementById","getElement","rect","rootEl","getBoundingClientRect","dx","transformModel","focusOn","x","y","Number","width","height","prop","field","componentId","getInputModelList","computed","valueProp","selectModel","nodeId","stopPropagation","apiId","resBody","handleFiledChange","handleCustomField","expandTrigger","checkStrictly","body","list","genTree","apiLabel","nodes","components","fieldSelector","showPropSelet","getLogicModelList","selectedProp","valueCollectorMap","option","input","componentProp","dataSource","dataConvert","urlParam","initParam","commonNodeMap","logo","eventNodeMap","pageInit","toolMap","zoomIn","zoomOut","fitView","selection","beautify","navigation","defaultLogo","requestMethodMap","optionValue","inputValue","componentValue","componentPropValue","dataSourceValue","dataConvertValue","urlParamValue","initParamValue","currentProp","keyDefine","keyType","valueDefine","valueCollector","actionItem","conditions","handleConditionChange","handleConditionDelete","addCondition","handleCombineTypeChange","combineType","combineRule","keyTypes","handleKeyChange","handleOperatorChange","operator","$set","comparisonOperators","valueTypes","handleCombineType","conditionItem","selectValue","eventOptions","isFetching","handleDsTypeChange","fetchMode","handleDsChange","$_importData","requestName","requestUrl","requestMethod","activeType","queryParamList","handleQueryParamsChange","queryParams","bodyParamList","handleBodyParamsChange","bodyParams","handleErrorChange","continueOnError","paramList","scopedSlots","_u","fn","scope","row","required","param","defaultValue","removeParam","addCustom","formatParam","paramType","convertParam","$_openDialog","dialogInfo","visible","minRows","$_cancelImport","$_confirmImport","$_getRequestMsg","res","strArr","parseQueryString","transJsonToTable","fieldType","fieldTypeName","getPropertyType","apiList","headerParams","created","api","getParamList","url","method","contentType","resourceId","tenant","extJson","reset","paramCollector","CurlImport","_m","handleParamChange","params","jumpType","target","system","formKey","sudaPageList","version","path","customUrl","handleCustomUrlChange","routeParams","route","idx","handleRouteParamKeyChange","handleRouteParamValueChange","deleteParam","addParam","hash","search","mapKeys","routerParams","convertList","source","handleResourceKeyChange","handleResourceValueChange","flask","convertCode","currentNode","currentEdge","mounted","reactions","map","handleCancel","conditionSetter","actionSetter","eventSetter","dsSetter","nameSetter","pageJumpSetter","dcSetter","addCommonNode","showConnectBlock","nodeOptions","connectToNode","handleNodeEnter","show","position","preNodeId","compOptions","hide","setTimeout","handleCompEnter","nodeData","addCompNode","properties","mode","text","toolList","currentTool","disabled","handleClick","undoAble","redoAble","tool","document","nodesep","ranksep","begin","isSelected","popVisible","getConditionItem","goCondition","insertNode","handleIconClick","arguments","isHovered","formatValue","hidePop","clientX","clientY","offsetX","offsetY","delay","placement","trigger","pointFilter","points","allPoints","pre","next","DISTANCE","ICON_HEIGHT","ICON_WIDTH","WORD_HEIGHT","LogicPolyline","PolylineEdge","super","vm","Vue","h","logicLineNode","getProperties","shouldUpdate","preProperties","JSON","stringify","getText","pointsList","sourceNodeId","targetNodeId","direction","positionData","targetInlines","getNodeIncomingEdge","lastPoint","lastPrePoint","Math","abs","addContainer","querySelector","$mount","style","className","LogicPolylineModel","PolylineEdgeModel","initEdgeData","offset","setAttributes","executeStatus","setZIndex","getEdgeStyle","stroke","strokeDasharray","strokeWidth","getEdgeAnimationStyle","animationDuration","setHovered","flag","setSelected","openEdgeAnimation","closeEdgeAnimation","initPoints","point","join","startPoint","endPoint","x1","y1","x2","y2","betterDistance","view","status","getClassName","handleMousedown","handleMouseup","getLogo","getName","warnings","selectNode","copyNode","getAbstract","content","showButton","goConfig","deleteNode","handleNext","eventIcon","reactionIcon","showAddPop","getWarning","enterNode","leaveNode","abstractContent","NEXT_X_DISTANCE","NEXT_Y_DISTANCE","BaseNodeView","HtmlNode","root","createElement","vueComponent","baseNode","setHtml","appendChild","editConfigModel","isSilentMode","getAnchorShape","anchorData","BaseNodeModel","HtmlNodeModel","editable","sourceRules","message","validate","sourceNode","targetNode","sourceAnchor","targetAnchor","setHeight","getOutlineStyle","hover","getDefaultAnchor","anchors","edgeAddable","addNode","nextY","isDeep","nodeModel","getNodeModelById","sourceId","leftTopX","leftTopY","rightBottomX","rightBottomY","existElements","getAreaElement","getHtmlPoint","newNode","addEdge","showContextMenu","ReactionNodeView","base","ReactionNodeModel","getNodeAbstract","getNodeLogo","CommonNodeView","CommonNodeModel","getNodeClassName","EventNodeView","EventNodeModel","waitTime","time","Promise","resolve","getUniqueId","random","toString","substring","genStartPos","bound","getBoundRect","maxY","Infinity","genNewNodePos","outgoingNodes","getNodeOutgoingNode","getNodesRect","minX","maxX","reduce","max","min","minY","getGraphData","genId","randomLength","prefix","substr","Date","now","Layout","paths","targetPath","targetStartNode","targetPathIndex","undefined","nodeMap","edgeMap","getBytesLength","word","totalLength","c","charCodeAt","match","layout","getPaths","startNode","layoutData","getLayoutData","newGraphData","edges","getData","edge","targetPathRect","nextPath","isOverlap","deltaY","newEdges","getEdgeModelById","calcPointsList","first","last","rect1","rect2","rankdir","align","layoutInstance","DagreLayout","pathNodeMap","spEdges","filter","size","spEdgesData","gridSize","startNodes","sort","a","b","getPath","start","find","outgoingEdges","getNodeOutgoingEdge","modelType","sourceNodeModel","targetNodeModel","newSourceNodeData","newTargetNodeData","Graph","selectedNodes","hoveredNodes","addHistory","selectNodesByModel","setProperties","hoverNodesByModel","seletedModel","hoverNode","clearNodesStatus","addNodeByDrop","e","getPointByClient","canvasPoint","canvasOverlayPosition","material","getMaterialByType","logicLine","preEdge","nextEdge","deleteEdge","pos","incommingEdges","incomingNodes","getNodeIncomingNode","newEdge","newNodeData","edgeData","endNode","shiftNextNodes","isLoopNode","addInitNode","initView","translate","Popover","popover","popoverTypeMap","Map","floatingMap","waitingCollection","renderedCollection","removeFloatingHandler","removeFloating","bind","registerPopover","popoverItem","set","container","lfContainer","createFloating","floating","left","top","inner","arrow","addEventListener","__id","delete","destroyPopover","removeEventListener","renderPopover","showPosition","getShowPosition","CanvasPointToHtmlPoint","startX","startY","posX","posY","get","element","floatingRect","removeChild","config","cloneDeep","uid","pluginName","isShowMenu","menuPosition","tipText","onDrop","onDragOver","initCanvas","autoExpand","hoverOutline","edgeSelectedOutline","plugins","keyboard","enabled","shortcuts","keys","grid","verticalLength","snapline","bezier","window","initEvents","initPopover","getGraphDataFromContext","graphData","setGraphDataToContext","getNodeOutgoing","createDefaultNode","dynamicKey","createDefaultLogic","propertyPanel","toolbar","LogicPanel","use","VueCompositionAPI","ElementUI","app","App","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","loaded","__webpack_modules__","call","m","amdO","deferred","O","result","chunkIds","priority","notFulfilled","fulfilled","j","every","r","n","getter","__esModule","d","definition","o","defineProperty","enumerable","g","globalThis","Function","obj","prototype","hasOwnProperty","Symbol","toStringTag","nmd","children","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","__webpack_exports__"],"sourceRoot":""}